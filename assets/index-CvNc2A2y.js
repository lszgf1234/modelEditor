import{c as Dt,g as u0,_ as Hi,o as pe,a as Me,b as j,n as c0,d as f0,m as d0,r as jr,e as Ii,E as en,f as tn,h as ve,i as K,u as U,w as V,F as Mi,j as Li,k as qr,p as h0,l as g0,t as Ua,q as Xu,v as p0,s as ki,x as dr,y as y0,z as qa,A as Va,B as m0,C as zu,D as qu,G as vi,H as x0,I as v0,J as Au,K as An,L as _0}from"./index-CFJyMO2-.js";var Vu={exports:{}};(function(i){(function(r,n){i.exports?i.exports=n():r.svg4everybody=n()})(Dt,function(){/*! svg4everybody v2.1.9 | github.com/jonathantneal/svg4everybody */function r(c,u,d){if(d){var g=document.createDocumentFragment(),m=!u.hasAttribute("viewBox")&&d.getAttribute("viewBox");m&&u.setAttribute("viewBox",m);for(var x=d.cloneNode(!0);x.childNodes.length;)g.appendChild(x.firstChild);c.appendChild(g)}}function n(c){c.onreadystatechange=function(){if(c.readyState===4){var u=c._cachedDocument;u||(u=c._cachedDocument=document.implementation.createHTMLDocument(""),u.body.innerHTML=c.responseText,c._cachedTarget={}),c._embeds.splice(0).map(function(d){var g=c._cachedTarget[d.id];g||(g=c._cachedTarget[d.id]=u.getElementById(d.id)),r(d.parent,d.svg,g)})}},c.onreadystatechange()}function o(c){function u(){for(var k=0;k<R.length;){var C=R[k],I=C.parentNode,le=s(I),H=C.getAttribute("xlink:href")||C.getAttribute("href");if(!H&&g.attributeName&&(H=C.getAttribute(g.attributeName)),le&&H){if(d)if(!g.validate||g.validate(H,le,C)){I.removeChild(C);var re=H.split("#"),ye=re.shift(),me=re.join("#");if(ye.length){var Ne=b[ye];Ne||(Ne=b[ye]=new XMLHttpRequest,Ne.open("GET",ye),Ne.send(),Ne._embeds=[]),Ne._embeds.push({parent:I,svg:le,id:me}),n(Ne)}else r(I,le,document.getElementById(me))}else++k,++L}else++k}(!R.length||R.length-L>0)&&E(u,67)}var d,g=Object(c),m=/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/,x=/\bAppleWebKit\/(\d+)\b/,v=/\bEdge\/12\.(\d+)\b/,T=/\bEdge\/.(\d+)\b/,D=window.top!==window.self;d="polyfill"in g?g.polyfill:m.test(navigator.userAgent)||(navigator.userAgent.match(v)||[])[1]<10547||(navigator.userAgent.match(x)||[])[1]<537||T.test(navigator.userAgent)&&D;var b={},E=window.requestAnimationFrame||setTimeout,R=document.getElementsByTagName("use"),L=0;d&&u()}function s(c){for(var u=c;u.nodeName.toLowerCase()!=="svg"&&(u=u.parentNode););return u}return o})})(Vu);var N0=Vu.exports;const w0=u0(N0),Zu={installed:!1};function T0(i){return Zu[i]}function b0(i,r){Zu[i]=r}const A0=""+new URL("symbol-defs-BnueV9H8.svg",import.meta.url).href,D0={__name:"icon",props:{iconSet:{type:String},icon:{type:String,default:""}},setup(i){T0("installed")||(w0(),b0("installed",!0));const r=i,n={"xlink:href":r.icon.indexOf("#")>0?r.icon:`${r.iconSet||A0}#${r.icon}`};return(o,s)=>(pe(),Me("svg",d0(o.$attrs,{class:"ej-icon"}),[j("use",c0(f0(n)),null,16)],16))}},_i=Hi(D0,[["__scopeId","data-v-5b2f706a"]]),Ke={..._i,install:i=>{i.component(_i.name,_i)}};class B0{constructor(){this.initData()}initData(){this.scaleRatio=1,this.maxWidth=0,this.maxHeight=0,this.scrollTop=0,this.scrollLeft=0,this.bufferWidth=40,this.chooseTargets=[],this.imgList={},this.editable=1,this.thumbnailWidth=150}load(r){const{id:n,data:o,externalFn:s,editable:c,fontFamily:u}=r;this._data=o,this.editable=c||1,this.fontFamily=u,this.externalFn=s,this.parentEl=document.getElementById(n),this.parentEl.setAttribute("style","overflow: hidden;");var d=getComputedStyle(this.parentEl);this.width=Number(d.width.replace(/px/g,"")),this.height=Number(d.height.replace(/px/g,"")),this.box=document.createElement("div"),this.box.setAttribute("style","position: relative; width: 100%; height: 100%;user-select:none;"),this.el=document.createElement("canvas"),this.el.width=this.width,this.el.height=this.height,this.el.setAttribute("style","position: absolute; z-index: 2;"),this.ctx=this.el.getContext("2d"),this.box.appendChild(this.el),this.cacheEl=document.createElement("canvas"),this.cacheEl.width=this.width,this.cacheEl.height=this.height,this.cacheCtx=this.cacheEl.getContext("2d"),this.thumbnailEl=document.createElement("canvas"),this.thumbnailEl.width=this.thumbnailWidth,this.thumbnailEl.height=this.thumbnailWidth,this.thumbnailEl.setAttribute("style","position: absolute; z-index: 3; bottom:15px; right: 15px;border: 3px solid rgba(192,192,192,0.5);border-radius: 3px;"),this.thumbnailCtx=this.thumbnailEl.getContext("2d"),this.box.appendChild(this.thumbnailEl),this.addCanvasAction(),this.scrollElPar=document.createElement("div"),this.scrollElPar.setAttribute("style","position:absolute;z-index:1;width:100%;height:100%;overflow:auto;opacity: 0;"),this.scrollEl=document.createElement("div"),this.scrollEl.setAttribute("style","width: 1px; height: 1px;"),this.scrollElPar.appendChild(this.scrollEl),this.box.appendChild(this.scrollElPar),this.parentEl.appendChild(this.box),this.init()}init(){this.update(),this.addListener()}_drawThumbnail(){const r=this.thumbnailCtx,n=this._data;r.save(),r.fillStyle="#fff",r.fillRect(0,0,this.thumbnailEl.width,this.thumbnailEl.height);const o=this.thumbnailScale=Math.min(this.thumbnailWidth/Math.max(this.maxWidth,this.width),this.thumbnailWidth/Math.max(this.maxHeight,this.height));r.scale(o,o);for(const s of n.nodeDataArray)if(!["inclusive","exclusive"].includes(s.type)){r.save();const c=Number(s.width)||100,u=Number(s.height)||50,d=Number(s.loc.x),g=Number(s.loc.y);r.fillStyle=s.bgC||"#fff",r.strokeStyle=s===this.focusTarget?"#477DE9":"#000",r.lineWidth=9.5,r.fillRect(d,g,c,u),r.strokeRect(d,g,c,u),r.restore()}r.fillStyle="rgba(0,0,0,0.2)",r.fillRect(this.scrollLeft/this.scaleRatio,this.scrollTop/this.scaleRatio,this.width/this.scaleRatio,this.height/this.scaleRatio),r.restore()}setEditable(r){this.editable=r,this.update()}addCanvasAction(){this.ctx.drawRoundedRect=this.cacheCtx.drawRoundedRect=function(r,n,o,s,c,u,d,g,m){var x=3;if(this.save(),this.beginPath(),g)for(var v=0;v++<2;)this.moveTo(r+x*v,n-x*(v-1)),this.arcTo(r+x*v,n-x*v,r+c+x*v,n-x*v,c),this.arcTo(r+o+x*v,n-x*v,r+o+x*v,n+c-x*v,c),this.arcTo(r+o+x*v,n+s-x*v,r+o-c+x*v,n+s-x*v,c),!c&&this.lineTo(r+o-c+x*(v-1),n+s-x*v);this.moveTo(r+c,n),this.arcTo(r+o,n,r+o,n+c,c),this.arcTo(r+o,n+s,r+o-c,n+s,c),this.arcTo(r,n+s,r,n+s-c,c),this.arcTo(r,n,r+c,n,c),m&&(this.shadowColor="#B0B0B0",this.shadowBlur=8,this.shadowOffsetX=3,this.shadowOffsetY=3),u&&this.fill(),d&&this.stroke(),this.restore()},this.cacheCtx.fittingString=function(r,n){let o=this.measureText(r).width;const s="…",c=this.measureText(s).width;if(o<=n||n<=c)return r;for(var u=r.length;o>=n-c&&u-- >0;)r=r.slice(0,u),o=this.measureText(r).width;return r+s}}update(r){r&&(this._data=r,this.focusTarget={}),this.maxWidth=0,this.maxHeight=0;var n=this.ctx,o=this.cacheCtx;n.font=o.font="15px "+this.fontFamily,o.save(),o.clearRect(0,0,this.width,this.height),o.translate(-this.scrollLeft,-this.scrollTop),o.scale(this.scaleRatio,this.scaleRatio),this._drawLine(),this._drawNodes(),this._drawMark(),this._drawNote(),o.restore(),n.save(),n.clearRect(0,0,this.width,this.height),n.translate(-this.scrollLeft,-this.scrollTop),n.scale(this.scaleRatio,this.scaleRatio),this._drawShading(),n.restore(),n.drawImage(this.cacheEl,0,0),this.resetScroll(),this._drawThumbnail(),this.editable===2&&this._drawLock()}_drawLock(){var r=this.ctx,n={x:this.width-40-.5,y:25-.5,w:20-.5,h:14-.5};r.save(),r.fillStyle="#eeb174",r.strokeStyle="#333",r.lineWidth=3,r.beginPath(),r.arc(n.x+n.w/2,n.y-3,n.w/3,0,Math.PI,1),r.stroke(),r.drawRoundedRect(n.x,n.y,n.w,n.h,2,!0,!0,!1,!1),r.restore()}_drawShading(){var r=this.ctx,n=Math.max(this.maxWidth,this.width,this.maxHeight,this.height)/(this.scaleRatio<1?this.scaleRatio:1);r.save();for(var o=0,s=10;o*s<n;)r.strokeStyle=o%4?"#F8F8F8":"#EBEBEB",r.beginPath(),r.moveTo(o*s-.5,-.5),r.lineTo(o*s-.5,n-.5+50),r.stroke(),++o;for(o=0;o*s<n;)r.strokeStyle=o%4?"#F8F8F8":"#EBEBEB",r.beginPath(),r.moveTo(-.5,o*s-.5),r.lineTo(n-.5+50,o*s-.5),r.stroke(),++o;r.restore()}_drawLine(){var r=this.cacheCtx,n=this;this._data.linkDataArray.forEach(o=>{r.save(),r.strokeStyle=o===n.focusTarget||o===n.hoverTarget?"#477DE9":"#000",r.lineWidth=o===n.focusTarget?3:1,o.type==="foreignKey"&&r.setLineDash([8,5]),o.pos.forEach((s,c)=>{c===0?(r.beginPath(),r.moveTo(s.x+.5,s.y+.5)):r.lineTo(s.x+.5,s.y+.5),s.x>n.maxWidth&&(n.maxWidth=s.x),s.y>n.maxHeight&&(n.maxHeight=s.y)}),r.stroke(),n._drawLineRelation(o),r.restore()})}_drawLineRelation(r){var n=this.cacheCtx,o=15,s=r.pos.length;if(n.save(),n.beginPath(),n.setLineDash([0,0]),r.pos[0].x===r.pos[1].x){const c=r.pos[1].y-r.pos[0].y,u=Math.abs(c)<10?c<0?r.pos[0].y-1:r.pos[0].y+1:c<0?r.pos[0].y-10:r.pos[0].y+10;n.moveTo(r.pos[0].x-o/2+.5,u+.5),n.lineTo(r.pos[0].x+o/2+.5,u+.5)}else{const c=r.pos[1].x-r.pos[0].x,u=Math.abs(c)<10?c<0?r.pos[0].x-1:r.pos[0].x+1:c<0?r.pos[0].x-10:r.pos[0].x+10;n.moveTo(u+.5,r.pos[0].y-o/2+.5),n.lineTo(u+.5,r.pos[0].y+o/2+.5)}if(r.pos[s-2].x===r.pos[s-1].x){const c=r.pos[s-1].y-r.pos[s-2].y,u=Math.abs(c)<10?c<0?r.pos[s-1].y+1:r.pos[s-1].y-1:c<0?r.pos[s-1].y+10:r.pos[s-1].y-10;if(n.moveTo(r.pos[s-1].x-o/2+.5,u+.5),n.lineTo(r.pos[s-1].x+o/2+.5,u+.5),n.stroke(),[1,2].includes(r.numLineTypes)&&(n.moveTo(r.pos[s-1].x-o/2+.5,r.pos[s-1].y+.5),n.lineTo(r.pos[s-1].x+.5,u+.5),n.lineTo(r.pos[s-1].x+o/2+.5,r.pos[s-1].y+.5),n.stroke()),[1,4].includes(r.numLineTypes)){n.beginPath();const d=r.pos[s-1].x,g=c<0?u+o/2:u-o/2;n.arc(d,g,(o-2)/2,0,360,!1),n.fillStyle="#fff",n.fill(),n.stroke()}}else{const c=r.pos[s-1].x-r.pos[s-2].x,u=Math.abs(c)<10?c<0?r.pos[s-1].x+1:r.pos[s-1].x-1:c<0?r.pos[s-1].x+10:r.pos[s-1].x-10;if(n.moveTo(u+.5,r.pos[s-1].y-o/2+.5),n.lineTo(u+.5,r.pos[s-1].y+o/2+.5),n.stroke(),[1,2].includes(r.numLineTypes)&&(n.moveTo(r.pos[s-1].x+.5,r.pos[s-1].y-o/2+.5),n.lineTo(u+.5,r.pos[s-1].y+.5),n.lineTo(r.pos[s-1].x+.5,r.pos[s-1].y+o/2+.5),n.stroke()),[1,4].includes(r.numLineTypes)){n.beginPath();const d=c<0?u+o/2:u-o/2,g=r.pos[s-1].y;n.arc(d,g,(o-2)/2,0,360,!1),n.fillStyle="#fff",n.fill(),n.stroke()}}n.restore()}_drawNodes(){var r=this;this._data.nodeDataArray.forEach(n=>{n!==r.focusTarget&&r._drawNode(n)}),this.focusTarget&&(this.focusTarget.attributes||this.focusTarget.type==="inclusive"||this.focusTarget.type==="exclusive")&&r._drawNode(this.focusTarget)}_drawNode(r){var n=this.cacheCtx;n.save();var o=Number(r.width)||100,s=Number(r.height)||50,c=Number(r.loc.x),u=Number(r.loc.y);if(n.strokeStyle=r===this.focusTarget||r===this.hoverTarget?"#477DE9":"#000",n.fillStyle=r.bgC||"#fff",["exclusive","inclusive"].includes(r.type)?(n.beginPath(),n.arc(c+o/2+.5,u+o/2+.5,o/2,0,Math.PI,1),n.closePath(),n.fill(),n.stroke(),r.type==="exclusive"&&(n.moveTo(c+12,u+6),n.lineTo(c+o-12,u+s-3),n.moveTo(c+o-12,u+6),n.lineTo(c+12,u+s-3),n.stroke())):n.drawRoundedRect(c+.5,u+.5,o,s,r.quotePrimaryKey?4:0,!0,!0,r.physicalTables&&r.physicalTables.length>1,!0),r.tableName&&this._drawTitle(r.tableName,o,c,u),r.attributes&&this._drawBody(r.attributes,o,s,c,u,r.bgC),r.checkoutInfo&&r.checkoutInfo.imgUrl)if(this.imgList[r.key]){const d=r.checkoutInfo.operator===1?"#53C41B":"#477DE9";this._drawIcon(this.imgList[r.key],o,c,u,d)}else this._loadImg(r);c+o>this.maxWidth&&(this.maxWidth=c+o),u+s>this.maxHeight&&(this.maxHeight=u+s),r===this.focusTarget&&!["exclusive","inclusive"].includes(r.type)&&this._drawFocus(c,u,o,s),n.restore()}_drawFocus(r,n,o,s){var c=this.cacheCtx;c.save(),c.fillStyle="#fff",c.strokeStyle="#B4B4B4",c.shadowColor="#DADADA",c.shadowBlur=5,c.fillRect(r-3,n-3,6,6),c.fillRect(r+o/2-3,n-3,6,6),c.fillRect(r+o-3,n-3,6,6),c.fillRect(r-3,n+s/2-3,6,6),c.fillRect(r+o-3,n+s/2-3,6,6),c.fillRect(r-3,n+s-3,6,6),c.fillRect(r+o/2-3,n+s-3,6,6),c.fillRect(r+o-3,n+s-3,6,6),c.strokeRect(r-3+.5,n-3+.5,6,6),c.strokeRect(r+o/2-3+.5,n-3+.5,6,6),c.strokeRect(r+o-3+.5,n-3+.5,6,6),c.strokeRect(r-3+.5,n+s/2-3+.5,6,6),c.strokeRect(r+o-3+.5,n+s/2-3+.5,6,6),c.strokeRect(r-3+.5,n+s-3+.5,6,6),c.strokeRect(r+o/2-3+.5,n+s-3+.5,6,6),c.strokeRect(r+o-3+.5,n+s-3+.5,6,6),c.restore()}_drawTitle(r,n,o,s){var c=this.cacheCtx;c.save(),c.font="15px "+this.fontFamily,c.fillStyle="#000",c.textAlign="left",c.textBaseline="top",c.fillText(c.fittingString(r,n-14),o,s-24),c.restore()}_drawBody(r=[],n,o,s,c,u="#fff"){var d=this.cacheCtx,g=8,m=16;d.save(),d.font="15px "+this.fontFamily,d.fillStyle=this.isLight(u)?"#000":"#fff",d.textAlign="left",d.textBaseline="top";var x=[],v=[];r.forEach(D=>{D.primaryKey?x.push(D):v.push(D)}),x.forEach((D,b)=>{var E=g+c+b*m;if(E+16<=o+c){let R=0;D.foreignKey&&(R=18,d.save(),d.font="12px "+this.fontFamily,d.fillStyle="#4D55D0",d.fillText("PF ",g+s,E+3),d.restore()),d.fillText(d.fittingString(D.attrName,n-g*2-R),g+s+R,E)}});var T=(x.length||1)*m+c+g;T<o+c&&(d.beginPath(),d.strokeStyle="#000",d.moveTo(s+.5,T+.5),d.lineTo(s+n+.5,T+.5),d.stroke()),v.forEach((D,b)=>{var E=g+T+b*m;if(E+16<=o+c){let R=0;D.foreignKey&&(R=11,d.save(),d.font="12px "+this.fontFamily,d.fillStyle="#4D55D0",d.fillText("F ",g+s,E+3),d.restore()),d.fillText(d.fittingString(D.attrName,n-g*2-R),g+s+R,E)}}),d.restore()}_loadImg(r){const n=this,o=new Image;o.src=r.checkoutInfo.imgUrl,o.onload=function(){n.imgList[r.key]=o,n.update()}}_drawIcon(r,n,o,s,c){const u=this.cacheCtx;u.save(),u.beginPath(),u.strokeStyle=c,u.lineWidth=3,u.arc(o+n-6,s-18,9,0,2*Math.PI),u.clip(),u.drawImage(r,o+n-15,s-27,18,18),u.stroke(),u.restore()}_drawMark(){const r=this.cacheCtx,n=this;this._data.markDataArray.forEach(s=>{var c=Number(s.width),u=Number(s.height),d=Number(s.loc.x),g=Number(s.loc.y);r.save(),r.lineWidth=2.5,r.strokeStyle=s.bdC||"#000000",r.drawRoundedRect(d+.5,g+.5,c,u,0,!1,!0,!1,!1),r.restore(),d+c>n.maxWidth&&(n.maxWidth=d+c),g+u>n.maxHeight&&(n.maxHeight=g+u),s===n.focusTarget&&n._drawFocus(d,g,c,u)})}_drawNote(){const r=this.cacheCtx,n=this;this._data.noteDataArray.forEach(s=>{var c=r.measureText(s.text).width,u=16,d=Number(s.loc.x),g=Number(s.loc.y);r.save(),r.font="15px "+this.fontFamily,r.fillStyle=s.color||"#000",r.textAlign="left",r.textBaseline="top",r.fillText(s.text,d,g),r.restore(),d+c>n.maxWidth&&(n.maxWidth=d+c),g+u>n.maxHeight&&(n.maxHeight=g+u),s===n.focusTarget&&n._drawFocus(d,g-2,c,u)})}_drawScroll(){var r=this.ctx;r.save(),r.fillStyle="#F8F9FA",r.fillRect(0,this.height-10,this.width,10),r.fillRect(this.width-10,0,10,this.height),n(this.scrollLeft/this.scrollElPar.scrollWidth*this.width,this.height-9,this.width*this.width/this.scrollElPar.scrollWidth,8,4),n(this.width-9,this.scrollTop/this.scrollElPar.scrollHeight*this.height,8,this.height*this.height/this.scrollElPar.scrollHeight,4),r.restore();function n(o,s,c,u,d){r.save(),r.fillStyle="#DFE0E1",r.drawRoundedRect(o,s,c,u,d,!0),r.restore()}}resetScroll(){var r=Math.max(this.width,this.maxWidth,this.height,this.maxHeight)*this.scaleRatio;this.scrollEl.style.width=this.scrollEl.style.height=r+"px"}resizeCanvas(){this.eventFn.resize.fn()}changeCanvasScale(r){this.ctx.clearRect(0,0,this.width,this.height),this.scaleRatio=r/100,this.update()}addListener(){var r=this,n=this.cacheCtx,o={},s=typeof window.onmousewheel=="object"?"mousewheel":"DOMMouseScroll";this.eventFn={mousedown:[{el:this.el,fn:function(c){var u=r._data,d=Math.floor((c.offsetX+r.scrollLeft)/r.scaleRatio),g=Math.floor((c.offsetY+r.scrollTop)/r.scaleRatio);if(r.editType==="addNode"){const b=Object.assign(r.addNodeDefaultAttr,{loc:{x:d-25,y:g-25},width:50,height:50});r.externalFn.addNode(b),r.addNodeDefaultAttr={},r.editType="",r.el.style.cursor="default",r.update();return}if(r.editType==="addMark"){const b={key:r.createKey(),loc:{x:d,y:g},width:0,height:0,type:"mark"};r.externalFn.addMark(b),r.editType="",r.el.style.cursor="default"}if(r.editType==="addNote"){const b={key:r.createKey(),loc:{x:d,y:g},text:"",type:"note"};r.externalFn.addNote(b),r.editType="",r.el.style.cursor="default"}for(let b=0,E=u.nodeDataArray.length;b<E;b++){var m=Number(u.nodeDataArray[b].width)||100,x=Number(u.nodeDataArray[b].height)||50,v=Number(u.nodeDataArray[b].loc.x),T=Number(u.nodeDataArray[b].loc.y);if(r.focusTarget&&d>v-3&&d<v+3&&g>T-3&&g<T+3){console.log("左上角"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="LT",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v+m/2-3&&d<v+m/2+3&&g>T-3&&g<T+3){console.log("上中"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="TM",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v+m-3&&d<v+m+3&&g>T-3&&g<T+3){console.log("右上角"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="RT",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v-3&&d<v+3&&g>T+x/2-3&&g<T+x/2+3){console.log("左中"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="LM",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v+m-3&&d<v+m+3&&g>T+x/2-3&&g<T+x/2+3){console.log("右中"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="RM",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v-3&&d<v+3&&g>T+x-3&&g<T+x+3){console.log("左下角"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="LB",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v+m/2-3&&d<v+m/2+3&&g>T+x-3&&g<T+x+3){console.log("下中"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="BM",o.target=u.nodeDataArray[b];return}else if(r.focusTarget&&d>v+m-3&&d<v+m+3&&g>T+x-3&&g<T+x+3){console.log("右下角"),r.focusTarget=u.nodeDataArray[b],o.targetDirection="RB",o.target=u.nodeDataArray[b];return}else if(d>v&&d<m+v&&g>T&&g<x+T){console.log("节点触发"),r.focusTarget=u.nodeDataArray[b],o.target=u.nodeDataArray[b],o.targetX=d-v,o.targetY=g-T,(r.editType==="primaryKey"||r.editType==="foreignKey"||r.editType==="branchLine")&&(r.chooseTargets.push(r.focusTarget),r.chooseTargets.length===2&&(r.editType==="branchLine"?r.createBranchLine():r.createLine(r.editType),r.chooseTargets=[],r.editType="",r.el.style.cursor="default")),r.update();return}else r.focusTarget={},r.update()}for(let b=0,E=u.linkDataArray.length;b<E;b++)for(let R=0,L=u.linkDataArray[b].pos.length;R<L;R++){var D=u.linkDataArray[b].pos[R+1];if(D&&d>=Math.min(u.linkDataArray[b].pos[R].x-5,D.x+5)&&d<=Math.max(u.linkDataArray[b].pos[R].x-5,D.x+5)&&g>=Math.min(u.linkDataArray[b].pos[R].y-5,D.y+5)&&g<=Math.max(u.linkDataArray[b].pos[R].y-5,D.y+5)){console.log("线段触发，触发起始点index："+R),r.focusTarget=u.linkDataArray[b],o.target=u.linkDataArray[b],o.targetLineStartPointIdx=R,r.update();return}}for(let b=0,E=u.noteDataArray.length;b<E;b++){var m=n.measureText(u.noteDataArray[b].text).width;console.log(m);var x=16,v=Number(u.noteDataArray[b].loc.x),T=Number(u.noteDataArray[b].loc.y);if(d>=v&&d<=v+m&&g>=T&&g<=T+x){console.log("文本触发"),o.type="note",r.focusTarget=u.noteDataArray[b],o.target=u.noteDataArray[b],o.targetX=d-v,o.targetY=g-T,r.update();return}}for(let b=0,E=u.markDataArray.length;b<E;b++){var m=Number(u.markDataArray[b].width),x=Number(u.markDataArray[b].height),v=Number(u.markDataArray[b].loc.x),T=Number(u.markDataArray[b].loc.y);if(r.focusTarget&&d>v+m-3&&d<v+m+3&&g>T+x-3&&g<T+x+3){console.log("右下角"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="RB",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v-3&&d<v+3&&g>T+x-3&&g<T+x+3){console.log("左下角"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="LB",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v-3&&d<v+3&&g>T-3&&g<T+3){console.log("左上角"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="LT",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v+m/2-3&&d<v+m/2+3&&g>T-3&&g<T+3){console.log("上中"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="TM",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v+m-3&&d<v+m+3&&g>T-3&&g<T+3){console.log("右上角"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="RT",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v-3&&d<v+3&&g>T+x/2-3&&g<T+x/2+3){console.log("左中"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="LM",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v+m-3&&d<v+m+3&&g>T+x/2-3&&g<T+x/2+3){console.log("右中"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="RM",o.target=u.markDataArray[b];return}else if(r.focusTarget&&d>v+m/2-3&&d<v+m/2+3&&g>T+x-3&&g<T+x+3){console.log("下中"),o.type="mark",r.focusTarget=u.markDataArray[b],o.targetDirection="BM",o.target=u.markDataArray[b];return}else if(d>v&&d<m+v&&g>T&&g<x+T){console.log("框触发"),o.type="mark",r.focusTarget=u.markDataArray[b],o.target=u.markDataArray[b],o.targetX=d-v,o.targetY=g-T,r.update();return}else r.focusTarget={},r.update()}o.button=c.button}},{el:this.thumbnailEl,fn:function(c){o.target=r.thumbnailEl}}],mouseup:[{el:this.el,fn:function(c){o={}}},{el:this.thumbnailEl,fn:function(c){o={}}}],mouseout:[{el:this.el,fn:function(c){o={}}},{el:this.thumbnailEl,fn:function(c){o={}}}],mousemove:[{el:this.el,fn:function(c){var u=r.throttle(function(){var d=r._data,g=Math.floor((c.offsetX+r.scrollLeft)/r.scaleRatio),m=Math.floor((c.offsetY+r.scrollTop)/r.scaleRatio);if(r.editable===1&&o.target&&!o.type&&!r.editType){let k=function(C,I){if(I[0].x===I[1].x){var le=Math.min(I[0].y,I[1].y),H=Math.max(I[0].y,I[1].y);return C.y>le&&C.y<H&&C.x===I[0].x}else if(I[0].y===I[1].y){var le=Math.min(I[0].x,I[1].x),H=Math.max(I[0].x,I[1].x);return C.x>le&&C.x<H&&C.y===I[0].y}else console.error("isPointBelongLine方法接收参数错误：传入lineLoc是一条斜线")};if(o.targetDirection)r.resizeNode(g,m,o);else if(o.target.loc){var x={x:g-o.targetX,y:m-o.targetY};if(o.target.loc.x===x.x&&o.target.loc.y===x.y)return;d.linkDataArray.forEach(C=>{(C.from===o.target.key||C.to===o.target.key)&&(C.from===C.to?r.moveLineForSameNode(C,o):r.moveLineForNode(C,o,x))}),o.target.loc=x}else{var v={x:g,y:m};for(let C=0,I=o.target.pos.length-1;C<I;C++)if(o.lastEvLoc&&k(o.lastEvLoc,[o.target.pos[C],o.target.pos[C+1]])){o.targetLineStartPointIdx=C;break}o.lastEvLoc=v,console.log("线段移动中，"+o.targetLineStartPointIdx),r.moveLineForLine(o,v)}r.update()}else if(r.editable===1&&o.target&&o.type==="mark"){if(o.targetDirection)r.resizeNode(g,m,o,1);else if(o.target.loc){var x={x:g-o.targetX,y:m-o.targetY};o.target.loc=x}r.update()}else if(r.editable===1&&o.target&&o.type==="note"){var T={x:g-o.targetX,y:m-o.targetY};o.target.loc=T,r.update()}else if(typeof o.button=="number")r.el.style.cursor="move",r.scrollElPar.scrollTop=r.scrollTop-c.movementY,r.scrollElPar.scrollLeft=r.scrollLeft-c.movementX;else if(r.editType==="addNode")r.el.style.cursor="crosshair";else if(r.editType==="addMark")r.el.style.cursor="crosshair";else if(r.editType==="addNote")r.el.style.cursor="text";else if(r.editType==="primaryKey"||r.editType==="foreignKey"||r.editType==="branchLine")r.el.style.cursor="crosshair";else{for(let k=0,C=d.linkDataArray.length;k<C;k++)for(let I=0,le=d.linkDataArray[k].pos.length;I<le;I++){var D=d.linkDataArray[k].pos[I+1];if(D&&g>=Math.min(d.linkDataArray[k].pos[I].x-5,D.x+5)&&g<=Math.max(d.linkDataArray[k].pos[I].x-5,D.x+5)&&m>=Math.min(d.linkDataArray[k].pos[I].y-5,D.y+5)&&m<=Math.max(d.linkDataArray[k].pos[I].y-5,D.y+5)){console.log("线"),r.hoverTarget=d.linkDataArray[k],r.el.style.cursor="move",r.update();return}}for(let k=0,C=d.nodeDataArray.length;k<C;k++){var b=Number(d.nodeDataArray[k].width)||100,E=Number(d.nodeDataArray[k].height)||50,R=Number(d.nodeDataArray[k].loc.x),L=Number(d.nodeDataArray[k].loc.y);if(r.focusTarget&&g>R-3&&g<R+3&&m>L-3&&m<L+3){console.log("左上角"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="se-resize",r.update();return}else if(r.focusTarget&&g>R+b/2-3&&g<R+b/2+3&&m>L-3&&m<L+3){console.log("上中"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="s-resize",r.update();return}else if(r.focusTarget&&g>R+b-3&&g<R+b+3&&m>L-3&&m<L+3){console.log("右上角"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="ne-resize",r.update();return}else if(r.focusTarget&&g>R-3&&g<R+3&&m>L+E/2-3&&m<L+E/2+3){console.log("左中"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="w-resize",r.update();return}else if(r.focusTarget&&g>R+b-3&&g<R+b+3&&m>L+E/2-3&&m<L+E/2+3){console.log("右中"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="w-resize",r.update();return}else if(r.focusTarget&&g>R-3&&g<R+3&&m>L+E-3&&m<L+E+3){console.log("左下角"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="ne-resize",r.update();return}else if(r.focusTarget&&g>R+b/2-3&&g<R+b/2+3&&m>L+E-3&&m<L+E+3){console.log("下中"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="s-resize",r.update();return}else if(r.focusTarget&&g>R+b-3&&g<R+b+3&&m>L+E-3&&m<L+E+3){console.log("右下角"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="se-resize",r.update();return}else if(g>R&&g<b+R&&m>L&&m<E+L){console.log("块"),r.hoverTarget=d.nodeDataArray[k],r.el.style.cursor="move",r.update();return}}for(let k=0,C=d.markDataArray.length;k<C;k++){var b=Number(d.markDataArray[k].width),E=Number(d.markDataArray[k].height),R=Number(d.markDataArray[k].loc.x),L=Number(d.markDataArray[k].loc.y);if(r.focusTarget&&g>R-3&&g<R+3&&m>L-3&&m<L+3){console.log("左上角"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="se-resize",r.update();return}else if(r.focusTarget&&g>R+b/2-3&&g<R+b/2+3&&m>L-3&&m<L+3){console.log("上中"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="s-resize",r.update();return}else if(r.focusTarget&&g>R+b-3&&g<R+b+3&&m>L-3&&m<L+3){console.log("右上角"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="ne-resize",r.update();return}else if(r.focusTarget&&g>R-3&&g<R+3&&m>L+E/2-3&&m<L+E/2+3){console.log("左中"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="w-resize",r.update();return}else if(r.focusTarget&&g>R+b-3&&g<R+b+3&&m>L+E/2-3&&m<L+E/2+3){console.log("右中"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="w-resize",r.update();return}else if(r.focusTarget&&g>R-3&&g<R+3&&m>L+E-3&&m<L+E+3){console.log("左下角"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="ne-resize",r.update();return}else if(r.focusTarget&&g>R+b/2-3&&g<R+b/2+3&&m>L+E-3&&m<L+E+3){console.log("下中"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="s-resize",r.update();return}else if(r.focusTarget&&g>R+b-3&&g<R+b+3&&m>L+E-3&&m<L+E+3){console.log("右下角"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="se-resize",r.update();return}else if(g>R&&g<b+R&&m>L&&m<E+L){console.log("块"),r.hoverTarget=d.markDataArray[k],r.el.style.cursor="move",r.update();return}}for(let k=0,C=d.noteDataArray.length;k<C;k++){var b=n.measureText(d.noteDataArray[k].text).width,E=16,R=Number(d.noteDataArray[k].loc.x),L=Number(d.noteDataArray[k].loc.y);if(g>=R&&g<=R+b&&m>=L&&m<=L+E){r.hoverTarget=d.noteDataArray[k],r.el.style.cursor="move",r.update();return}}r.el.style.cursor="default",r.hoverTarget={},r.update()}});u(c)}},{el:this.thumbnailEl,fn:function(c){var u=r.throttle(function(){o.target===r.thumbnailEl&&(r.scrollElPar.scrollTop=r.scrollTop+c.movementY*r.scaleRatio/r.thumbnailScale,r.scrollElPar.scrollLeft=r.scrollLeft+c.movementX*r.scaleRatio/r.thumbnailScale)});u(c)}}],keyup:{el:window,fn:function(c){r.editable===1&&c.keyCode===46&&Object.keys(r.focusTarget).length?(r.focusTarget.attributes?r.externalFn.delNode&&r.externalFn.delNode(r.focusTarget.key):["exclusive","inclusive"].includes(r.focusTarget.type)?r.externalFn.delFilter&&r.externalFn.delFilter(r.focusTarget.key):["primaryKey","foreignKey","toFilter","fromFilter"].includes(r.focusTarget.type)?r.externalFn.delLine&&r.externalFn.delLine(r.focusTarget.key):r.focusTarget.type==="mark"?r.externalFn.delMark&&r.externalFn.delMark(r.focusTarget.key):r.focusTarget.type==="note"?r.externalFn.delNote&&r.externalFn.delNote(r.focusTarget.key):console.error(`未检测到删除对象所属类型：${r.focusTarget}`),r.focusTarget={}):c.keyCode===27&&(r.editType="",r.chooseTargets=[],r.el.style.cursor="default")}},resize:{el:window,fn:function(){var c=r.throttle(function(){const u=r.parentEl.clientWidth,d=r.parentEl.clientHeight;r.el.width=r.cacheEl.width=r.width=u,r.el.height=r.cacheEl.height=r.height=d,r.update()},100);c()}},dblclick:{el:this.el,fn:function(c){Object.keys(r.focusTarget).length&&(r.focusTarget.attributes?r.externalFn.dbEntity&&r.externalFn.dbEntity(r.focusTarget.key):["exclusive","inclusive"].includes(r.focusTarget.type)?r.externalFn.dbFilter&&r.externalFn.dbFilter(r.focusTarget.key):["primaryKey","foreignKey","toFilter","fromFilter"].includes(r.focusTarget.type)?r.externalFn.dbLine&&r.externalFn.dbLine(r.focusTarget.key):r.focusTarget.type==="mark"?r.externalFn.dbMark&&r.externalFn.dbMark(r.focusTarget.key):r.focusTarget.type==="note"?r.externalFn.dbNote&&r.externalFn.dbNote(r.focusTarget.key):console.error(`未检测到双击对象所属类型：${r.focusTarget}`))}},scroll:{el:this.scrollElPar,fn:function(c){r.scrollTop=c.target.scrollTop,r.scrollLeft=c.target.scrollLeft,r.update()}},[s]:{el:this.el,fn:function(c){var u=s==="mousewheel"?30:-30;console.log("滚动"),c.wheelDelta<0?r.scrollElPar.scrollTop=r.scrollTop+u:r.scrollElPar.scrollTop=r.scrollTop-u}}};for(const c in this.eventFn){const u=Array.isArray(this.eventFn[c])?this.eventFn[c]:[this.eventFn[c]];for(const d of u)d.el.addEventListener(c,d.fn)}}removeListener(){for(let r in this.eventFn){const n=Array.isArray(this.eventFn[r])?this.eventFn[r]:[this.eventFn[r]];for(const o of n)o.el.removeEventListener(r,o.fn)}}getPointBelongBord(r,n){if(n.x===r.loc.x)return"L";if(n.x===r.loc.x+r.width)return"R";if(n.y===r.loc.y)return"T";if(n.y===r.loc.y+r.height)return"B";console.error("getPointBelongBord未找到匹配边，detail:",JSON.parse(JSON.stringify(r)),JSON.parse(JSON.stringify(n)))}resizeNode(r,n,o,s=50){if(["exclusive","inclusive"].includes(o.target.type))return;var c=this,u=JSON.parse(JSON.stringify(o.target));if(o.targetDirection==="LT"){var d=o.target.width+o.target.loc.x-r,g=o.target.height+o.target.loc.y-n;o.target.loc.x=d<s?o.target.loc.x:r,o.target.loc.y=g<s?o.target.loc.y:n,o.target.width=d<s?o.target.width:d,o.target.height=g<s?o.target.height:g,m()}else if(o.targetDirection==="TM"){var g=o.target.height+o.target.loc.y-n;o.target.loc.y=g<s?o.target.loc.y:n,o.target.height=g<s?o.target.height:g,m()}else if(o.targetDirection==="RT"){var d=r-o.target.loc.x,g=o.target.height+o.target.loc.y-n;o.target.loc.y=g<s?o.target.loc.y:n,o.target.width=d<s?o.target.width:d,o.target.height=g<s?o.target.height:g,m()}else if(o.targetDirection==="LM"){var d=o.target.width+o.target.loc.x-r;o.target.loc.x=d<s?o.target.loc.x:r,o.target.width=d<s?o.target.width:d,m()}else if(o.targetDirection==="RM"){var d=r-o.target.loc.x;o.target.width=d<s?o.target.width:d,m()}else if(o.targetDirection==="LB"){var d=o.target.width+o.target.loc.x-r,g=n-o.target.loc.y;o.target.loc.x=d<s?o.target.loc.x:r,o.target.width=d<s?o.target.width:d,o.target.height=g<s?o.target.height:g,m()}else if(o.targetDirection==="BM"){var g=n-o.target.loc.y;o.target.height=g<s?o.target.height:g,m()}else if(o.targetDirection==="RB"){var d=r-o.target.loc.x,g=n-o.target.loc.y;o.target.width=d<s?o.target.width:d,o.target.height=g<s?o.target.height:g,m()}function m(){if(!s)return;c._data.linkDataArray.forEach(v=>{const T=v.from!==v.to;v.from===o.target.key&&(T&&x(v,0),T?c.moveLineForNode(v,o,o.target.loc):c.moveLineForSameNode(v,o)),v.to===o.target.key&&(T&&x(v,v.pos.length-1),T?c.moveLineForNode(v,o,o.target.loc):c.moveLineForSameNode(v,o))});function x(v,T){v.pos[T].x===u.loc.x?(v.pos[T].x=o.target.loc.x,v.pos[T].y=v.pos[T].y<o.target.loc.y?o.target.loc.y+1:v.pos[T].y>o.target.loc.y+o.target.height?o.target.loc.y+o.target.height-1:v.pos[T].y):v.pos[T].x===u.loc.x+u.width?(v.pos[T].x=o.target.loc.x+o.target.width,v.pos[T].y=v.pos[T].y<o.target.loc.y?o.target.loc.y+1:v.pos[T].y>o.target.loc.y+o.target.height?o.target.loc.y+o.target.height-1:v.pos[T].y):v.pos[T].y===u.loc.y?(v.pos[T].x=v.pos[T].x<=o.target.loc.x?o.target.loc.x+1:v.pos[T].x>=o.target.loc.x+o.target.width?o.target.loc.x+o.target.width-1:v.pos[T].x,v.pos[T].y=o.target.loc.y):v.pos[T].y===u.loc.y+u.height&&(v.pos[T].x=v.pos[T].x<=o.target.loc.x?o.target.loc.x+1:v.pos[T].x>=o.target.loc.x+o.target.width?o.target.loc.x+o.target.width-1:v.pos[T].x,v.pos[T].y=o.target.loc.y+o.target.height)}}}getNodePosFromBoreder(r,n){var o={};switch(n){case"T":o={start:r.loc,end:{x:r.loc.x+r.width,y:r.loc.y}};break;case"B":o={start:{x:r.loc.x,y:r.loc.y+r.height},end:{x:r.loc.x+r.width,y:r.loc.y+r.height}};break;case"L":o={start:r.loc,end:{x:r.loc.x,y:r.loc.y+r.height}};break;case"R":o={start:{x:r.loc.x+r.width,y:r.loc.y},end:{x:r.loc.x+r.width,y:r.loc.y+r.height}};break}return o}moveLineForNode(r,n,o){var s,c,u=0,d=r.pos.length-1,g={x:o.x-n.target.loc.x,y:o.y-n.target.loc.y};this._data.nodeDataArray.forEach(E=>{u!==2&&(E.key===r.from&&(s=E,++u),E.key===r.to&&(c=E,++u))});var m=this.getPointBelongBord(s,r.pos[0]),x=this.getPointBelongBord(c,r.pos[d]),v=n.target.key===s.key;if(v?(r.pos[0].x=o.x+Math.abs(n.target.loc.x-r.pos[0].x),r.pos[0].y=o.y+Math.abs(n.target.loc.y-r.pos[0].y)):(r.pos[d].x=o.x+Math.abs(n.target.loc.x-r.pos[d].x),r.pos[d].y=o.y+Math.abs(n.target.loc.y-r.pos[d].y)),d===1)r.pos.splice(1,0,{x:r.pos[0].x,y:r.pos[0].y},{x:r.pos[0].x,y:r.pos[0].y});else if(d===2)if(m==="R"&&x==="B"){if(this.getNodePosFromBoreder(c,"B").start.y<r.pos[0].y)r.pos[1]={x:r.pos[2].x,y:r.pos[0].y};else{const E=this.getNodePosFromBoreder(s,"R").start.x<this.getNodePosFromBoreder(c,"L").start.x?this.getNodePosFromBoreder(c,"L").start.x:this.getNodePosFromBoreder(c,"R").start.x;r.pos[1]={x:E+(v?0:g.x),y:r.pos[0].y+g.y},r.pos.splice(2)}r.pos[2]&&r.pos[2].x<=r.pos[0].x&&(r.pos[0]={x:r.pos[0].x-1,y:s.loc.y+(v?g.y:0)},r.pos[1]={x:r.pos[2].x,y:r.pos[2].y},r.pos.splice(2))}else m==="B"&&x==="R"?(s.loc.y+s.height<r.pos[1].y?r.pos[1]={x:r.pos[0].x,y:r.pos[2].y}:["exclusive","inclusive"].includes(s.type)?(r.pos[1]={x:r.pos[0].x,y:Math.max(this.getNodePosFromBoreder(s,"B").start.y,this.getNodePosFromBoreder(c,"B").start.y)+20},r.pos[2]={x:c.loc.x+Math.floor(c.width/2)+(v?0:g.x),y:r.pos[1].y},r.pos[3]={x:r.pos[2].x,y:this.getNodePosFromBoreder(c,"B").start.y+(v?0:g.y)}):(r.pos[0]={x:s.loc.x+(n.target.key===s.key?g.x:0),y:r.pos[1].y},r.pos[1]={x:r.pos[2].x,y:r.pos[2].y},r.pos.splice(2)),r.pos[1].x<c.loc.x+c.width&&(r.pos[1].y=c.loc.y+(n.target.key===c.key?g.y:0),r.pos.splice(2))):m==="L"&&x==="B"?(this.getNodePosFromBoreder(c,"B").start.y<r.pos[0].y?r.pos[1]={x:r.pos[2].x,y:r.pos[0].y}:(r.pos[1]={x:c.loc.x+c.width+(n.target.key===c.key?g.x:0),y:r.pos[0].y},r.pos.splice(2)),r.pos[1].x>=n.target.loc.x&&this.getNodePosFromBoreder(c,"B").start.y<this.getNodePosFromBoreder(s,"T").start.y&&(r.pos[0]={x:r.pos[0].x+(v?g.x:0)-1,y:s.loc.y+(v?g.y:0)},r.pos[1]={x:r.pos[2].x,y:r.pos[2].y},r.pos.splice(2))):m==="B"&&x==="L"?(r.pos[1].x=r.pos[0].x,r.pos[1].y=r.pos[2].y,r.pos[1].x>c.loc.x&&(r.pos[1].y=c.loc.y+(n.target.key===c.key?g.y:0),r.pos.splice(2)),r.pos[1].y<r.pos[0].y&&(["exclusive","inclusive"].includes(s.type)?(r.pos[1]={x:r.pos[0].x,y:Math.max(this.getNodePosFromBoreder(s,"B").start.y,this.getNodePosFromBoreder(c,"B").start.y)+20},r.pos[2]={x:c.loc.x+Math.floor(c.width/2)+(v?0:g.x),y:r.pos[1].y},r.pos[3]={x:r.pos[2].x,y:this.getNodePosFromBoreder(c,"B").start.y+(v?0:g.y)}):(r.pos[1].x=this.getNodePosFromBoreder(s,"R").start.x+(n.target.key===s.key?g.x:0),r.pos[1].y=this.getNodePosFromBoreder(s,"B").start.y+(n.target.key===s.key?g.y:0),r.pos.splice(0,1)))):m==="R"&&x==="T"?(r.pos[1].x=r.pos[2].x,r.pos[1].y=r.pos[0].y,r.pos[1].x<r.pos[0].x&&(r.pos[1].y=this.getNodePosFromBoreder(s,"B").start.y+(n.target.key===s.key?g.y:0),r.pos.splice(0,1)),r.pos[2]&&r.pos[1].y>r.pos[2].y&&(["exclusive","inclusive"].includes(c.type)?(r.pos[0]={x:s.loc.x+Math.floor(s.width/2),y:s.loc.y+(v?g.y:0)},r.pos[1]={x:r.pos[0].x,y:r.pos[0].y-20},r.pos[2]={x:r.pos[2].x,y:r.pos[1].y},r.pos[3]={x:r.pos[2].x,y:c.loc.y+(v?0:g.y)}):(r.pos[1].x=c.loc.x+(v?0:g.x),r.pos[1].y=c.loc.y+(v?0:g.y),r.pos.splice(2)))):m==="T"&&x==="R"?(r.pos[1].x=r.pos[0].x,r.pos[1].y=r.pos[2].y,r.pos[1].x<r.pos[2].x&&(r.pos[1].y=this.getNodePosFromBoreder(c,"B").start.y+(n.target.key===c.key?g.y:0),r.pos.splice(2)),r.pos[0].y<r.pos[1].y&&(r.pos[1].x=s.loc.x+(n.target.key===s.key?g.x:0),r.pos[1].y=s.loc.y+(n.target.key===s.key?g.y:0),r.pos.splice(0,1))):m==="T"&&x==="L"?(r.pos[1].x=r.pos[0].x,r.pos[1].y=r.pos[2].y,r.pos[1].x>r.pos[2].x&&(r.pos[1].y=this.getNodePosFromBoreder(c,"B").start.y+(n.target.key===c.key?g.y:0),r.pos.splice(2)),r.pos[1].y>r.pos[0].y&&(r.pos[1].x=this.getNodePosFromBoreder(s,"R").start.x+(n.target.key===s.key?g.x:0),r.pos.splice(0,1))):m==="L"&&x==="T"&&(r.pos[1].x=r.pos[2].x,r.pos[1].y=r.pos[0].y,r.pos[1].y>r.pos[2].y&&(["exclusive","inclusive"].includes(c.type)?(r.pos[0]={x:s.loc.x+Math.floor(s.width/2),y:s.loc.y+(v?g.y:0)},r.pos[1]={x:r.pos[0].x,y:r.pos[0].y-20},r.pos[2]={x:r.pos[2].x,y:r.pos[1].y},r.pos[3]={x:r.pos[2].x,y:c.loc.y+(v?0:g.y)}):(r.pos[1].x=this.getNodePosFromBoreder(c,"R").start.x+(n.target.key===c.key?g.x:0),r.pos.splice(2))),r.pos[1].x>r.pos[0].x&&(r.pos[1].y=this.getNodePosFromBoreder(s,"B").start.y+(n.target.key===s.key?g.y:0),r.pos.splice(0,1)));else if(d===3){var T=Math.floor(Math.abs(r.pos[0].x-r.pos[d].x)/2),D=Math.floor(Math.abs(r.pos[0].y-r.pos[d].y)/2);if(m==="B"&&x==="B")if(this.getNodePosFromBoreder(s,"T").start.y<this.getNodePosFromBoreder(c,"B").start.y)if(this.getNodePosFromBoreder(s,"B").start.y<r.pos[1].y){const E=r.pos[2].y-c.loc.y-c.height+r.pos[3].y;r.pos[0]={x:r.pos[0].x,y:r.pos[0].y},r.pos[1]={x:r.pos[0].x,y:E},r.pos[2]={x:r.pos[3].x,y:E}}else{const E=s.loc.x+s.width>r.pos[3].x?s.loc.x:s.loc.x+s.width,R=r.pos[2].y-c.loc.y-c.height+r.pos[3].y;r.pos[0]={x:E+(n.target.key===s.key?g.x:0),y:R},r.pos[1]={x:r.pos[3].x,y:R},r.pos[2]={x:r.pos[3].x,y:r.pos[3].y},r.pos.splice(3)}else["exclusive","inclusive"].includes(s.type)?(r.pos[1]={x:r.pos[0].x,y:s.loc.y+s.height+20},r.pos[2]={x:r.pos[3].x,y:r.pos[1].y}):(console.log("T->B"),r.pos[0]={x:r.pos[0].x,y:r.pos[0].y-s.height},r.pos[1]={x:r.pos[0].x,y:r.pos[0].y+Math.floor((s.loc.y-c.loc.y-c.height)/2)},r.pos[2]={x:r.pos[3].x,y:r.pos[0].y+Math.floor((s.loc.y-c.loc.y-c.height)/2)});else if(m==="B"&&x==="T")s.loc.y+s.height<c.loc.y?(r.pos[1]={x:r.pos[0].x,y:r.pos[0].y+D},r.pos[2]={x:r.pos[3].x,y:r.pos[0].y+D}):s.loc.y+s.height>=c.loc.y&&(["exclusive","inclusive"].includes(c.type)?(r.pos[0]={x:r.pos[0].x,y:r.pos[0].y-s.height},r.pos[1]={x:r.pos[0].x,y:r.pos[0].y-20},r.pos[2]={x:r.pos[3].x,y:r.pos[1].y}):(console.log("B->B"),r.pos[1]={x:r.pos[0].x,y:c.loc.y+c.height+20},r.pos[2]={x:r.pos[3].x,y:c.loc.y+c.height+20},r.pos[3]={x:r.pos[3].x,y:r.pos[3].y+c.height}));else if(m==="T"&&x==="T")if(["exclusive","inclusive"].includes(s.type)||["exclusive","inclusive"].includes(c.type)){var b=r.pos[1].y+g.y>Math.min(s.loc.y,c.loc.y)-20?Math.min(s.loc.y,c.loc.y)-20:r.pos[1].y+g.y;r.pos[1]={x:r.pos[0].x,y:b},r.pos[2]={x:r.pos[3].x,y:b}}else r.pos[1].y<n.target.loc.y?(r.pos[1]={x:r.pos[0].x,y:r.pos[1].y},r.pos[2]={x:r.pos[3].x,y:r.pos[2].y}):(console.log("B->B"),r.pos[0]={x:r.pos[0].x,y:r.pos[0].y+s.height},r.pos[1]={x:r.pos[0].x,y:Math.max(s.loc.y+s.height,c.loc.y+c.height)+20},r.pos[2]={x:r.pos[3].x,y:Math.max(s.loc.y+s.height,c.loc.y+c.height)+20},r.pos[3]={x:r.pos[3].x,y:r.pos[3].y+c.height});else m==="T"&&x==="B"?s.loc.y>c.loc.y+c.height?(r.pos[1]={x:r.pos[0].x,y:r.pos[0].y-D},r.pos[2]={x:r.pos[3].x,y:r.pos[3].y+D}):s.loc.y<=c.loc.y+c.height&&(console.log("B->B"),r.pos[0]={x:r.pos[0].x,y:r.pos[0].y+s.height},r.pos[1]={x:r.pos[0].x,y:r.pos[0].y+20},r.pos[2]={x:r.pos[3].x,y:r.pos[0].y+20}):m==="L"&&x==="L"?(n.target.key===c.key?(r.pos[2]={x:o.x-(c.loc.x-r.pos[2].x),y:r.pos[3].y},r.pos[1]={x:r.pos[2].x,y:r.pos[0].y}):r.pos[1]={x:r.pos[2].x,y:r.pos[0].y},r.pos[1].x>s.loc.x&&r.pos[1].x<s.loc.x+s.width&&(console.log("变成二折"),r.pos.splice(0,1),++r.pos[0].x,r.pos[0].y=(r.pos[1].y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y)+(n.target.key===s.key?g.y:0))):m==="L"&&x==="R"?s.loc.x>c.loc.x+c.width?(r.pos[1]={x:r.pos[0].x-T,y:r.pos[0].y},r.pos[2]={x:r.pos[1].x,y:r.pos[3].y}):(r.pos[0]={x:r.pos[0].x+s.width,y:r.pos[0].y},r.pos[1]={x:r.pos[0].x+20,y:r.pos[0].y},r.pos[2]={x:r.pos[0].x+20,y:r.pos[3].y}):m==="R"&&x==="L"?s.loc.x+s.width<c.loc.x?(r.pos[1]={x:r.pos[0].x+T,y:r.pos[0].y},r.pos[2]={x:r.pos[0].x+T,y:r.pos[3].y}):(r.pos[1]={x:r.pos[0].x+c.width+20,y:r.pos[0].y},r.pos[2]={x:r.pos[0].x+c.width+20,y:r.pos[3].y},r.pos[3]={x:r.pos[3].x+c.width,y:r.pos[3].y}):m==="R"&&x==="R"&&(n.target.key===c.key?(r.pos[2]={x:o.x-(c.loc.x-r.pos[2].x),y:r.pos[3].y},r.pos[1]={x:r.pos[2].x,y:r.pos[0].y}):r.pos[1]={x:r.pos[2].x,y:r.pos[0].y},r.pos[1].x>s.loc.x&&r.pos[1].x<s.loc.x+s.width&&(console.log("变成二折"),r.pos.splice(0,1),--r.pos[0].x,r.pos[0].y=(r.pos[1].y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y)+(n.target.key===s.key?g.y:0)))}}moveLineForSameNode(r,n){console.log(20,20);const c=r.pos[1].x-r.pos[0].x,u=r.pos[2].y-r.pos[1].y;r.pos[0]={x:n.target.loc.x+n.target.width,y:n.target.loc.y+n.target.height-20},r.pos[4]={x:n.target.loc.x+n.target.width-20,y:n.target.loc.y+n.target.height},r.pos[1]={x:r.pos[0].x+c,y:r.pos[0].y},r.pos[2]={x:r.pos[1].x,y:r.pos[1].y+u},r.pos[3]={x:r.pos[4].x,y:r.pos[2].y}}moveLineForLine(r,n){var o,s,c=0,u=r.target.pos,d=u.length-1;if(this._data.nodeDataArray.forEach(x=>{x.key===r.target.from&&(o=x,c++),x.key===r.target.to&&(s=x,c++)}),["exclusive","inclusive"].includes(o.type)){if(r.targetLineStartPointIdx===0&&u[r.targetLineStartPointIdx].x===u[r.targetLineStartPointIdx+1].x&&(this.getNodePosFromBoreder(o,"L").start.x>=n.x||this.getNodePosFromBoreder(o,"R").start.x<=n.x)||r.targetLineStartPointIdx===1&&u[r.targetLineStartPointIdx].y===u[r.targetLineStartPointIdx+1].y&&this.getNodePosFromBoreder(o,"B").start.y>=n.y||r.targetLineStartPointIdx===2&&u[r.targetLineStartPointIdx].x===u[r.targetLineStartPointIdx+1].x&&(this.getNodePosFromBoreder(s,"L").start.x>=n.x||this.getNodePosFromBoreder(s,"R").start.x<=n.x))return}else if(["exclusive","inclusive"].includes(s.type)&&(d===1||d===2&&r.targetLineStartPointIdx===1||d===2&&r.targetLineStartPointIdx===0&&this.getNodePosFromBoreder(s,"T").start.y<n.y||d===3&&r.targetLineStartPointIdx===2||d===3&&r.targetLineStartPointIdx===1&&this.getNodePosFromBoreder(s,"T").start.y<n.y||d===3&&r.targetLineStartPointIdx===0&&(this.getNodePosFromBoreder(o,"L").start.x>=n.x||this.getNodePosFromBoreder(o,"R").start.x<=n.x)))return;d===1?u[0].y===u[1].y?(u[0].y=n.y,u[1].y=n.y,(this.getNodePosFromBoreder(o,"T").start.y>n.y||this.getNodePosFromBoreder(o,"B").start.y<n.y)&&(u[0].x=o.loc.x+o.width/2,u.unshift({x:o.loc.x+o.width/2,y:this.getNodePosFromBoreder(o,"T").start.y>n.y?o.loc.y:o.loc.y+o.height})),(this.getNodePosFromBoreder(s,"T").start.y>n.y||this.getNodePosFromBoreder(s,"B").start.y<n.y)&&(u[u.length-1].x=s.loc.x+s.width/2,u.push({x:s.loc.x+s.width/2,y:this.getNodePosFromBoreder(s,"T").start.y>n.y?s.loc.y:s.loc.y+s.height}))):(u[0].x=n.x,u[1].x=n.x,(this.getNodePosFromBoreder(o,"L").start.x>n.x||this.getNodePosFromBoreder(o,"R").start.x<n.x)&&(u[0].y=o.loc.y+o.height/2,u.unshift({x:this.getNodePosFromBoreder(o,"R").start.x<n.x?o.loc.x+o.width:o.loc.x,y:o.loc.y+o.height/2})),(this.getNodePosFromBoreder(s,"L").start.x>n.x||this.getNodePosFromBoreder(s,"R").start.x<n.x)&&(u[u.length-1].y=s.loc.y+s.height/2,u.push({x:this.getNodePosFromBoreder(s,"R").start.x<n.x?s.loc.x+s.width:s.loc.x,y:s.loc.y+s.height/2}))):d===2?u[r.targetLineStartPointIdx].y===u[r.targetLineStartPointIdx+1].y?(u[r.targetLineStartPointIdx].y=n.y,u[r.targetLineStartPointIdx+1].y=n.y,(this.getNodePosFromBoreder(o,"B").start.y<n.y||this.getNodePosFromBoreder(o,"T").start.y>n.y)&&r.targetLineStartPointIdx===0&&(u[r.targetLineStartPointIdx].x=o.loc.x+o.width/2,u.unshift({x:o.loc.x+o.width/2,y:this.getNodePosFromBoreder(o,"T").start.y>n.y?o.loc.y:o.loc.y+o.height})),(this.getNodePosFromBoreder(s,"B").start.y<n.y||this.getNodePosFromBoreder(s,"T").start.y>n.y)&&r.targetLineStartPointIdx===1&&(u[r.targetLineStartPointIdx+1].x=s.loc.x+s.width/2,u.push({x:s.loc.x+s.width/2,y:this.getNodePosFromBoreder(s,"T").start.y>n.y?s.loc.y:s.loc.y+s.height})),r.targetLineStartPointIdx===1&&this.getNodePosFromBoreder(o,"B").start.y>n.y&&this.getNodePosFromBoreder(o,"T").start.y<n.y&&(u.splice(0,1),u[0].x=s.loc.x>o.loc.x?o.loc.x+o.width:o.loc.x),r.targetLineStartPointIdx===0&&this.getNodePosFromBoreder(s,"B").start.y>n.y&&this.getNodePosFromBoreder(s,"T").start.y<n.y&&(u.splice(u.length-1,1),u[u.length-1].x=o.loc.x>s.loc.x?s.loc.x+s.width:s.loc.x)):(u[r.targetLineStartPointIdx].x=n.x,u[r.targetLineStartPointIdx+1].x=n.x,(this.getNodePosFromBoreder(o,"L").start.x>n.x||this.getNodePosFromBoreder(o,"R").start.x<n.x)&&r.targetLineStartPointIdx===0&&(console.log("超出from"),u[r.targetLineStartPointIdx].y=o.loc.y+o.height/2,u.unshift({x:this.getNodePosFromBoreder(o,"L").start.x>n.x?o.loc.x:o.loc.x+o.width,y:o.loc.y+o.height/2})),(this.getNodePosFromBoreder(s,"L").start.x>n.x||this.getNodePosFromBoreder(s,"R").start.x<n.x)&&r.targetLineStartPointIdx===1&&(console.log("超出to"),u[r.targetLineStartPointIdx+1].y=s.loc.y+s.height/2,u.push({x:this.getNodePosFromBoreder(s,"L").start.x>n.x?s.loc.x:s.loc.x+s.width,y:s.loc.y+s.height/2})),r.targetLineStartPointIdx===1&&this.getNodePosFromBoreder(o,"L").start.x<n.x&&this.getNodePosFromBoreder(o,"R").start.x>n.x&&(u.splice(0,1),u[0].y=s.loc.y>o.loc.y?o.loc.y+o.height:o.loc.y),r.targetLineStartPointIdx===0&&this.getNodePosFromBoreder(s,"L").start.x<n.x&&this.getNodePosFromBoreder(s,"R").start.x>n.x&&(u.splice(u.length-1,1),u[u.length-1].y=o.loc.y>s.loc.y?s.loc.y+s.height:s.loc.y)):d===3&&(u[r.targetLineStartPointIdx].y===u[r.targetLineStartPointIdx+1].y?(u[r.targetLineStartPointIdx].y=n.y,u[r.targetLineStartPointIdx+1].y=n.y,r.targetLineStartPointIdx===0?g(u)?u[0].y<this.getNodePosFromBoreder(o,"T").start.y?(u[0]={x:this.getNodePosFromBoreder(o,"T").start.x+o.width/2,y:o.loc.y},u[1]={x:u[0].x,y:n.y},n.y<this.getNodePosFromBoreder(s,"T").start.y||n.y>this.getNodePosFromBoreder(s,"B").start.y?(u[2]={x:this.getNodePosFromBoreder(s,"L").start.x+s.width/2,y:n.y},u[3]={x:u[2].x,y:n.y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y}):(u[2]={x:u[1].x<this.getNodePosFromBoreder(s,"R").start.x?this.getNodePosFromBoreder(s,"L").start.x:this.getNodePosFromBoreder(s,"R").start.x,y:n.y},u.splice(3))):u[0].y>this.getNodePosFromBoreder(o,"B").start.y&&(u[0]={x:this.getNodePosFromBoreder(o,"T").start.x+o.width/2,y:this.getNodePosFromBoreder(o,"B").start.y},u[1]={x:u[0].x,y:n.y},n.y<this.getNodePosFromBoreder(s,"T").start.y||n.y>this.getNodePosFromBoreder(s,"B").start.y?(u[2]={x:this.getNodePosFromBoreder(s,"L").start.x+s.width/2,y:n.y},u[3]={x:u[2].x,y:n.y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y}):(u[2]={x:u[1].x<this.getNodePosFromBoreder(s,"R").start.x?this.getNodePosFromBoreder(s,"L").start.x:this.getNodePosFromBoreder(s,"R").start.x,y:n.y},u.splice(3))):n.y<this.getNodePosFromBoreder(o,"T").start.y?(u[0].y=this.getNodePosFromBoreder(o,"T").start.y,u[1].y=this.getNodePosFromBoreder(o,"T").start.y):n.y>this.getNodePosFromBoreder(o,"B").start.y&&(u[0].y=this.getNodePosFromBoreder(o,"B").start.y,u[1].y=this.getNodePosFromBoreder(o,"B").start.y):r.targetLineStartPointIdx===u.length-2?g(u)?u[3].y<this.getNodePosFromBoreder(s,"T").start.y?(u[3]={x:this.getNodePosFromBoreder(s,"T").start.x+s.width/2,y:s.loc.y},u[2]={x:u[3].x,y:n.y},n.y<this.getNodePosFromBoreder(o,"T").start.y||n.y>this.getNodePosFromBoreder(o,"B").start.y?(u[1]={x:this.getNodePosFromBoreder(o,"L").start.x+o.width/2,y:n.y},u[0]={x:u[1].x,y:n.y<this.getNodePosFromBoreder(o,"T").start.y?this.getNodePosFromBoreder(o,"T").start.y:this.getNodePosFromBoreder(o,"B").start.y}):(u[1]={x:u[2].x>this.getNodePosFromBoreder(o,"R").start.x?this.getNodePosFromBoreder(o,"R").start.x:this.getNodePosFromBoreder(o,"L").start.x,y:n.y},u.splice(0,1))):u[3].y>this.getNodePosFromBoreder(s,"B").start.y&&(u[3]={x:this.getNodePosFromBoreder(s,"L").start.x+s.width/2,y:this.getNodePosFromBoreder(s,"B").start.y},u[2]={x:u[3].x,y:n.y},n.y<this.getNodePosFromBoreder(o,"T").start.y||n.y>this.getNodePosFromBoreder(o,"B").start.y?(u[1]={x:this.getNodePosFromBoreder(o,"L").start.x+o.width/2,y:n.y},u[0]={x:u[1].x,y:n.y<this.getNodePosFromBoreder(o,"T").start.y?this.getNodePosFromBoreder(o,"T").start.y:this.getNodePosFromBoreder(o,"B").start.y}):(u[1]={x:u[2].x>this.getNodePosFromBoreder(o,"R").start.x?this.getNodePosFromBoreder(o,"R").start.x:this.getNodePosFromBoreder(o,"L").start.x,y:n.y},u.splice(0,1))):n.y<this.getNodePosFromBoreder(s,"T").start.y?(u[2].y=this.getNodePosFromBoreder(s,"T").start.y,u[3].y=this.getNodePosFromBoreder(s,"T").start.y):n.y>this.getNodePosFromBoreder(s,"B").start.y&&(u[2].y=this.getNodePosFromBoreder(s,"B").start.y,u[3].y=this.getNodePosFromBoreder(s,"B").start.y):(n.y>this.getNodePosFromBoreder(o,"T").start.y&&n.y<this.getNodePosFromBoreder(o,"B").start.y&&(u.splice(0,1),u[0].x=u[1].x<this.getNodePosFromBoreder(o,"L").start.x?this.getNodePosFromBoreder(o,"L").start.x:this.getNodePosFromBoreder(o,"R").start.x),n.y>this.getNodePosFromBoreder(s,"T").start.y&&n.y<this.getNodePosFromBoreder(s,"B").start.y&&(u[u.length-2].x=u[u.length-3].x<this.getNodePosFromBoreder(s,"L").start.x?this.getNodePosFromBoreder(s,"L").start.x:this.getNodePosFromBoreder(s,"R").start.x,u.splice(u.length-1)))):(u[r.targetLineStartPointIdx].x=n.x,u[r.targetLineStartPointIdx+1].x=n.x,r.targetLineStartPointIdx===0?(console.log("from节点"),m(u)?u[0].x<this.getNodePosFromBoreder(o,"L").start.x?(u[0]={x:this.getNodePosFromBoreder(o,"L").start.x,y:this.getNodePosFromBoreder(o,"L").start.y+o.height/2},u[1]={x:n.x,y:u[0].y},n.x<this.getNodePosFromBoreder(s,"L").start.x||n.x>this.getNodePosFromBoreder(s,"R").start.x?(u[2]={x:n.x,y:this.getNodePosFromBoreder(s,"T").start.y+s.height/2},u[3]={x:n.x<this.getNodePosFromBoreder(s,"L").start.x?this.getNodePosFromBoreder(s,"L").start.x:this.getNodePosFromBoreder(s,"R").start.x,y:u[2].y}):(u[2]={x:n.x,y:u[1].y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y},u.splice(3))):u[0].x>this.getNodePosFromBoreder(o,"R").start.x&&(u[0]={x:this.getNodePosFromBoreder(o,"R").start.x,y:this.getNodePosFromBoreder(o,"R").start.y+o.height/2},u[1]={x:n.x,y:u[0].y},n.x<this.getNodePosFromBoreder(s,"L").start.x||n.x>this.getNodePosFromBoreder(s,"R").start.x?(u[2]={x:n.x,y:this.getNodePosFromBoreder(s,"T").start.y+s.height/2},u[3]={x:n.x<this.getNodePosFromBoreder(s,"L").start.x?this.getNodePosFromBoreder(s,"L").start.x:this.getNodePosFromBoreder(s,"R").start.x,y:u[2].y}):(u[2]={x:n.x,y:u[1].y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y},u.splice(3))):n.x<this.getNodePosFromBoreder(o,"L").start.x?(u[0].x=this.getNodePosFromBoreder(o,"L").start.x+1,u[1].x=this.getNodePosFromBoreder(o,"L").start.x+1):n.x>this.getNodePosFromBoreder(o,"R").start.x&&(u[0].x=this.getNodePosFromBoreder(o,"R").start.x-1,u[1].x=this.getNodePosFromBoreder(o,"R").start.x-1)):r.targetLineStartPointIdx===u.length-2?(console.log("to节点"),m(u)?u[3].x<this.getNodePosFromBoreder(s,"L").start.x?(u[3]={x:this.getNodePosFromBoreder(s,"L").start.x,y:this.getNodePosFromBoreder(s,"L").start.y+s.height/2},u[2]={x:n.x,y:u[3].y},n.x<this.getNodePosFromBoreder(o,"L").start.x||n.x>this.getNodePosFromBoreder(o,"R").start.x?(u[1]={x:n.x,y:this.getNodePosFromBoreder(o,"T").start.y+o.height/2},u[0]={x:n.x<this.getNodePosFromBoreder(o,"L").start.x?this.getNodePosFromBoreder(o,"L").start.x:this.getNodePosFromBoreder(o,"R").start.x,y:u[1].y}):(u[1]={x:n.x,y:u[2].y>this.getNodePosFromBoreder(o,"B").start.y?this.getNodePosFromBoreder(o,"B").start.y:this.getNodePosFromBoreder(o,"T").start.y},u.splice(0,1))):u[3].x>this.getNodePosFromBoreder(s,"R").start.x&&(u[3]={x:this.getNodePosFromBoreder(s,"R").start.x,y:this.getNodePosFromBoreder(s,"R").start.y+s.height/2},u[2]={x:n.x,y:u[3].y},n.x<this.getNodePosFromBoreder(o,"L").start.x||n.x>this.getNodePosFromBoreder(o,"R").start.x?(u[1]={x:n.x,y:this.getNodePosFromBoreder(o,"T").start.y+o.height/2},u[0]={x:n.x<this.getNodePosFromBoreder(o,"L").start.x?this.getNodePosFromBoreder(o,"L").start.x:this.getNodePosFromBoreder(o,"R").start.x,y:u[1].y}):(u[1]={x:n.x,y:u[2].y>this.getNodePosFromBoreder(o,"B").start.y?this.getNodePosFromBoreder(o,"B").start.y:this.getNodePosFromBoreder(o,"T").start.y},u.splice(0,1))):n.x<this.getNodePosFromBoreder(s,"L").start.x?(u[2].x=this.getNodePosFromBoreder(s,"L").start.x+1,u[3].x=this.getNodePosFromBoreder(s,"L").start.x+1):n.x>this.getNodePosFromBoreder(s,"R").start.x&&(u[2].x=this.getNodePosFromBoreder(s,"R").start.x-1,u[3].x=this.getNodePosFromBoreder(s,"R").start.x-1)):(console.log("中间"),n.x>this.getNodePosFromBoreder(o,"L").start.x&&n.x<this.getNodePosFromBoreder(o,"R").start.x&&(u.splice(0,1),u[0].y=u[1].y<this.getNodePosFromBoreder(o,"T").start.y?this.getNodePosFromBoreder(o,"T").start.y:this.getNodePosFromBoreder(o,"B").start.y),n.x>this.getNodePosFromBoreder(s,"L").start.x&&n.x<this.getNodePosFromBoreder(s,"R").start.x&&(u[u.length-2].y=u[u.length-3].y<this.getNodePosFromBoreder(s,"T").start.y?this.getNodePosFromBoreder(s,"T").start.y:this.getNodePosFromBoreder(s,"B").start.y,u.splice(u.length-1)))));function g(x){var v=0;for(let T=0,D=x.length-1;T<D;T++)v+=Math.abs(x[T].x-x[T+1].x);return v===Math.abs(x[0].x-x[x.length-1].x)}function m(x){var v=0;for(let T=0,D=x.length-1;T<D;T++)v+=Math.abs(x[T].y-x[T+1].y);return v===Math.abs(x[0].y-x[x.length-1].y)}}addNode(r){this.addNodeDefaultAttr=r,this.editType="addNode"}packNodeInfo(r,n){const o=Math.floor((n.x+this.scrollLeft)/this.scaleRatio),s=Math.floor((n.y+this.scrollTop)/this.scaleRatio);return Object.assign(r,{loc:{x:o-25,y:s-25},width:50,height:50})}addLine(r){this.editType=r}addMark(){this.editType="addMark"}addNote(){this.editType="addNote"}changeColor(r){this.focusTarget&&Object.keys(this.focusTarget).length&&(this.focusTarget.attributes?this.focusTarget.bgC=r:this.focusTarget.type==="mark"?this.focusTarget.bdC=r:this.focusTarget.type==="note"&&(this.focusTarget.color=r),this.update())}createLine(r,n){var o=this.chooseTargets,s=this.getNodePosFromBoreder(o[0],"L"),c=this.getNodePosFromBoreder(o[1],"L"),u=[];if(o[0].key===o[1].key)u[0]={x:o[0].loc.x+o[0].width,y:o[0].loc.y+o[0].height-20},u[1]={x:o[0].loc.x+o[0].width+20,y:o[0].loc.y+o[0].height-20},u[2]={x:o[0].loc.x+o[0].width+20,y:o[0].loc.y+o[0].height+20},u[3]={x:o[0].loc.x+o[0].width-20,y:o[0].loc.y+o[0].height+20},u[4]={x:o[0].loc.x+o[0].width-20,y:o[0].loc.y+o[0].height};else if(["exclusive","inclusive"].includes(o[0].type))s.end.y<c.start.y?(u[0]={x:s.end.x+Math.floor(o[0].width/2),y:s.end.y},u[1]={x:u[0].x,y:u[0].y+Math.floor((c.start.y-s.end.y)/2)},u[2]={x:c.start.x+Math.floor(o[1].width/2),y:u[1].y},u[3]={x:u[2].x,y:c.start.y}):(u[0]={x:s.end.x+Math.floor(o[0].width/2),y:s.end.y},u[1]={x:u[0].x,y:Math.max(s.end.y,c.start.y)+20},u[2]={x:c.start.x+Math.floor(o[1].width/2),y:u[1].y},u[3]={x:u[2].x,y:c.end.y});else if(["exclusive","inclusive"].includes(o[1].type))s.end.y<c.start.y?(u[0]={x:s.end.x+Math.floor(o[0].width/2),y:s.end.y},u[1]={x:u[0].x,y:c.start.y}):(u[0]={x:s.end.x+Math.floor(o[0].width/2),y:s.start.y},u[1]={x:u[0].x,y:Math.min(s.end.y,c.start.y)-20},u[2]={x:c.start.x+Math.floor(o[1].width/2),y:u[1].y},u[3]={x:u[2].x,y:c.start.y});else if(this.getNodePosFromBoreder(o[0],"R").start.x<this.getNodePosFromBoreder(o[1],"L").start.x)if((c.start.y-s.end.y)*(c.end.y-s.start.y)<0){console.log("有重合");var d=Math.max(s.start.y,c.start.y)+Math.abs(Math.floor((Math.min(s.end.y,c.end.y)-Math.max(s.start.y,c.start.y))/2));u[0]={x:this.getNodePosFromBoreder(o[0],"R").start.x,y:d},u[1]={x:this.getNodePosFromBoreder(o[1],"L").start.x,y:d}}else console.log("无重合"),s.start.y>c.end.y?(u[0]={x:s.start.x+Math.floor(o[0].width/2),y:s.start.y},u[1]={x:u[0].x,y:c.start.y+Math.floor(o[1].height/2)},u[2]={x:c.start.x,y:u[1].y}):(u[0]={x:this.getNodePosFromBoreder(o[0],"R").start.x,y:s.start.y+Math.floor(o[0].height/2)},u[1]={x:this.getNodePosFromBoreder(o[1],"L").start.x+Math.floor(o[1].width/2),y:u[0].y},u[2]={x:u[1].x,y:this.getNodePosFromBoreder(o[1],"L").start.y});else if(this.getNodePosFromBoreder(o[0],"L").start.x>this.getNodePosFromBoreder(o[1],"R").start.x)if((c.start.y-s.end.y)*(c.end.y-s.start.y)<0){console.log("有重合");var d=Math.max(s.start.y,c.start.y)+Math.abs(Math.floor((Math.min(s.end.y,c.end.y)-Math.max(s.start.y,c.start.y))/2));u[0]={x:this.getNodePosFromBoreder(o[0],"L").start.x,y:d},u[1]={x:this.getNodePosFromBoreder(o[1],"R").start.x,y:d}}else console.log("无重合"),s.start.y>c.end.y?(u[0]={x:s.start.x+Math.floor(o[0].width/2),y:s.start.y},u[1]={x:u[0].x,y:c.start.y+Math.floor(o[1].height/2)},u[2]={x:this.getNodePosFromBoreder(o[1],"R").start.x,y:u[1].y}):(u[0]={x:this.getNodePosFromBoreder(o[0],"L").start.x,y:s.start.y+Math.floor(o[0].height/2)},u[1]={x:this.getNodePosFromBoreder(o[1],"L").start.x+Math.floor(o[1].width/2),y:u[0].y},u[2]={x:u[1].x,y:this.getNodePosFromBoreder(o[1],"L").start.y});else if(s.start.y>c.end.y){var g=Math.max(s.start.x,c.start.x),m=Math.min(this.getNodePosFromBoreder(o[0],"R").start.x,this.getNodePosFromBoreder(o[1],"R").start.x),x=g+Math.floor((m-g)/2);u[0]={x,y:s.start.y},u[1]={x,y:c.end.y}}else{var g=Math.max(s.start.x,c.start.x),m=Math.min(this.getNodePosFromBoreder(o[0],"R").start.x,this.getNodePosFromBoreder(o[1],"R").start.x),x=g+Math.floor((m-g)/2);u[0]={x,y:s.end.y},u[1]={x,y:c.start.y}}if(u.length)if(n)n.pos=u,this.externalFn.addLine(n);else{const v={key:this.createKey(),from:o[0].key,to:o[1].key,pos:u,type:r};this.externalFn.addLine(v)}else console.error("createLine方法错误：未生成对应关键点坐标")}createBranchLine(){var r=[].concat(this.chooseTargets),n=this.getNodePosFromBoreder(r[0],"L"),o=this.getNodePosFromBoreder(r[1],"L");const s=n.end.y+50<o.start.y?{x:n.start.x+Math.floor(r[0].width/2)-20,y:n.end.y+Math.floor((o.start.y-n.end.y)/2)-10}:{x:o.start.x+Math.floor(r[1].width/2)-20,y:Math.min(n.start.y,o.start.y)-50},c={key:this.createKey(),loc:s,width:40,height:20,type:"exclusive",fromKey:r[0].key},u=this.externalFn.addFilter(c);u===1?(this.chooseTargets=[r[0],data.nodeDataArray[data.nodeDataArray.length-1]],this.createLine("toFilter"),this.chooseTargets=[data.nodeDataArray[data.nodeDataArray.length-1],r[1]],this.createLine("fromFilter")):u===3&&this.createLine("foreignKey")}getNodeWithKey(r){for(const n of this._data.nodeDataArray)if(n.key===r)return n}createLines(r){for(const n of r)this.chooseTargets=[this.getNodeWithKey(n.from),this.getNodeWithKey(n.to)],this.createLine(n.type,n);this.update()}createKey(){return+new Date+""+Math.floor(Math.random()*1e5)}throttle(r,n=50){var o;return function(){var s=this,c=arguments;o||(o=setTimeout(function(){r.apply(s,c),o=null},n))}}hexToRgb(r){return r.length===4&&(r=r.slice(0,2)+r.slice(1,2)+r.slice(2,3)+r.slice(2,3)+r.slice(3,4)+r.slice(3,4)),"rgb("+parseInt("0x"+r.slice(1,3))+","+parseInt("0x"+r.slice(3,5))+","+parseInt("0x"+r.slice(5,7))+")"}isLight(r){const o=(r.includes("rgb")?r:this.hexToRgb(r)).replace(/rgb\(|rgba\(|\)/g,"").split(",");return .213*o[0]+.715*o[1]+.072*o[2]>255/2}}const E0="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Zt=(i=21)=>{let r="",n=crypto.getRandomValues(new Uint8Array(i));for(;i--;)r+=E0[n[i]&63];return r};const Br=jr({entityIdChecked:""});var Ju={exports:{}};(function(i,r){(function(n,o){o()})(Dt,function(){function n(m,x){return typeof x>"u"?x={autoBom:!1}:typeof x!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),x={autoBom:!x}),x.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(m.type)?new Blob(["\uFEFF",m],{type:m.type}):m}function o(m,x,v){var T=new XMLHttpRequest;T.open("GET",m),T.responseType="blob",T.onload=function(){g(T.response,x,v)},T.onerror=function(){console.error("could not download file")},T.send()}function s(m){var x=new XMLHttpRequest;x.open("HEAD",m,!1);try{x.send()}catch{}return 200<=x.status&&299>=x.status}function c(m){try{m.dispatchEvent(new MouseEvent("click"))}catch{var x=document.createEvent("MouseEvents");x.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),m.dispatchEvent(x)}}var u=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Dt=="object"&&Dt.global===Dt?Dt:void 0,d=u.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),g=u.saveAs||(typeof window!="object"||window!==u?function(){}:"download"in HTMLAnchorElement.prototype&&!d?function(m,x,v){var T=u.URL||u.webkitURL,D=document.createElement("a");x=x||m.name||"download",D.download=x,D.rel="noopener",typeof m=="string"?(D.href=m,D.origin===location.origin?c(D):s(D.href)?o(m,x,v):c(D,D.target="_blank")):(D.href=T.createObjectURL(m),setTimeout(function(){T.revokeObjectURL(D.href)},4e4),setTimeout(function(){c(D)},0))}:"msSaveOrOpenBlob"in navigator?function(m,x,v){if(x=x||m.name||"download",typeof m!="string")navigator.msSaveOrOpenBlob(n(m,v),x);else if(s(m))o(m,x,v);else{var T=document.createElement("a");T.href=m,T.target="_blank",setTimeout(function(){c(T)})}}:function(m,x,v,T){if(T=T||open("","_blank"),T&&(T.document.title=T.document.body.innerText="downloading..."),typeof m=="string")return o(m,x,v);var D=m.type==="application/octet-stream",b=/constructor/i.test(u.HTMLElement)||u.safari,E=/CriOS\/[\d]+/.test(navigator.userAgent);if((E||D&&b||d)&&typeof FileReader<"u"){var R=new FileReader;R.onloadend=function(){var C=R.result;C=E?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),T?T.location.href=C:location=C,T=null},R.readAsDataURL(m)}else{var L=u.URL||u.webkitURL,k=L.createObjectURL(m);T?T.location=k:location.href=k,T=null,setTimeout(function(){L.revokeObjectURL(k)},4e4)}});u.saveAs=g.saveAs=g,i.exports=g})})(Ju);var P0=Ju.exports;function S0(i){const r=JSON.stringify(i),n=new Blob([r],{type:"text/json;charset=utf-8"});P0.saveAs(n,`data_${Date.now()}.json`)}const ie=jr({scale:100,drawData:{},entityList:[],canvasData:{},updateLineStatus:0,updateUseDrawDataStatus:0,graphicsId:""}),F0=Ii({}),jt=Ii(new B0);function R0(){jt.value.load({id:"canvas",data:ie.drawData,fontFamily:"-apple-system, Noto Sans, Helvetica Neue, Helvetica, Nimbus Sans L, Arial, Liberation Sans, PingFang SC, Hiragino Sans GB, Noto Sans CJK SC, Source Han Sans SC, Source Han Sans CN, Microsoft YaHei, Wenquanyi Micro Hei, WenQuanYi Zen Hei, ST Heiti, SimHei, WenQuanYi Zen Hei Sharp, sans-serif",externalFn:{addNode:K0,delNode:L0,dbEntity:Y0,addLine:M0,delLine:k0,addMark:H0,delMark:I0,addNote:Qu,delNote:U0,dbNote:O0}})}function C0(){let i=Zt(5),r=Zt(8);const n={id:r,key:r,tableName:`表_${i}`,englishName:`en_${i}`,modelType:"",attributes:[{attrName:"属性1",primaryKey:!0,foreignKey:!1},{attrName:"属性2",primaryKey:!1,foreignKey:!1}]};jt.value.addNode(n)}function K0(i){(()=>{i.width=150,i.height=100})(),ie.drawData.nodeDataArray.push(i),Bt()}async function Bt(){jt.value.update(ie.drawData)}function Du(i){jt.value.addLine(i)}function M0(i){ie.drawData.linkDataArray.push(i),Bt()}function L0(i){const r=ie.drawData.nodeDataArray.find(n=>n.key===i);en.confirm(`确认删除${r.tableName}`,"Warning",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{ie.drawData.nodeDataArray=ie.drawData.nodeDataArray.filter(n=>r.key!==n.key),ie.drawData.linkDataArray=ie.drawData.linkDataArray.filter(n=>r.key!==n.from&&r.key!==n.to),Bt(),tn({type:"success",message:"操作成功"})})}function k0(i){const r=ie.drawData.linkDataArray.find(n=>n.key===i);en.confirm(`确认删除${r.tableName}`,"Warning",{confirmButtonText:"确认",cancelButtonText:"取消",type:"warning"}).then(()=>{ie.drawData.linkDataArray=ie.drawData.linkDataArray.filter(n=>r.key!==n.key),Bt(),tn({type:"success",message:"操作成功"})})}function Ni(i,r){jt.value.changeColor(i,r)}function W0(){jt.value.addNote()}function Qu(i){en.prompt("请输入备注","Tip",{confirmButtonText:"OK",cancelButtonText:"Cancel",inputValue:i.text,inputValidator(r){return r?!0:"请输入"}}).then(({value:r})=>{const n=ie.drawData.noteDataArray.find(o=>o.key===i.key);n?n.text=r:ie.drawData.noteDataArray.push({...i,text:r}),Bt(),tn({type:"success",message:"操作成功"})})}function U0(i){en.confirm("确认彻删除标记文本","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{ie.drawData.noteDataArray=ie.drawData.noteDataArray.filter(r=>r.key!==i),Bt(),tn({type:"success",message:"操作成功"})})}function O0(i){const r=ie.drawData.noteDataArray.find(n=>n.key===i);Qu(r)}function $0(){jt.value.addMark()}function H0(i){(()=>{i.width===0&&i.height===0&&(i.width=50,i.height=50)})(),ie.drawData.markDataArray.push(i),Bt()}function I0(i){en.confirm("确认彻删除标记框","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{ie.drawData.markDataArray=ie.drawData.markDataArray.filter(r=>r.key!==i),Bt(),tn({type:"success",message:"操作成功"})})}function Y0(i){Br.entityIdChecked=i}function G0(){const i={entityInfos:ie.drawData.nodeDataArray.map(({key:r,tableName:n,englishName:o,id:s,attributes:c,modelType:u})=>({key:r,tableName:n,englishName:o,id:s,attributes:c,modelType:u})),relation:ie.drawData.linkDataArray.map(({key:r,from:n,to:o,type:s})=>({key:r,from:n,to:o,type:s})),graphics:JSON.stringify(ie.drawData)};console.log("-entityInfos--",JSON.stringify(ie.drawData.nodeDataArray)),S0(i)}function X0(i){jt.value.changeCanvasScale(parseInt(i))}function Bu(i){jt.value.setEditable(i)}let z0=[{key:"test",value:1,name:"测试"}],q0=[{key:"manager",value:"PROJECTMANAGER",name:"项目负责人"},{key:"edit",value:"PROJECTPARTICIPANTS",name:"项目参与人"},{key:"read",value:"PROJECTREADERSONLY",name:"项目只读人"}];const V0={tests:z0,userAuth:q0};let Z0=[{key:"no",value:1,name:"无约束"},{key:"number",value:2,name:"最大最小值"},{key:"enumerate",value:3,name:"枚举值"},{key:"expression",value:4,name:"表达式"}],J0=[{key:"one",value:1,name:"一级"},{key:"tow",value:2,name:"二级"},{key:"there",value:3,name:"三级"},{key:"four",value:4,name:"四级"}],Q0=[{key:"CHAR",value:"CHAR"},{key:"VARCHAR",value:"VARCHAR"},{key:"CLOB",value:"CLOB"},{key:"NCHAR",value:"NCHAR"},{key:"VARYING",value:"VARYING"},{key:"BINARY",value:"BINARY"},{key:"LARGE",value:"LARGE"},{key:"OBJECT",value:"OBJECT"},{key:"NUMERIC",value:"NUMERIC"},{key:"DECIMAL",value:"DECIMAL"},{key:"SMALLINT",value:"SMALLINT"},{key:"INTEGER",value:"INTEGER"},{key:"BIGINT",value:"BIGINT"},{key:"FLOAT",value:"FLOAT"},{key:"REAL",value:"REAL"},{key:"DOUBLE",value:"DOUBLE"},{key:"PRECISION",value:"PRECISION"},{key:"BOOLEAN",value:"BOOLEAN"},{key:"DATE",value:"DATE"},{key:"TIME",value:"TIME"},{key:"TIMESTAMP",value:"TIMESTAMP"},{key:"INTERVAL",value:"INTERVAL"}];const ju={attrRules:Z0,safetyLevels:J0,attrTypes:Q0};let j0=[{key:"primarykey",value:"PRIMARYKEY",name:"主键索引"},{key:"uniqueindex",value:"UNIQUEINDEX",name:"唯一索引"},{key:"nonuniqueindex",value:"NONUNIQUEINDEX",name:"非唯一索引"}];const ex={indextype:j0};let tx=[{key:"primaryKey",value:"primaryKey",name:"主键",visible:!0},{key:"foreignKey",value:"foreignKey",name:"非主键",visible:!0},{key:"branchLine",value:"branchLine",name:"过滤器相关的线",visible:!1}],rx=[{key:"primaryKey",value:"PRIMARYKEY",name:"主键关系"},{key:"foreignKey",value:"FOREIGNKEY",name:"非主键关系"}],nx=[{key:"n1",value:1,name:"Zero, One or More"},{key:"n2",value:2,name:"One or More"},{key:"n3",value:3,name:"One or One"},{key:"n4",value:4,name:"Zero or One"}],ax=[{key:"sure",value:1,name:"确认"},{key:"cancel ",value:2,name:"取消"},{key:"transition",value:3,name:"转换成创建非主键"}],ox=[{key:"text",value:"color",name:"文本颜色-备注"},{key:"bg",value:"bgC",name:"背景色"},{key:"border",value:"bdC",name:"边框颜色"}];const ix={lineTypes:tx,numLineTypes:nx,filterAddResult:ax,entityRelationTypes:rx,colorType:ox};let sx=[{key:"citationstatus",value:"CITATIONSTATUS",name:"引用"},{key:"referencedstatus",value:"REFERENCEDSTATUS",name:"被引用"}];const lx={quoteType:sx};let ux=[{key:"physical",value:"PHYSICAL",name:"物理模型"},{key:"logical",value:"LOGICAL",name:"逻辑模型"}],cx=[{key:"mysql",value:"MYSQL",name:"MySQL"},{key:"oracle",value:"ORACLE",name:"Oracle"},{key:"hive",value:"HIVE",name:"Hive"},{key:"mongodb",value:"MONGODB",name:"MongoDB"},{key:"db2luw",value:"DB2LUW",name:"DB2LUW"},{key:"gbase",value:"GBASE",name:"GBase"},{key:"hana",value:"HANA",name:"Hana"},{key:"postegrysql",value:"POSTEGRYSQL",name:"PostegrySQL"},{key:"sqlserver",value:"SQLSERVER",name:"SQLServer"},{key:"cassandra",value:"CASSANDRA",name:"cassandra"}],fx=[{key:"createOrDrop",value:"CREATEORDROP",name:"Drop/Create"},{key:"create",value:"CREATE",name:"Create"}];const dx={modelType:ux,databases:cx,modelStatementType:fx};let wi=Object.assign({},V0,ju,ex,ix,lx,dx);function hx(){let i=[];for(let r in wi)i[r]=wi[r],wi[r].forEach(n=>{i[r][n.key]=n});return window.ENUM1=i,i}const cr=hx(),gx=""+new URL("avatar-DqEht8ir.png",import.meta.url).href,ec=i=>(h0("data-v-0492f516"),i=i(),g0(),i),px={class:"header-wrapper px-5"},yx={class:"logo flex align-items"},mx=ec(()=>j("span",{class:"ml-2"},"模型工具",-1)),xx={class:"el-dropdown-link flex items-center"},vx=ec(()=>j("span",{class:"ml-2"},"lszgf",-1)),_x={__name:"header",setup(i){const r=Ii("100%");return(n,o)=>{const s=ve("el-tooltip"),c=ve("el-divider"),u=ve("el-color-picker"),d=ve("el-option"),g=ve("el-select"),m=ve("el-space"),x=ve("el-avatar"),v=ve("el-dropdown-item"),T=ve("el-dropdown-menu"),D=ve("el-dropdown");return pe(),Me("div",px,[j("div",yx,[K(U(Ke),{class:"icon",icon:"erwin-import"}),mx]),K(m,{class:"tools"},{default:V(()=>[K(s,{effect:"dark",content:"新增实体",placement:"bottom"},{default:V(()=>[K(U(Ke),{onClick:U(C0),icon:"table-add"},null,8,["onClick"])]),_:1}),K(s,{effect:"dark",content:"创建主键(一对一关系)",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"primary",onClick:o[0]||(o[0]=b=>U(Du)(U(cr).lineTypes.primaryKey.value))})]),_:1}),K(s,{effect:"dark",content:"创建非主键(一对多关系)",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"non-primary",onClick:o[1]||(o[1]=b=>U(Du)(U(cr).lineTypes.foreignKey.value))})]),_:1}),K(s,{effect:"dark",content:"subtype(根据分类器从父实体生成子实体)-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"subtype"})]),_:1}),K(c,{direction:"vertical"}),K(s,{effect:"dark",content:U(cr).colorType.bg.name,placement:"bottom"},{default:V(()=>[j("div",null,[K(u,{"model-value":"#fff",size:"small",onChange:o[2]||(o[2]=b=>U(Ni)(b,U(cr).colorType.bg.value))})])]),_:1},8,["content"]),K(s,{effect:"dark",content:U(cr).colorType.border.name,placement:"bottom"},{default:V(()=>[j("div",null,[K(u,{"model-value":"#000",size:"small",onChange:o[3]||(o[3]=b=>U(Ni)(b,U(cr).colorType.border.value))})])]),_:1},8,["content"]),K(s,{effect:"dark",content:U(cr).colorType.text.name,placement:"bottom"},{default:V(()=>[j("div",null,[K(u,{"model-value":"#fff",size:"small",onChange:o[4]||(o[4]=b=>U(Ni)(b,U(cr).colorType.text.value))})])]),_:1},8,["content"]),K(c,{direction:"vertical"}),K(s,{effect:"dark",content:"备注",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"text",onClick:U(W0)},null,8,["onClick"])]),_:1}),K(s,{effect:"dark",content:"创建矩形选框",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"rectangle",onClick:U($0)},null,8,["onClick"])]),_:1}),K(c,{direction:"vertical"}),K(s,{effect:"dark",content:"导出json",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"json-export",onClick:U(G0)},null,8,["onClick"])]),_:1}),K(s,{effect:"dark",content:"导入json-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"json-import"})]),_:1}),K(s,{effect:"dark",content:"导入excel-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"excel-import"})]),_:1}),K(s,{effect:"dark",content:"导入ErWin-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"erwin-import"})]),_:1}),K(c,{direction:"vertical"}),K(s,{effect:"dark",content:"生成ddl-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"save-ddl"})]),_:1}),K(s,{effect:"dark",content:"逆向工程-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"reverse"})]),_:1}),K(s,{effect:"dark",content:"生成物理模型-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"generate"})]),_:1}),K(s,{effect:"dark",content:"模型检查-待开放",placement:"bottom"},{default:V(()=>[K(U(Ke),{class:"is-disabled",icon:"examine"})]),_:1}),K(c,{direction:"vertical"}),K(s,{effect:"dark",content:"只读",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"lock",onClick:o[5]||(o[5]=b=>U(Bu)(2))})]),_:1}),K(s,{effect:"dark",content:"可编辑",placement:"bottom"},{default:V(()=>[K(U(Ke),{icon:"unlock",onClick:o[6]||(o[6]=b=>U(Bu)(1))})]),_:1}),K(s,{effect:"dark",content:"缩放",placement:"bottom"},{default:V(()=>[K(g,{modelValue:r.value,"onUpdate:modelValue":o[7]||(o[7]=b=>r.value=b),placeholder:"Select",size:"small",style:{width:"80px"},onChange:U(X0)},{default:V(()=>[(pe(),Me(Mi,null,Li(["60%","80%","100%","120%","140%","160%","180%","200%"],b=>K(d,{key:b,label:b,value:b},null,8,["label","value"])),64))]),_:1},8,["modelValue","onChange"])]),_:1})]),_:1}),K(D,{class:"ml-auto header-dropdown"},{dropdown:V(()=>[K(T,null,{default:V(()=>[K(v,null,{default:V(()=>[qr("退出登录")]),_:1})]),_:1})]),default:V(()=>[j("div",xx,[K(x,{size:30,src:U(gx)},null,8,["src"]),vx])]),_:1})])}}},Nx=Hi(_x,[["__scopeId","data-v-0492f516"]]);var Oa={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */Oa.exports;(function(i,r){(function(){var n,o="4.17.21",s=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",u="Expected a function",d="Invalid `variable` option passed into `_.template`",g="__lodash_hash_undefined__",m=500,x="__lodash_placeholder__",v=1,T=2,D=4,b=1,E=2,R=1,L=2,k=4,C=8,I=16,le=32,H=64,re=128,ye=256,me=512,Ne=30,Et="...",Qe=800,Pt=16,St=1,Ft=2,Ut=3,je=1/0,Rt=9007199254740991,kn=17976931348623157e292,Er=NaN,Ct=4294967295,_c=Ct-1,Nc=Ct>>>1,wc=[["ary",re],["bind",R],["bindKey",L],["curry",C],["curryRight",I],["flip",me],["partial",le],["partialRight",H],["rearg",ye]],Pr="[object Arguments]",Wn="[object Array]",Tc="[object AsyncFunction]",rn="[object Boolean]",nn="[object Date]",bc="[object DOMException]",Un="[object Error]",On="[object Function]",qi="[object GeneratorFunction]",xt="[object Map]",an="[object Number]",Ac="[object Null]",Ot="[object Object]",Vi="[object Promise]",Dc="[object Proxy]",on="[object RegExp]",vt="[object Set]",sn="[object String]",$n="[object Symbol]",Bc="[object Undefined]",ln="[object WeakMap]",Ec="[object WeakSet]",un="[object ArrayBuffer]",Sr="[object DataView]",Ja="[object Float32Array]",Qa="[object Float64Array]",ja="[object Int8Array]",eo="[object Int16Array]",to="[object Int32Array]",ro="[object Uint8Array]",no="[object Uint8ClampedArray]",ao="[object Uint16Array]",oo="[object Uint32Array]",Pc=/\b__p \+= '';/g,Sc=/\b(__p \+=) '' \+/g,Fc=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Zi=/&(?:amp|lt|gt|quot|#39);/g,Ji=/[&<>"']/g,Rc=RegExp(Zi.source),Cc=RegExp(Ji.source),Kc=/<%-([\s\S]+?)%>/g,Mc=/<%([\s\S]+?)%>/g,Qi=/<%=([\s\S]+?)%>/g,Lc=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,kc=/^\w*$/,Wc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,io=/[\\^$.*+?()[\]{}|]/g,Uc=RegExp(io.source),so=/^\s+/,Oc=/\s/,$c=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Hc=/\{\n\/\* \[wrapped with (.+)\] \*/,Ic=/,? & /,Yc=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Gc=/[()=,{}\[\]\/\s]/,Xc=/\\(\\)?/g,zc=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ji=/\w*$/,qc=/^[-+]0x[0-9a-f]+$/i,Vc=/^0b[01]+$/i,Zc=/^\[object .+?Constructor\]$/,Jc=/^0o[0-7]+$/i,Qc=/^(?:0|[1-9]\d*)$/,jc=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Hn=/($^)/,ef=/['\n\r\u2028\u2029\\]/g,In="\\ud800-\\udfff",tf="\\u0300-\\u036f",rf="\\ufe20-\\ufe2f",nf="\\u20d0-\\u20ff",es=tf+rf+nf,ts="\\u2700-\\u27bf",rs="a-z\\xdf-\\xf6\\xf8-\\xff",af="\\xac\\xb1\\xd7\\xf7",of="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sf="\\u2000-\\u206f",lf=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",ns="A-Z\\xc0-\\xd6\\xd8-\\xde",as="\\ufe0e\\ufe0f",os=af+of+sf+lf,lo="['’]",uf="["+In+"]",is="["+os+"]",Yn="["+es+"]",ss="\\d+",cf="["+ts+"]",ls="["+rs+"]",us="[^"+In+os+ss+ts+rs+ns+"]",uo="\\ud83c[\\udffb-\\udfff]",ff="(?:"+Yn+"|"+uo+")",cs="[^"+In+"]",co="(?:\\ud83c[\\udde6-\\uddff]){2}",fo="[\\ud800-\\udbff][\\udc00-\\udfff]",Fr="["+ns+"]",fs="\\u200d",ds="(?:"+ls+"|"+us+")",df="(?:"+Fr+"|"+us+")",hs="(?:"+lo+"(?:d|ll|m|re|s|t|ve))?",gs="(?:"+lo+"(?:D|LL|M|RE|S|T|VE))?",ps=ff+"?",ys="["+as+"]?",hf="(?:"+fs+"(?:"+[cs,co,fo].join("|")+")"+ys+ps+")*",gf="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",pf="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",ms=ys+ps+hf,yf="(?:"+[cf,co,fo].join("|")+")"+ms,mf="(?:"+[cs+Yn+"?",Yn,co,fo,uf].join("|")+")",xf=RegExp(lo,"g"),vf=RegExp(Yn,"g"),ho=RegExp(uo+"(?="+uo+")|"+mf+ms,"g"),_f=RegExp([Fr+"?"+ls+"+"+hs+"(?="+[is,Fr,"$"].join("|")+")",df+"+"+gs+"(?="+[is,Fr+ds,"$"].join("|")+")",Fr+"?"+ds+"+"+hs,Fr+"+"+gs,pf,gf,ss,yf].join("|"),"g"),Nf=RegExp("["+fs+In+es+as+"]"),wf=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Tf=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bf=-1,_e={};_e[Ja]=_e[Qa]=_e[ja]=_e[eo]=_e[to]=_e[ro]=_e[no]=_e[ao]=_e[oo]=!0,_e[Pr]=_e[Wn]=_e[un]=_e[rn]=_e[Sr]=_e[nn]=_e[Un]=_e[On]=_e[xt]=_e[an]=_e[Ot]=_e[on]=_e[vt]=_e[sn]=_e[ln]=!1;var xe={};xe[Pr]=xe[Wn]=xe[un]=xe[Sr]=xe[rn]=xe[nn]=xe[Ja]=xe[Qa]=xe[ja]=xe[eo]=xe[to]=xe[xt]=xe[an]=xe[Ot]=xe[on]=xe[vt]=xe[sn]=xe[$n]=xe[ro]=xe[no]=xe[ao]=xe[oo]=!0,xe[Un]=xe[On]=xe[ln]=!1;var Af={À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"},Df={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Bf={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ef={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Pf=parseFloat,Sf=parseInt,xs=typeof Dt=="object"&&Dt&&Dt.Object===Object&&Dt,Ff=typeof self=="object"&&self&&self.Object===Object&&self,ke=xs||Ff||Function("return this")(),go=r&&!r.nodeType&&r,pr=go&&!0&&i&&!i.nodeType&&i,vs=pr&&pr.exports===go,po=vs&&xs.process,ut=function(){try{var N=pr&&pr.require&&pr.require("util").types;return N||po&&po.binding&&po.binding("util")}catch{}}(),_s=ut&&ut.isArrayBuffer,Ns=ut&&ut.isDate,ws=ut&&ut.isMap,Ts=ut&&ut.isRegExp,bs=ut&&ut.isSet,As=ut&&ut.isTypedArray;function et(N,B,A){switch(A.length){case 0:return N.call(B);case 1:return N.call(B,A[0]);case 2:return N.call(B,A[0],A[1]);case 3:return N.call(B,A[0],A[1],A[2])}return N.apply(B,A)}function Rf(N,B,A,O){for(var Z=-1,ce=N==null?0:N.length;++Z<ce;){var Re=N[Z];B(O,Re,A(Re),N)}return O}function ct(N,B){for(var A=-1,O=N==null?0:N.length;++A<O&&B(N[A],A,N)!==!1;);return N}function Cf(N,B){for(var A=N==null?0:N.length;A--&&B(N[A],A,N)!==!1;);return N}function Ds(N,B){for(var A=-1,O=N==null?0:N.length;++A<O;)if(!B(N[A],A,N))return!1;return!0}function tr(N,B){for(var A=-1,O=N==null?0:N.length,Z=0,ce=[];++A<O;){var Re=N[A];B(Re,A,N)&&(ce[Z++]=Re)}return ce}function Gn(N,B){var A=N==null?0:N.length;return!!A&&Rr(N,B,0)>-1}function yo(N,B,A){for(var O=-1,Z=N==null?0:N.length;++O<Z;)if(A(B,N[O]))return!0;return!1}function we(N,B){for(var A=-1,O=N==null?0:N.length,Z=Array(O);++A<O;)Z[A]=B(N[A],A,N);return Z}function rr(N,B){for(var A=-1,O=B.length,Z=N.length;++A<O;)N[Z+A]=B[A];return N}function mo(N,B,A,O){var Z=-1,ce=N==null?0:N.length;for(O&&ce&&(A=N[++Z]);++Z<ce;)A=B(A,N[Z],Z,N);return A}function Kf(N,B,A,O){var Z=N==null?0:N.length;for(O&&Z&&(A=N[--Z]);Z--;)A=B(A,N[Z],Z,N);return A}function xo(N,B){for(var A=-1,O=N==null?0:N.length;++A<O;)if(B(N[A],A,N))return!0;return!1}var Mf=vo("length");function Lf(N){return N.split("")}function kf(N){return N.match(Yc)||[]}function Bs(N,B,A){var O;return A(N,function(Z,ce,Re){if(B(Z,ce,Re))return O=ce,!1}),O}function Xn(N,B,A,O){for(var Z=N.length,ce=A+(O?1:-1);O?ce--:++ce<Z;)if(B(N[ce],ce,N))return ce;return-1}function Rr(N,B,A){return B===B?Vf(N,B,A):Xn(N,Es,A)}function Wf(N,B,A,O){for(var Z=A-1,ce=N.length;++Z<ce;)if(O(N[Z],B))return Z;return-1}function Es(N){return N!==N}function Ps(N,B){var A=N==null?0:N.length;return A?No(N,B)/A:Er}function vo(N){return function(B){return B==null?n:B[N]}}function _o(N){return function(B){return N==null?n:N[B]}}function Ss(N,B,A,O,Z){return Z(N,function(ce,Re,ge){A=O?(O=!1,ce):B(A,ce,Re,ge)}),A}function Uf(N,B){var A=N.length;for(N.sort(B);A--;)N[A]=N[A].value;return N}function No(N,B){for(var A,O=-1,Z=N.length;++O<Z;){var ce=B(N[O]);ce!==n&&(A=A===n?ce:A+ce)}return A}function wo(N,B){for(var A=-1,O=Array(N);++A<N;)O[A]=B(A);return O}function Of(N,B){return we(B,function(A){return[A,N[A]]})}function Fs(N){return N&&N.slice(0,Ms(N)+1).replace(so,"")}function tt(N){return function(B){return N(B)}}function To(N,B){return we(B,function(A){return N[A]})}function cn(N,B){return N.has(B)}function Rs(N,B){for(var A=-1,O=N.length;++A<O&&Rr(B,N[A],0)>-1;);return A}function Cs(N,B){for(var A=N.length;A--&&Rr(B,N[A],0)>-1;);return A}function $f(N,B){for(var A=N.length,O=0;A--;)N[A]===B&&++O;return O}var Hf=_o(Af),If=_o(Df);function Yf(N){return"\\"+Ef[N]}function Gf(N,B){return N==null?n:N[B]}function Cr(N){return Nf.test(N)}function Xf(N){return wf.test(N)}function zf(N){for(var B,A=[];!(B=N.next()).done;)A.push(B.value);return A}function bo(N){var B=-1,A=Array(N.size);return N.forEach(function(O,Z){A[++B]=[Z,O]}),A}function Ks(N,B){return function(A){return N(B(A))}}function nr(N,B){for(var A=-1,O=N.length,Z=0,ce=[];++A<O;){var Re=N[A];(Re===B||Re===x)&&(N[A]=x,ce[Z++]=A)}return ce}function zn(N){var B=-1,A=Array(N.size);return N.forEach(function(O){A[++B]=O}),A}function qf(N){var B=-1,A=Array(N.size);return N.forEach(function(O){A[++B]=[O,O]}),A}function Vf(N,B,A){for(var O=A-1,Z=N.length;++O<Z;)if(N[O]===B)return O;return-1}function Zf(N,B,A){for(var O=A+1;O--;)if(N[O]===B)return O;return O}function Kr(N){return Cr(N)?Qf(N):Mf(N)}function _t(N){return Cr(N)?jf(N):Lf(N)}function Ms(N){for(var B=N.length;B--&&Oc.test(N.charAt(B)););return B}var Jf=_o(Bf);function Qf(N){for(var B=ho.lastIndex=0;ho.test(N);)++B;return B}function jf(N){return N.match(ho)||[]}function ed(N){return N.match(_f)||[]}var td=function N(B){B=B==null?ke:Mr.defaults(ke.Object(),B,Mr.pick(ke,Tf));var A=B.Array,O=B.Date,Z=B.Error,ce=B.Function,Re=B.Math,ge=B.Object,Ao=B.RegExp,rd=B.String,ft=B.TypeError,qn=A.prototype,nd=ce.prototype,Lr=ge.prototype,Vn=B["__core-js_shared__"],Zn=nd.toString,he=Lr.hasOwnProperty,ad=0,Ls=function(){var e=/[^.]+$/.exec(Vn&&Vn.keys&&Vn.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Jn=Lr.toString,od=Zn.call(ge),id=ke._,sd=Ao("^"+Zn.call(he).replace(io,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qn=vs?B.Buffer:n,ar=B.Symbol,jn=B.Uint8Array,ks=Qn?Qn.allocUnsafe:n,ea=Ks(ge.getPrototypeOf,ge),Ws=ge.create,Us=Lr.propertyIsEnumerable,ta=qn.splice,Os=ar?ar.isConcatSpreadable:n,fn=ar?ar.iterator:n,yr=ar?ar.toStringTag:n,ra=function(){try{var e=Nr(ge,"defineProperty");return e({},"",{}),e}catch{}}(),ld=B.clearTimeout!==ke.clearTimeout&&B.clearTimeout,ud=O&&O.now!==ke.Date.now&&O.now,cd=B.setTimeout!==ke.setTimeout&&B.setTimeout,na=Re.ceil,aa=Re.floor,Do=ge.getOwnPropertySymbols,fd=Qn?Qn.isBuffer:n,$s=B.isFinite,dd=qn.join,hd=Ks(ge.keys,ge),Ce=Re.max,Oe=Re.min,gd=O.now,pd=B.parseInt,Hs=Re.random,yd=qn.reverse,Bo=Nr(B,"DataView"),dn=Nr(B,"Map"),Eo=Nr(B,"Promise"),kr=Nr(B,"Set"),hn=Nr(B,"WeakMap"),gn=Nr(ge,"create"),oa=hn&&new hn,Wr={},md=wr(Bo),xd=wr(dn),vd=wr(Eo),_d=wr(kr),Nd=wr(hn),ia=ar?ar.prototype:n,pn=ia?ia.valueOf:n,Is=ia?ia.toString:n;function h(e){if(De(e)&&!Q(e)&&!(e instanceof oe)){if(e instanceof dt)return e;if(he.call(e,"__wrapped__"))return Yl(e)}return new dt(e)}var Ur=function(){function e(){}return function(t){if(!be(t))return{};if(Ws)return Ws(t);e.prototype=t;var a=new e;return e.prototype=n,a}}();function sa(){}function dt(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=n}h.templateSettings={escape:Kc,evaluate:Mc,interpolate:Qi,variable:"",imports:{_:h}},h.prototype=sa.prototype,h.prototype.constructor=h,dt.prototype=Ur(sa.prototype),dt.prototype.constructor=dt;function oe(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ct,this.__views__=[]}function wd(){var e=new oe(this.__wrapped__);return e.__actions__=ze(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=ze(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=ze(this.__views__),e}function Td(){if(this.__filtered__){var e=new oe(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function bd(){var e=this.__wrapped__.value(),t=this.__dir__,a=Q(e),l=t<0,f=a?e.length:0,p=Lh(0,f,this.__views__),y=p.start,_=p.end,w=_-y,P=l?_:y-1,S=this.__iteratees__,F=S.length,W=0,$=Oe(w,this.__takeCount__);if(!a||!l&&f==w&&$==w)return hl(e,this.__actions__);var G=[];e:for(;w--&&W<$;){P+=t;for(var te=-1,X=e[P];++te<F;){var ae=S[te],se=ae.iteratee,at=ae.type,Ge=se(X);if(at==Ft)X=Ge;else if(!Ge){if(at==St)continue e;break e}}G[W++]=X}return G}oe.prototype=Ur(sa.prototype),oe.prototype.constructor=oe;function mr(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var l=e[t];this.set(l[0],l[1])}}function Ad(){this.__data__=gn?gn(null):{},this.size=0}function Dd(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function Bd(e){var t=this.__data__;if(gn){var a=t[e];return a===g?n:a}return he.call(t,e)?t[e]:n}function Ed(e){var t=this.__data__;return gn?t[e]!==n:he.call(t,e)}function Pd(e,t){var a=this.__data__;return this.size+=this.has(e)?0:1,a[e]=gn&&t===n?g:t,this}mr.prototype.clear=Ad,mr.prototype.delete=Dd,mr.prototype.get=Bd,mr.prototype.has=Ed,mr.prototype.set=Pd;function $t(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var l=e[t];this.set(l[0],l[1])}}function Sd(){this.__data__=[],this.size=0}function Fd(e){var t=this.__data__,a=la(t,e);if(a<0)return!1;var l=t.length-1;return a==l?t.pop():ta.call(t,a,1),--this.size,!0}function Rd(e){var t=this.__data__,a=la(t,e);return a<0?n:t[a][1]}function Cd(e){return la(this.__data__,e)>-1}function Kd(e,t){var a=this.__data__,l=la(a,e);return l<0?(++this.size,a.push([e,t])):a[l][1]=t,this}$t.prototype.clear=Sd,$t.prototype.delete=Fd,$t.prototype.get=Rd,$t.prototype.has=Cd,$t.prototype.set=Kd;function Ht(e){var t=-1,a=e==null?0:e.length;for(this.clear();++t<a;){var l=e[t];this.set(l[0],l[1])}}function Md(){this.size=0,this.__data__={hash:new mr,map:new(dn||$t),string:new mr}}function Ld(e){var t=_a(this,e).delete(e);return this.size-=t?1:0,t}function kd(e){return _a(this,e).get(e)}function Wd(e){return _a(this,e).has(e)}function Ud(e,t){var a=_a(this,e),l=a.size;return a.set(e,t),this.size+=a.size==l?0:1,this}Ht.prototype.clear=Md,Ht.prototype.delete=Ld,Ht.prototype.get=kd,Ht.prototype.has=Wd,Ht.prototype.set=Ud;function xr(e){var t=-1,a=e==null?0:e.length;for(this.__data__=new Ht;++t<a;)this.add(e[t])}function Od(e){return this.__data__.set(e,g),this}function $d(e){return this.__data__.has(e)}xr.prototype.add=xr.prototype.push=Od,xr.prototype.has=$d;function Nt(e){var t=this.__data__=new $t(e);this.size=t.size}function Hd(){this.__data__=new $t,this.size=0}function Id(e){var t=this.__data__,a=t.delete(e);return this.size=t.size,a}function Yd(e){return this.__data__.get(e)}function Gd(e){return this.__data__.has(e)}function Xd(e,t){var a=this.__data__;if(a instanceof $t){var l=a.__data__;if(!dn||l.length<s-1)return l.push([e,t]),this.size=++a.size,this;a=this.__data__=new Ht(l)}return a.set(e,t),this.size=a.size,this}Nt.prototype.clear=Hd,Nt.prototype.delete=Id,Nt.prototype.get=Yd,Nt.prototype.has=Gd,Nt.prototype.set=Xd;function Ys(e,t){var a=Q(e),l=!a&&Tr(e),f=!a&&!l&&ur(e),p=!a&&!l&&!f&&Ir(e),y=a||l||f||p,_=y?wo(e.length,rd):[],w=_.length;for(var P in e)(t||he.call(e,P))&&!(y&&(P=="length"||f&&(P=="offset"||P=="parent")||p&&(P=="buffer"||P=="byteLength"||P=="byteOffset")||Xt(P,w)))&&_.push(P);return _}function Gs(e){var t=e.length;return t?e[Uo(0,t-1)]:n}function zd(e,t){return Na(ze(e),vr(t,0,e.length))}function qd(e){return Na(ze(e))}function Po(e,t,a){(a!==n&&!wt(e[t],a)||a===n&&!(t in e))&&It(e,t,a)}function yn(e,t,a){var l=e[t];(!(he.call(e,t)&&wt(l,a))||a===n&&!(t in e))&&It(e,t,a)}function la(e,t){for(var a=e.length;a--;)if(wt(e[a][0],t))return a;return-1}function Vd(e,t,a,l){return or(e,function(f,p,y){t(l,f,a(f),y)}),l}function Xs(e,t){return e&&Mt(t,Le(t),e)}function Zd(e,t){return e&&Mt(t,Ve(t),e)}function It(e,t,a){t=="__proto__"&&ra?ra(e,t,{configurable:!0,enumerable:!0,value:a,writable:!0}):e[t]=a}function So(e,t){for(var a=-1,l=t.length,f=A(l),p=e==null;++a<l;)f[a]=p?n:ci(e,t[a]);return f}function vr(e,t,a){return e===e&&(a!==n&&(e=e<=a?e:a),t!==n&&(e=e>=t?e:t)),e}function ht(e,t,a,l,f,p){var y,_=t&v,w=t&T,P=t&D;if(a&&(y=f?a(e,l,f,p):a(e)),y!==n)return y;if(!be(e))return e;var S=Q(e);if(S){if(y=Wh(e),!_)return ze(e,y)}else{var F=$e(e),W=F==On||F==qi;if(ur(e))return yl(e,_);if(F==Ot||F==Pr||W&&!f){if(y=w||W?{}:Ml(e),!_)return w?Bh(e,Zd(y,e)):Dh(e,Xs(y,e))}else{if(!xe[F])return f?e:{};y=Uh(e,F,_)}}p||(p=new Nt);var $=p.get(e);if($)return $;p.set(e,y),cu(e)?e.forEach(function(X){y.add(ht(X,t,a,X,e,p))}):lu(e)&&e.forEach(function(X,ae){y.set(ae,ht(X,t,a,ae,e,p))});var G=P?w?Zo:Vo:w?Ve:Le,te=S?n:G(e);return ct(te||e,function(X,ae){te&&(ae=X,X=e[ae]),yn(y,ae,ht(X,t,a,ae,e,p))}),y}function Jd(e){var t=Le(e);return function(a){return zs(a,e,t)}}function zs(e,t,a){var l=a.length;if(e==null)return!l;for(e=ge(e);l--;){var f=a[l],p=t[f],y=e[f];if(y===n&&!(f in e)||!p(y))return!1}return!0}function qs(e,t,a){if(typeof e!="function")throw new ft(u);return Tn(function(){e.apply(n,a)},t)}function mn(e,t,a,l){var f=-1,p=Gn,y=!0,_=e.length,w=[],P=t.length;if(!_)return w;a&&(t=we(t,tt(a))),l?(p=yo,y=!1):t.length>=s&&(p=cn,y=!1,t=new xr(t));e:for(;++f<_;){var S=e[f],F=a==null?S:a(S);if(S=l||S!==0?S:0,y&&F===F){for(var W=P;W--;)if(t[W]===F)continue e;w.push(S)}else p(t,F,l)||w.push(S)}return w}var or=Nl(Kt),Vs=Nl(Ro,!0);function Qd(e,t){var a=!0;return or(e,function(l,f,p){return a=!!t(l,f,p),a}),a}function ua(e,t,a){for(var l=-1,f=e.length;++l<f;){var p=e[l],y=t(p);if(y!=null&&(_===n?y===y&&!nt(y):a(y,_)))var _=y,w=p}return w}function jd(e,t,a,l){var f=e.length;for(a=ee(a),a<0&&(a=-a>f?0:f+a),l=l===n||l>f?f:ee(l),l<0&&(l+=f),l=a>l?0:du(l);a<l;)e[a++]=t;return e}function Zs(e,t){var a=[];return or(e,function(l,f,p){t(l,f,p)&&a.push(l)}),a}function We(e,t,a,l,f){var p=-1,y=e.length;for(a||(a=$h),f||(f=[]);++p<y;){var _=e[p];t>0&&a(_)?t>1?We(_,t-1,a,l,f):rr(f,_):l||(f[f.length]=_)}return f}var Fo=wl(),Js=wl(!0);function Kt(e,t){return e&&Fo(e,t,Le)}function Ro(e,t){return e&&Js(e,t,Le)}function ca(e,t){return tr(t,function(a){return zt(e[a])})}function _r(e,t){t=sr(t,e);for(var a=0,l=t.length;e!=null&&a<l;)e=e[Lt(t[a++])];return a&&a==l?e:n}function Qs(e,t,a){var l=t(e);return Q(e)?l:rr(l,a(e))}function Ie(e){return e==null?e===n?Bc:Ac:yr&&yr in ge(e)?Mh(e):qh(e)}function Co(e,t){return e>t}function eh(e,t){return e!=null&&he.call(e,t)}function th(e,t){return e!=null&&t in ge(e)}function rh(e,t,a){return e>=Oe(t,a)&&e<Ce(t,a)}function Ko(e,t,a){for(var l=a?yo:Gn,f=e[0].length,p=e.length,y=p,_=A(p),w=1/0,P=[];y--;){var S=e[y];y&&t&&(S=we(S,tt(t))),w=Oe(S.length,w),_[y]=!a&&(t||f>=120&&S.length>=120)?new xr(y&&S):n}S=e[0];var F=-1,W=_[0];e:for(;++F<f&&P.length<w;){var $=S[F],G=t?t($):$;if($=a||$!==0?$:0,!(W?cn(W,G):l(P,G,a))){for(y=p;--y;){var te=_[y];if(!(te?cn(te,G):l(e[y],G,a)))continue e}W&&W.push(G),P.push($)}}return P}function nh(e,t,a,l){return Kt(e,function(f,p,y){t(l,a(f),p,y)}),l}function xn(e,t,a){t=sr(t,e),e=Ul(e,t);var l=e==null?e:e[Lt(pt(t))];return l==null?n:et(l,e,a)}function js(e){return De(e)&&Ie(e)==Pr}function ah(e){return De(e)&&Ie(e)==un}function oh(e){return De(e)&&Ie(e)==nn}function vn(e,t,a,l,f){return e===t?!0:e==null||t==null||!De(e)&&!De(t)?e!==e&&t!==t:ih(e,t,a,l,vn,f)}function ih(e,t,a,l,f,p){var y=Q(e),_=Q(t),w=y?Wn:$e(e),P=_?Wn:$e(t);w=w==Pr?Ot:w,P=P==Pr?Ot:P;var S=w==Ot,F=P==Ot,W=w==P;if(W&&ur(e)){if(!ur(t))return!1;y=!0,S=!1}if(W&&!S)return p||(p=new Nt),y||Ir(e)?Rl(e,t,a,l,f,p):Ch(e,t,w,a,l,f,p);if(!(a&b)){var $=S&&he.call(e,"__wrapped__"),G=F&&he.call(t,"__wrapped__");if($||G){var te=$?e.value():e,X=G?t.value():t;return p||(p=new Nt),f(te,X,a,l,p)}}return W?(p||(p=new Nt),Kh(e,t,a,l,f,p)):!1}function sh(e){return De(e)&&$e(e)==xt}function Mo(e,t,a,l){var f=a.length,p=f,y=!l;if(e==null)return!p;for(e=ge(e);f--;){var _=a[f];if(y&&_[2]?_[1]!==e[_[0]]:!(_[0]in e))return!1}for(;++f<p;){_=a[f];var w=_[0],P=e[w],S=_[1];if(y&&_[2]){if(P===n&&!(w in e))return!1}else{var F=new Nt;if(l)var W=l(P,S,w,e,t,F);if(!(W===n?vn(S,P,b|E,l,F):W))return!1}}return!0}function el(e){if(!be(e)||Ih(e))return!1;var t=zt(e)?sd:Zc;return t.test(wr(e))}function lh(e){return De(e)&&Ie(e)==on}function uh(e){return De(e)&&$e(e)==vt}function ch(e){return De(e)&&Ba(e.length)&&!!_e[Ie(e)]}function tl(e){return typeof e=="function"?e:e==null?Ze:typeof e=="object"?Q(e)?al(e[0],e[1]):nl(e):Tu(e)}function Lo(e){if(!wn(e))return hd(e);var t=[];for(var a in ge(e))he.call(e,a)&&a!="constructor"&&t.push(a);return t}function fh(e){if(!be(e))return zh(e);var t=wn(e),a=[];for(var l in e)l=="constructor"&&(t||!he.call(e,l))||a.push(l);return a}function ko(e,t){return e<t}function rl(e,t){var a=-1,l=qe(e)?A(e.length):[];return or(e,function(f,p,y){l[++a]=t(f,p,y)}),l}function nl(e){var t=Qo(e);return t.length==1&&t[0][2]?kl(t[0][0],t[0][1]):function(a){return a===e||Mo(a,e,t)}}function al(e,t){return ei(e)&&Ll(t)?kl(Lt(e),t):function(a){var l=ci(a,e);return l===n&&l===t?fi(a,e):vn(t,l,b|E)}}function fa(e,t,a,l,f){e!==t&&Fo(t,function(p,y){if(f||(f=new Nt),be(p))dh(e,t,y,a,fa,l,f);else{var _=l?l(ri(e,y),p,y+"",e,t,f):n;_===n&&(_=p),Po(e,y,_)}},Ve)}function dh(e,t,a,l,f,p,y){var _=ri(e,a),w=ri(t,a),P=y.get(w);if(P){Po(e,a,P);return}var S=p?p(_,w,a+"",e,t,y):n,F=S===n;if(F){var W=Q(w),$=!W&&ur(w),G=!W&&!$&&Ir(w);S=w,W||$||G?Q(_)?S=_:Ee(_)?S=ze(_):$?(F=!1,S=yl(w,!0)):G?(F=!1,S=ml(w,!0)):S=[]:bn(w)||Tr(w)?(S=_,Tr(_)?S=hu(_):(!be(_)||zt(_))&&(S=Ml(w))):F=!1}F&&(y.set(w,S),f(S,w,l,p,y),y.delete(w)),Po(e,a,S)}function ol(e,t){var a=e.length;if(a)return t+=t<0?a:0,Xt(t,a)?e[t]:n}function il(e,t,a){t.length?t=we(t,function(p){return Q(p)?function(y){return _r(y,p.length===1?p[0]:p)}:p}):t=[Ze];var l=-1;t=we(t,tt(Y()));var f=rl(e,function(p,y,_){var w=we(t,function(P){return P(p)});return{criteria:w,index:++l,value:p}});return Uf(f,function(p,y){return Ah(p,y,a)})}function hh(e,t){return sl(e,t,function(a,l){return fi(e,l)})}function sl(e,t,a){for(var l=-1,f=t.length,p={};++l<f;){var y=t[l],_=_r(e,y);a(_,y)&&_n(p,sr(y,e),_)}return p}function gh(e){return function(t){return _r(t,e)}}function Wo(e,t,a,l){var f=l?Wf:Rr,p=-1,y=t.length,_=e;for(e===t&&(t=ze(t)),a&&(_=we(e,tt(a)));++p<y;)for(var w=0,P=t[p],S=a?a(P):P;(w=f(_,S,w,l))>-1;)_!==e&&ta.call(_,w,1),ta.call(e,w,1);return e}function ll(e,t){for(var a=e?t.length:0,l=a-1;a--;){var f=t[a];if(a==l||f!==p){var p=f;Xt(f)?ta.call(e,f,1):Ho(e,f)}}return e}function Uo(e,t){return e+aa(Hs()*(t-e+1))}function ph(e,t,a,l){for(var f=-1,p=Ce(na((t-e)/(a||1)),0),y=A(p);p--;)y[l?p:++f]=e,e+=a;return y}function Oo(e,t){var a="";if(!e||t<1||t>Rt)return a;do t%2&&(a+=e),t=aa(t/2),t&&(e+=e);while(t);return a}function ne(e,t){return ni(Wl(e,t,Ze),e+"")}function yh(e){return Gs(Yr(e))}function mh(e,t){var a=Yr(e);return Na(a,vr(t,0,a.length))}function _n(e,t,a,l){if(!be(e))return e;t=sr(t,e);for(var f=-1,p=t.length,y=p-1,_=e;_!=null&&++f<p;){var w=Lt(t[f]),P=a;if(w==="__proto__"||w==="constructor"||w==="prototype")return e;if(f!=y){var S=_[w];P=l?l(S,w,_):n,P===n&&(P=be(S)?S:Xt(t[f+1])?[]:{})}yn(_,w,P),_=_[w]}return e}var ul=oa?function(e,t){return oa.set(e,t),e}:Ze,xh=ra?function(e,t){return ra(e,"toString",{configurable:!0,enumerable:!1,value:hi(t),writable:!0})}:Ze;function vh(e){return Na(Yr(e))}function gt(e,t,a){var l=-1,f=e.length;t<0&&(t=-t>f?0:f+t),a=a>f?f:a,a<0&&(a+=f),f=t>a?0:a-t>>>0,t>>>=0;for(var p=A(f);++l<f;)p[l]=e[l+t];return p}function _h(e,t){var a;return or(e,function(l,f,p){return a=t(l,f,p),!a}),!!a}function da(e,t,a){var l=0,f=e==null?l:e.length;if(typeof t=="number"&&t===t&&f<=Nc){for(;l<f;){var p=l+f>>>1,y=e[p];y!==null&&!nt(y)&&(a?y<=t:y<t)?l=p+1:f=p}return f}return $o(e,t,Ze,a)}function $o(e,t,a,l){var f=0,p=e==null?0:e.length;if(p===0)return 0;t=a(t);for(var y=t!==t,_=t===null,w=nt(t),P=t===n;f<p;){var S=aa((f+p)/2),F=a(e[S]),W=F!==n,$=F===null,G=F===F,te=nt(F);if(y)var X=l||G;else P?X=G&&(l||W):_?X=G&&W&&(l||!$):w?X=G&&W&&!$&&(l||!te):$||te?X=!1:X=l?F<=t:F<t;X?f=S+1:p=S}return Oe(p,_c)}function cl(e,t){for(var a=-1,l=e.length,f=0,p=[];++a<l;){var y=e[a],_=t?t(y):y;if(!a||!wt(_,w)){var w=_;p[f++]=y===0?0:y}}return p}function fl(e){return typeof e=="number"?e:nt(e)?Er:+e}function rt(e){if(typeof e=="string")return e;if(Q(e))return we(e,rt)+"";if(nt(e))return Is?Is.call(e):"";var t=e+"";return t=="0"&&1/e==-je?"-0":t}function ir(e,t,a){var l=-1,f=Gn,p=e.length,y=!0,_=[],w=_;if(a)y=!1,f=yo;else if(p>=s){var P=t?null:Fh(e);if(P)return zn(P);y=!1,f=cn,w=new xr}else w=t?[]:_;e:for(;++l<p;){var S=e[l],F=t?t(S):S;if(S=a||S!==0?S:0,y&&F===F){for(var W=w.length;W--;)if(w[W]===F)continue e;t&&w.push(F),_.push(S)}else f(w,F,a)||(w!==_&&w.push(F),_.push(S))}return _}function Ho(e,t){return t=sr(t,e),e=Ul(e,t),e==null||delete e[Lt(pt(t))]}function dl(e,t,a,l){return _n(e,t,a(_r(e,t)),l)}function ha(e,t,a,l){for(var f=e.length,p=l?f:-1;(l?p--:++p<f)&&t(e[p],p,e););return a?gt(e,l?0:p,l?p+1:f):gt(e,l?p+1:0,l?f:p)}function hl(e,t){var a=e;return a instanceof oe&&(a=a.value()),mo(t,function(l,f){return f.func.apply(f.thisArg,rr([l],f.args))},a)}function Io(e,t,a){var l=e.length;if(l<2)return l?ir(e[0]):[];for(var f=-1,p=A(l);++f<l;)for(var y=e[f],_=-1;++_<l;)_!=f&&(p[f]=mn(p[f]||y,e[_],t,a));return ir(We(p,1),t,a)}function gl(e,t,a){for(var l=-1,f=e.length,p=t.length,y={};++l<f;){var _=l<p?t[l]:n;a(y,e[l],_)}return y}function Yo(e){return Ee(e)?e:[]}function Go(e){return typeof e=="function"?e:Ze}function sr(e,t){return Q(e)?e:ei(e,t)?[e]:Il(de(e))}var Nh=ne;function lr(e,t,a){var l=e.length;return a=a===n?l:a,!t&&a>=l?e:gt(e,t,a)}var pl=ld||function(e){return ke.clearTimeout(e)};function yl(e,t){if(t)return e.slice();var a=e.length,l=ks?ks(a):new e.constructor(a);return e.copy(l),l}function Xo(e){var t=new e.constructor(e.byteLength);return new jn(t).set(new jn(e)),t}function wh(e,t){var a=t?Xo(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.byteLength)}function Th(e){var t=new e.constructor(e.source,ji.exec(e));return t.lastIndex=e.lastIndex,t}function bh(e){return pn?ge(pn.call(e)):{}}function ml(e,t){var a=t?Xo(e.buffer):e.buffer;return new e.constructor(a,e.byteOffset,e.length)}function xl(e,t){if(e!==t){var a=e!==n,l=e===null,f=e===e,p=nt(e),y=t!==n,_=t===null,w=t===t,P=nt(t);if(!_&&!P&&!p&&e>t||p&&y&&w&&!_&&!P||l&&y&&w||!a&&w||!f)return 1;if(!l&&!p&&!P&&e<t||P&&a&&f&&!l&&!p||_&&a&&f||!y&&f||!w)return-1}return 0}function Ah(e,t,a){for(var l=-1,f=e.criteria,p=t.criteria,y=f.length,_=a.length;++l<y;){var w=xl(f[l],p[l]);if(w){if(l>=_)return w;var P=a[l];return w*(P=="desc"?-1:1)}}return e.index-t.index}function vl(e,t,a,l){for(var f=-1,p=e.length,y=a.length,_=-1,w=t.length,P=Ce(p-y,0),S=A(w+P),F=!l;++_<w;)S[_]=t[_];for(;++f<y;)(F||f<p)&&(S[a[f]]=e[f]);for(;P--;)S[_++]=e[f++];return S}function _l(e,t,a,l){for(var f=-1,p=e.length,y=-1,_=a.length,w=-1,P=t.length,S=Ce(p-_,0),F=A(S+P),W=!l;++f<S;)F[f]=e[f];for(var $=f;++w<P;)F[$+w]=t[w];for(;++y<_;)(W||f<p)&&(F[$+a[y]]=e[f++]);return F}function ze(e,t){var a=-1,l=e.length;for(t||(t=A(l));++a<l;)t[a]=e[a];return t}function Mt(e,t,a,l){var f=!a;a||(a={});for(var p=-1,y=t.length;++p<y;){var _=t[p],w=l?l(a[_],e[_],_,a,e):n;w===n&&(w=e[_]),f?It(a,_,w):yn(a,_,w)}return a}function Dh(e,t){return Mt(e,jo(e),t)}function Bh(e,t){return Mt(e,Cl(e),t)}function ga(e,t){return function(a,l){var f=Q(a)?Rf:Vd,p=t?t():{};return f(a,e,Y(l,2),p)}}function Or(e){return ne(function(t,a){var l=-1,f=a.length,p=f>1?a[f-1]:n,y=f>2?a[2]:n;for(p=e.length>3&&typeof p=="function"?(f--,p):n,y&&Ye(a[0],a[1],y)&&(p=f<3?n:p,f=1),t=ge(t);++l<f;){var _=a[l];_&&e(t,_,l,p)}return t})}function Nl(e,t){return function(a,l){if(a==null)return a;if(!qe(a))return e(a,l);for(var f=a.length,p=t?f:-1,y=ge(a);(t?p--:++p<f)&&l(y[p],p,y)!==!1;);return a}}function wl(e){return function(t,a,l){for(var f=-1,p=ge(t),y=l(t),_=y.length;_--;){var w=y[e?_:++f];if(a(p[w],w,p)===!1)break}return t}}function Eh(e,t,a){var l=t&R,f=Nn(e);function p(){var y=this&&this!==ke&&this instanceof p?f:e;return y.apply(l?a:this,arguments)}return p}function Tl(e){return function(t){t=de(t);var a=Cr(t)?_t(t):n,l=a?a[0]:t.charAt(0),f=a?lr(a,1).join(""):t.slice(1);return l[e]()+f}}function $r(e){return function(t){return mo(Nu(_u(t).replace(xf,"")),e,"")}}function Nn(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var a=Ur(e.prototype),l=e.apply(a,t);return be(l)?l:a}}function Ph(e,t,a){var l=Nn(e);function f(){for(var p=arguments.length,y=A(p),_=p,w=Hr(f);_--;)y[_]=arguments[_];var P=p<3&&y[0]!==w&&y[p-1]!==w?[]:nr(y,w);if(p-=P.length,p<a)return El(e,t,pa,f.placeholder,n,y,P,n,n,a-p);var S=this&&this!==ke&&this instanceof f?l:e;return et(S,this,y)}return f}function bl(e){return function(t,a,l){var f=ge(t);if(!qe(t)){var p=Y(a,3);t=Le(t),a=function(_){return p(f[_],_,f)}}var y=e(t,a,l);return y>-1?f[p?t[y]:y]:n}}function Al(e){return Gt(function(t){var a=t.length,l=a,f=dt.prototype.thru;for(e&&t.reverse();l--;){var p=t[l];if(typeof p!="function")throw new ft(u);if(f&&!y&&va(p)=="wrapper")var y=new dt([],!0)}for(l=y?l:a;++l<a;){p=t[l];var _=va(p),w=_=="wrapper"?Jo(p):n;w&&ti(w[0])&&w[1]==(re|C|le|ye)&&!w[4].length&&w[9]==1?y=y[va(w[0])].apply(y,w[3]):y=p.length==1&&ti(p)?y[_]():y.thru(p)}return function(){var P=arguments,S=P[0];if(y&&P.length==1&&Q(S))return y.plant(S).value();for(var F=0,W=a?t[F].apply(this,P):S;++F<a;)W=t[F].call(this,W);return W}})}function pa(e,t,a,l,f,p,y,_,w,P){var S=t&re,F=t&R,W=t&L,$=t&(C|I),G=t&me,te=W?n:Nn(e);function X(){for(var ae=arguments.length,se=A(ae),at=ae;at--;)se[at]=arguments[at];if($)var Ge=Hr(X),ot=$f(se,Ge);if(l&&(se=vl(se,l,f,$)),p&&(se=_l(se,p,y,$)),ae-=ot,$&&ae<P){var Pe=nr(se,Ge);return El(e,t,pa,X.placeholder,a,se,Pe,_,w,P-ae)}var Tt=F?a:this,Vt=W?Tt[e]:e;return ae=se.length,_?se=Vh(se,_):G&&ae>1&&se.reverse(),S&&w<ae&&(se.length=w),this&&this!==ke&&this instanceof X&&(Vt=te||Nn(Vt)),Vt.apply(Tt,se)}return X}function Dl(e,t){return function(a,l){return nh(a,e,t(l),{})}}function ya(e,t){return function(a,l){var f;if(a===n&&l===n)return t;if(a!==n&&(f=a),l!==n){if(f===n)return l;typeof a=="string"||typeof l=="string"?(a=rt(a),l=rt(l)):(a=fl(a),l=fl(l)),f=e(a,l)}return f}}function zo(e){return Gt(function(t){return t=we(t,tt(Y())),ne(function(a){var l=this;return e(t,function(f){return et(f,l,a)})})})}function ma(e,t){t=t===n?" ":rt(t);var a=t.length;if(a<2)return a?Oo(t,e):t;var l=Oo(t,na(e/Kr(t)));return Cr(t)?lr(_t(l),0,e).join(""):l.slice(0,e)}function Sh(e,t,a,l){var f=t&R,p=Nn(e);function y(){for(var _=-1,w=arguments.length,P=-1,S=l.length,F=A(S+w),W=this&&this!==ke&&this instanceof y?p:e;++P<S;)F[P]=l[P];for(;w--;)F[P++]=arguments[++_];return et(W,f?a:this,F)}return y}function Bl(e){return function(t,a,l){return l&&typeof l!="number"&&Ye(t,a,l)&&(a=l=n),t=qt(t),a===n?(a=t,t=0):a=qt(a),l=l===n?t<a?1:-1:qt(l),ph(t,a,l,e)}}function xa(e){return function(t,a){return typeof t=="string"&&typeof a=="string"||(t=yt(t),a=yt(a)),e(t,a)}}function El(e,t,a,l,f,p,y,_,w,P){var S=t&C,F=S?y:n,W=S?n:y,$=S?p:n,G=S?n:p;t|=S?le:H,t&=~(S?H:le),t&k||(t&=~(R|L));var te=[e,t,f,$,F,G,W,_,w,P],X=a.apply(n,te);return ti(e)&&Ol(X,te),X.placeholder=l,$l(X,e,t)}function qo(e){var t=Re[e];return function(a,l){if(a=yt(a),l=l==null?0:Oe(ee(l),292),l&&$s(a)){var f=(de(a)+"e").split("e"),p=t(f[0]+"e"+(+f[1]+l));return f=(de(p)+"e").split("e"),+(f[0]+"e"+(+f[1]-l))}return t(a)}}var Fh=kr&&1/zn(new kr([,-0]))[1]==je?function(e){return new kr(e)}:yi;function Pl(e){return function(t){var a=$e(t);return a==xt?bo(t):a==vt?qf(t):Of(t,e(t))}}function Yt(e,t,a,l,f,p,y,_){var w=t&L;if(!w&&typeof e!="function")throw new ft(u);var P=l?l.length:0;if(P||(t&=~(le|H),l=f=n),y=y===n?y:Ce(ee(y),0),_=_===n?_:ee(_),P-=f?f.length:0,t&H){var S=l,F=f;l=f=n}var W=w?n:Jo(e),$=[e,t,a,l,f,S,F,p,y,_];if(W&&Xh($,W),e=$[0],t=$[1],a=$[2],l=$[3],f=$[4],_=$[9]=$[9]===n?w?0:e.length:Ce($[9]-P,0),!_&&t&(C|I)&&(t&=~(C|I)),!t||t==R)var G=Eh(e,t,a);else t==C||t==I?G=Ph(e,t,_):(t==le||t==(R|le))&&!f.length?G=Sh(e,t,a,l):G=pa.apply(n,$);var te=W?ul:Ol;return $l(te(G,$),e,t)}function Sl(e,t,a,l){return e===n||wt(e,Lr[a])&&!he.call(l,a)?t:e}function Fl(e,t,a,l,f,p){return be(e)&&be(t)&&(p.set(t,e),fa(e,t,n,Fl,p),p.delete(t)),e}function Rh(e){return bn(e)?n:e}function Rl(e,t,a,l,f,p){var y=a&b,_=e.length,w=t.length;if(_!=w&&!(y&&w>_))return!1;var P=p.get(e),S=p.get(t);if(P&&S)return P==t&&S==e;var F=-1,W=!0,$=a&E?new xr:n;for(p.set(e,t),p.set(t,e);++F<_;){var G=e[F],te=t[F];if(l)var X=y?l(te,G,F,t,e,p):l(G,te,F,e,t,p);if(X!==n){if(X)continue;W=!1;break}if($){if(!xo(t,function(ae,se){if(!cn($,se)&&(G===ae||f(G,ae,a,l,p)))return $.push(se)})){W=!1;break}}else if(!(G===te||f(G,te,a,l,p))){W=!1;break}}return p.delete(e),p.delete(t),W}function Ch(e,t,a,l,f,p,y){switch(a){case Sr:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case un:return!(e.byteLength!=t.byteLength||!p(new jn(e),new jn(t)));case rn:case nn:case an:return wt(+e,+t);case Un:return e.name==t.name&&e.message==t.message;case on:case sn:return e==t+"";case xt:var _=bo;case vt:var w=l&b;if(_||(_=zn),e.size!=t.size&&!w)return!1;var P=y.get(e);if(P)return P==t;l|=E,y.set(e,t);var S=Rl(_(e),_(t),l,f,p,y);return y.delete(e),S;case $n:if(pn)return pn.call(e)==pn.call(t)}return!1}function Kh(e,t,a,l,f,p){var y=a&b,_=Vo(e),w=_.length,P=Vo(t),S=P.length;if(w!=S&&!y)return!1;for(var F=w;F--;){var W=_[F];if(!(y?W in t:he.call(t,W)))return!1}var $=p.get(e),G=p.get(t);if($&&G)return $==t&&G==e;var te=!0;p.set(e,t),p.set(t,e);for(var X=y;++F<w;){W=_[F];var ae=e[W],se=t[W];if(l)var at=y?l(se,ae,W,t,e,p):l(ae,se,W,e,t,p);if(!(at===n?ae===se||f(ae,se,a,l,p):at)){te=!1;break}X||(X=W=="constructor")}if(te&&!X){var Ge=e.constructor,ot=t.constructor;Ge!=ot&&"constructor"in e&&"constructor"in t&&!(typeof Ge=="function"&&Ge instanceof Ge&&typeof ot=="function"&&ot instanceof ot)&&(te=!1)}return p.delete(e),p.delete(t),te}function Gt(e){return ni(Wl(e,n,zl),e+"")}function Vo(e){return Qs(e,Le,jo)}function Zo(e){return Qs(e,Ve,Cl)}var Jo=oa?function(e){return oa.get(e)}:yi;function va(e){for(var t=e.name+"",a=Wr[t],l=he.call(Wr,t)?a.length:0;l--;){var f=a[l],p=f.func;if(p==null||p==e)return f.name}return t}function Hr(e){var t=he.call(h,"placeholder")?h:e;return t.placeholder}function Y(){var e=h.iteratee||gi;return e=e===gi?tl:e,arguments.length?e(arguments[0],arguments[1]):e}function _a(e,t){var a=e.__data__;return Hh(t)?a[typeof t=="string"?"string":"hash"]:a.map}function Qo(e){for(var t=Le(e),a=t.length;a--;){var l=t[a],f=e[l];t[a]=[l,f,Ll(f)]}return t}function Nr(e,t){var a=Gf(e,t);return el(a)?a:n}function Mh(e){var t=he.call(e,yr),a=e[yr];try{e[yr]=n;var l=!0}catch{}var f=Jn.call(e);return l&&(t?e[yr]=a:delete e[yr]),f}var jo=Do?function(e){return e==null?[]:(e=ge(e),tr(Do(e),function(t){return Us.call(e,t)}))}:mi,Cl=Do?function(e){for(var t=[];e;)rr(t,jo(e)),e=ea(e);return t}:mi,$e=Ie;(Bo&&$e(new Bo(new ArrayBuffer(1)))!=Sr||dn&&$e(new dn)!=xt||Eo&&$e(Eo.resolve())!=Vi||kr&&$e(new kr)!=vt||hn&&$e(new hn)!=ln)&&($e=function(e){var t=Ie(e),a=t==Ot?e.constructor:n,l=a?wr(a):"";if(l)switch(l){case md:return Sr;case xd:return xt;case vd:return Vi;case _d:return vt;case Nd:return ln}return t});function Lh(e,t,a){for(var l=-1,f=a.length;++l<f;){var p=a[l],y=p.size;switch(p.type){case"drop":e+=y;break;case"dropRight":t-=y;break;case"take":t=Oe(t,e+y);break;case"takeRight":e=Ce(e,t-y);break}}return{start:e,end:t}}function kh(e){var t=e.match(Hc);return t?t[1].split(Ic):[]}function Kl(e,t,a){t=sr(t,e);for(var l=-1,f=t.length,p=!1;++l<f;){var y=Lt(t[l]);if(!(p=e!=null&&a(e,y)))break;e=e[y]}return p||++l!=f?p:(f=e==null?0:e.length,!!f&&Ba(f)&&Xt(y,f)&&(Q(e)||Tr(e)))}function Wh(e){var t=e.length,a=new e.constructor(t);return t&&typeof e[0]=="string"&&he.call(e,"index")&&(a.index=e.index,a.input=e.input),a}function Ml(e){return typeof e.constructor=="function"&&!wn(e)?Ur(ea(e)):{}}function Uh(e,t,a){var l=e.constructor;switch(t){case un:return Xo(e);case rn:case nn:return new l(+e);case Sr:return wh(e,a);case Ja:case Qa:case ja:case eo:case to:case ro:case no:case ao:case oo:return ml(e,a);case xt:return new l;case an:case sn:return new l(e);case on:return Th(e);case vt:return new l;case $n:return bh(e)}}function Oh(e,t){var a=t.length;if(!a)return e;var l=a-1;return t[l]=(a>1?"& ":"")+t[l],t=t.join(a>2?", ":" "),e.replace($c,`{
/* [wrapped with `+t+`] */
`)}function $h(e){return Q(e)||Tr(e)||!!(Os&&e&&e[Os])}function Xt(e,t){var a=typeof e;return t=t??Rt,!!t&&(a=="number"||a!="symbol"&&Qc.test(e))&&e>-1&&e%1==0&&e<t}function Ye(e,t,a){if(!be(a))return!1;var l=typeof t;return(l=="number"?qe(a)&&Xt(t,a.length):l=="string"&&t in a)?wt(a[t],e):!1}function ei(e,t){if(Q(e))return!1;var a=typeof e;return a=="number"||a=="symbol"||a=="boolean"||e==null||nt(e)?!0:kc.test(e)||!Lc.test(e)||t!=null&&e in ge(t)}function Hh(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function ti(e){var t=va(e),a=h[t];if(typeof a!="function"||!(t in oe.prototype))return!1;if(e===a)return!0;var l=Jo(a);return!!l&&e===l[0]}function Ih(e){return!!Ls&&Ls in e}var Yh=Vn?zt:xi;function wn(e){var t=e&&e.constructor,a=typeof t=="function"&&t.prototype||Lr;return e===a}function Ll(e){return e===e&&!be(e)}function kl(e,t){return function(a){return a==null?!1:a[e]===t&&(t!==n||e in ge(a))}}function Gh(e){var t=Aa(e,function(l){return a.size===m&&a.clear(),l}),a=t.cache;return t}function Xh(e,t){var a=e[1],l=t[1],f=a|l,p=f<(R|L|re),y=l==re&&a==C||l==re&&a==ye&&e[7].length<=t[8]||l==(re|ye)&&t[7].length<=t[8]&&a==C;if(!(p||y))return e;l&R&&(e[2]=t[2],f|=a&R?0:k);var _=t[3];if(_){var w=e[3];e[3]=w?vl(w,_,t[4]):_,e[4]=w?nr(e[3],x):t[4]}return _=t[5],_&&(w=e[5],e[5]=w?_l(w,_,t[6]):_,e[6]=w?nr(e[5],x):t[6]),_=t[7],_&&(e[7]=_),l&re&&(e[8]=e[8]==null?t[8]:Oe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=f,e}function zh(e){var t=[];if(e!=null)for(var a in ge(e))t.push(a);return t}function qh(e){return Jn.call(e)}function Wl(e,t,a){return t=Ce(t===n?e.length-1:t,0),function(){for(var l=arguments,f=-1,p=Ce(l.length-t,0),y=A(p);++f<p;)y[f]=l[t+f];f=-1;for(var _=A(t+1);++f<t;)_[f]=l[f];return _[t]=a(y),et(e,this,_)}}function Ul(e,t){return t.length<2?e:_r(e,gt(t,0,-1))}function Vh(e,t){for(var a=e.length,l=Oe(t.length,a),f=ze(e);l--;){var p=t[l];e[l]=Xt(p,a)?f[p]:n}return e}function ri(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Ol=Hl(ul),Tn=cd||function(e,t){return ke.setTimeout(e,t)},ni=Hl(xh);function $l(e,t,a){var l=t+"";return ni(e,Oh(l,Zh(kh(l),a)))}function Hl(e){var t=0,a=0;return function(){var l=gd(),f=Pt-(l-a);if(a=l,f>0){if(++t>=Qe)return arguments[0]}else t=0;return e.apply(n,arguments)}}function Na(e,t){var a=-1,l=e.length,f=l-1;for(t=t===n?l:t;++a<t;){var p=Uo(a,f),y=e[p];e[p]=e[a],e[a]=y}return e.length=t,e}var Il=Gh(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Wc,function(a,l,f,p){t.push(f?p.replace(Xc,"$1"):l||a)}),t});function Lt(e){if(typeof e=="string"||nt(e))return e;var t=e+"";return t=="0"&&1/e==-je?"-0":t}function wr(e){if(e!=null){try{return Zn.call(e)}catch{}try{return e+""}catch{}}return""}function Zh(e,t){return ct(wc,function(a){var l="_."+a[0];t&a[1]&&!Gn(e,l)&&e.push(l)}),e.sort()}function Yl(e){if(e instanceof oe)return e.clone();var t=new dt(e.__wrapped__,e.__chain__);return t.__actions__=ze(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Jh(e,t,a){(a?Ye(e,t,a):t===n)?t=1:t=Ce(ee(t),0);var l=e==null?0:e.length;if(!l||t<1)return[];for(var f=0,p=0,y=A(na(l/t));f<l;)y[p++]=gt(e,f,f+=t);return y}function Qh(e){for(var t=-1,a=e==null?0:e.length,l=0,f=[];++t<a;){var p=e[t];p&&(f[l++]=p)}return f}function jh(){var e=arguments.length;if(!e)return[];for(var t=A(e-1),a=arguments[0],l=e;l--;)t[l-1]=arguments[l];return rr(Q(a)?ze(a):[a],We(t,1))}var eg=ne(function(e,t){return Ee(e)?mn(e,We(t,1,Ee,!0)):[]}),tg=ne(function(e,t){var a=pt(t);return Ee(a)&&(a=n),Ee(e)?mn(e,We(t,1,Ee,!0),Y(a,2)):[]}),rg=ne(function(e,t){var a=pt(t);return Ee(a)&&(a=n),Ee(e)?mn(e,We(t,1,Ee,!0),n,a):[]});function ng(e,t,a){var l=e==null?0:e.length;return l?(t=a||t===n?1:ee(t),gt(e,t<0?0:t,l)):[]}function ag(e,t,a){var l=e==null?0:e.length;return l?(t=a||t===n?1:ee(t),t=l-t,gt(e,0,t<0?0:t)):[]}function og(e,t){return e&&e.length?ha(e,Y(t,3),!0,!0):[]}function ig(e,t){return e&&e.length?ha(e,Y(t,3),!0):[]}function sg(e,t,a,l){var f=e==null?0:e.length;return f?(a&&typeof a!="number"&&Ye(e,t,a)&&(a=0,l=f),jd(e,t,a,l)):[]}function Gl(e,t,a){var l=e==null?0:e.length;if(!l)return-1;var f=a==null?0:ee(a);return f<0&&(f=Ce(l+f,0)),Xn(e,Y(t,3),f)}function Xl(e,t,a){var l=e==null?0:e.length;if(!l)return-1;var f=l-1;return a!==n&&(f=ee(a),f=a<0?Ce(l+f,0):Oe(f,l-1)),Xn(e,Y(t,3),f,!0)}function zl(e){var t=e==null?0:e.length;return t?We(e,1):[]}function lg(e){var t=e==null?0:e.length;return t?We(e,je):[]}function ug(e,t){var a=e==null?0:e.length;return a?(t=t===n?1:ee(t),We(e,t)):[]}function cg(e){for(var t=-1,a=e==null?0:e.length,l={};++t<a;){var f=e[t];l[f[0]]=f[1]}return l}function ql(e){return e&&e.length?e[0]:n}function fg(e,t,a){var l=e==null?0:e.length;if(!l)return-1;var f=a==null?0:ee(a);return f<0&&(f=Ce(l+f,0)),Rr(e,t,f)}function dg(e){var t=e==null?0:e.length;return t?gt(e,0,-1):[]}var hg=ne(function(e){var t=we(e,Yo);return t.length&&t[0]===e[0]?Ko(t):[]}),gg=ne(function(e){var t=pt(e),a=we(e,Yo);return t===pt(a)?t=n:a.pop(),a.length&&a[0]===e[0]?Ko(a,Y(t,2)):[]}),pg=ne(function(e){var t=pt(e),a=we(e,Yo);return t=typeof t=="function"?t:n,t&&a.pop(),a.length&&a[0]===e[0]?Ko(a,n,t):[]});function yg(e,t){return e==null?"":dd.call(e,t)}function pt(e){var t=e==null?0:e.length;return t?e[t-1]:n}function mg(e,t,a){var l=e==null?0:e.length;if(!l)return-1;var f=l;return a!==n&&(f=ee(a),f=f<0?Ce(l+f,0):Oe(f,l-1)),t===t?Zf(e,t,f):Xn(e,Es,f,!0)}function xg(e,t){return e&&e.length?ol(e,ee(t)):n}var vg=ne(Vl);function Vl(e,t){return e&&e.length&&t&&t.length?Wo(e,t):e}function _g(e,t,a){return e&&e.length&&t&&t.length?Wo(e,t,Y(a,2)):e}function Ng(e,t,a){return e&&e.length&&t&&t.length?Wo(e,t,n,a):e}var wg=Gt(function(e,t){var a=e==null?0:e.length,l=So(e,t);return ll(e,we(t,function(f){return Xt(f,a)?+f:f}).sort(xl)),l});function Tg(e,t){var a=[];if(!(e&&e.length))return a;var l=-1,f=[],p=e.length;for(t=Y(t,3);++l<p;){var y=e[l];t(y,l,e)&&(a.push(y),f.push(l))}return ll(e,f),a}function ai(e){return e==null?e:yd.call(e)}function bg(e,t,a){var l=e==null?0:e.length;return l?(a&&typeof a!="number"&&Ye(e,t,a)?(t=0,a=l):(t=t==null?0:ee(t),a=a===n?l:ee(a)),gt(e,t,a)):[]}function Ag(e,t){return da(e,t)}function Dg(e,t,a){return $o(e,t,Y(a,2))}function Bg(e,t){var a=e==null?0:e.length;if(a){var l=da(e,t);if(l<a&&wt(e[l],t))return l}return-1}function Eg(e,t){return da(e,t,!0)}function Pg(e,t,a){return $o(e,t,Y(a,2),!0)}function Sg(e,t){var a=e==null?0:e.length;if(a){var l=da(e,t,!0)-1;if(wt(e[l],t))return l}return-1}function Fg(e){return e&&e.length?cl(e):[]}function Rg(e,t){return e&&e.length?cl(e,Y(t,2)):[]}function Cg(e){var t=e==null?0:e.length;return t?gt(e,1,t):[]}function Kg(e,t,a){return e&&e.length?(t=a||t===n?1:ee(t),gt(e,0,t<0?0:t)):[]}function Mg(e,t,a){var l=e==null?0:e.length;return l?(t=a||t===n?1:ee(t),t=l-t,gt(e,t<0?0:t,l)):[]}function Lg(e,t){return e&&e.length?ha(e,Y(t,3),!1,!0):[]}function kg(e,t){return e&&e.length?ha(e,Y(t,3)):[]}var Wg=ne(function(e){return ir(We(e,1,Ee,!0))}),Ug=ne(function(e){var t=pt(e);return Ee(t)&&(t=n),ir(We(e,1,Ee,!0),Y(t,2))}),Og=ne(function(e){var t=pt(e);return t=typeof t=="function"?t:n,ir(We(e,1,Ee,!0),n,t)});function $g(e){return e&&e.length?ir(e):[]}function Hg(e,t){return e&&e.length?ir(e,Y(t,2)):[]}function Ig(e,t){return t=typeof t=="function"?t:n,e&&e.length?ir(e,n,t):[]}function oi(e){if(!(e&&e.length))return[];var t=0;return e=tr(e,function(a){if(Ee(a))return t=Ce(a.length,t),!0}),wo(t,function(a){return we(e,vo(a))})}function Zl(e,t){if(!(e&&e.length))return[];var a=oi(e);return t==null?a:we(a,function(l){return et(t,n,l)})}var Yg=ne(function(e,t){return Ee(e)?mn(e,t):[]}),Gg=ne(function(e){return Io(tr(e,Ee))}),Xg=ne(function(e){var t=pt(e);return Ee(t)&&(t=n),Io(tr(e,Ee),Y(t,2))}),zg=ne(function(e){var t=pt(e);return t=typeof t=="function"?t:n,Io(tr(e,Ee),n,t)}),qg=ne(oi);function Vg(e,t){return gl(e||[],t||[],yn)}function Zg(e,t){return gl(e||[],t||[],_n)}var Jg=ne(function(e){var t=e.length,a=t>1?e[t-1]:n;return a=typeof a=="function"?(e.pop(),a):n,Zl(e,a)});function Jl(e){var t=h(e);return t.__chain__=!0,t}function Qg(e,t){return t(e),e}function wa(e,t){return t(e)}var jg=Gt(function(e){var t=e.length,a=t?e[0]:0,l=this.__wrapped__,f=function(p){return So(p,e)};return t>1||this.__actions__.length||!(l instanceof oe)||!Xt(a)?this.thru(f):(l=l.slice(a,+a+(t?1:0)),l.__actions__.push({func:wa,args:[f],thisArg:n}),new dt(l,this.__chain__).thru(function(p){return t&&!p.length&&p.push(n),p}))});function ep(){return Jl(this)}function tp(){return new dt(this.value(),this.__chain__)}function rp(){this.__values__===n&&(this.__values__=fu(this.value()));var e=this.__index__>=this.__values__.length,t=e?n:this.__values__[this.__index__++];return{done:e,value:t}}function np(){return this}function ap(e){for(var t,a=this;a instanceof sa;){var l=Yl(a);l.__index__=0,l.__values__=n,t?f.__wrapped__=l:t=l;var f=l;a=a.__wrapped__}return f.__wrapped__=e,t}function op(){var e=this.__wrapped__;if(e instanceof oe){var t=e;return this.__actions__.length&&(t=new oe(this)),t=t.reverse(),t.__actions__.push({func:wa,args:[ai],thisArg:n}),new dt(t,this.__chain__)}return this.thru(ai)}function ip(){return hl(this.__wrapped__,this.__actions__)}var sp=ga(function(e,t,a){he.call(e,a)?++e[a]:It(e,a,1)});function lp(e,t,a){var l=Q(e)?Ds:Qd;return a&&Ye(e,t,a)&&(t=n),l(e,Y(t,3))}function up(e,t){var a=Q(e)?tr:Zs;return a(e,Y(t,3))}var cp=bl(Gl),fp=bl(Xl);function dp(e,t){return We(Ta(e,t),1)}function hp(e,t){return We(Ta(e,t),je)}function gp(e,t,a){return a=a===n?1:ee(a),We(Ta(e,t),a)}function Ql(e,t){var a=Q(e)?ct:or;return a(e,Y(t,3))}function jl(e,t){var a=Q(e)?Cf:Vs;return a(e,Y(t,3))}var pp=ga(function(e,t,a){he.call(e,a)?e[a].push(t):It(e,a,[t])});function yp(e,t,a,l){e=qe(e)?e:Yr(e),a=a&&!l?ee(a):0;var f=e.length;return a<0&&(a=Ce(f+a,0)),Ea(e)?a<=f&&e.indexOf(t,a)>-1:!!f&&Rr(e,t,a)>-1}var mp=ne(function(e,t,a){var l=-1,f=typeof t=="function",p=qe(e)?A(e.length):[];return or(e,function(y){p[++l]=f?et(t,y,a):xn(y,t,a)}),p}),xp=ga(function(e,t,a){It(e,a,t)});function Ta(e,t){var a=Q(e)?we:rl;return a(e,Y(t,3))}function vp(e,t,a,l){return e==null?[]:(Q(t)||(t=t==null?[]:[t]),a=l?n:a,Q(a)||(a=a==null?[]:[a]),il(e,t,a))}var _p=ga(function(e,t,a){e[a?0:1].push(t)},function(){return[[],[]]});function Np(e,t,a){var l=Q(e)?mo:Ss,f=arguments.length<3;return l(e,Y(t,4),a,f,or)}function wp(e,t,a){var l=Q(e)?Kf:Ss,f=arguments.length<3;return l(e,Y(t,4),a,f,Vs)}function Tp(e,t){var a=Q(e)?tr:Zs;return a(e,Da(Y(t,3)))}function bp(e){var t=Q(e)?Gs:yh;return t(e)}function Ap(e,t,a){(a?Ye(e,t,a):t===n)?t=1:t=ee(t);var l=Q(e)?zd:mh;return l(e,t)}function Dp(e){var t=Q(e)?qd:vh;return t(e)}function Bp(e){if(e==null)return 0;if(qe(e))return Ea(e)?Kr(e):e.length;var t=$e(e);return t==xt||t==vt?e.size:Lo(e).length}function Ep(e,t,a){var l=Q(e)?xo:_h;return a&&Ye(e,t,a)&&(t=n),l(e,Y(t,3))}var Pp=ne(function(e,t){if(e==null)return[];var a=t.length;return a>1&&Ye(e,t[0],t[1])?t=[]:a>2&&Ye(t[0],t[1],t[2])&&(t=[t[0]]),il(e,We(t,1),[])}),ba=ud||function(){return ke.Date.now()};function Sp(e,t){if(typeof t!="function")throw new ft(u);return e=ee(e),function(){if(--e<1)return t.apply(this,arguments)}}function eu(e,t,a){return t=a?n:t,t=e&&t==null?e.length:t,Yt(e,re,n,n,n,n,t)}function tu(e,t){var a;if(typeof t!="function")throw new ft(u);return e=ee(e),function(){return--e>0&&(a=t.apply(this,arguments)),e<=1&&(t=n),a}}var ii=ne(function(e,t,a){var l=R;if(a.length){var f=nr(a,Hr(ii));l|=le}return Yt(e,l,t,a,f)}),ru=ne(function(e,t,a){var l=R|L;if(a.length){var f=nr(a,Hr(ru));l|=le}return Yt(t,l,e,a,f)});function nu(e,t,a){t=a?n:t;var l=Yt(e,C,n,n,n,n,n,t);return l.placeholder=nu.placeholder,l}function au(e,t,a){t=a?n:t;var l=Yt(e,I,n,n,n,n,n,t);return l.placeholder=au.placeholder,l}function ou(e,t,a){var l,f,p,y,_,w,P=0,S=!1,F=!1,W=!0;if(typeof e!="function")throw new ft(u);t=yt(t)||0,be(a)&&(S=!!a.leading,F="maxWait"in a,p=F?Ce(yt(a.maxWait)||0,t):p,W="trailing"in a?!!a.trailing:W);function $(Pe){var Tt=l,Vt=f;return l=f=n,P=Pe,y=e.apply(Vt,Tt),y}function G(Pe){return P=Pe,_=Tn(ae,t),S?$(Pe):y}function te(Pe){var Tt=Pe-w,Vt=Pe-P,bu=t-Tt;return F?Oe(bu,p-Vt):bu}function X(Pe){var Tt=Pe-w,Vt=Pe-P;return w===n||Tt>=t||Tt<0||F&&Vt>=p}function ae(){var Pe=ba();if(X(Pe))return se(Pe);_=Tn(ae,te(Pe))}function se(Pe){return _=n,W&&l?$(Pe):(l=f=n,y)}function at(){_!==n&&pl(_),P=0,l=w=f=_=n}function Ge(){return _===n?y:se(ba())}function ot(){var Pe=ba(),Tt=X(Pe);if(l=arguments,f=this,w=Pe,Tt){if(_===n)return G(w);if(F)return pl(_),_=Tn(ae,t),$(w)}return _===n&&(_=Tn(ae,t)),y}return ot.cancel=at,ot.flush=Ge,ot}var Fp=ne(function(e,t){return qs(e,1,t)}),Rp=ne(function(e,t,a){return qs(e,yt(t)||0,a)});function Cp(e){return Yt(e,me)}function Aa(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new ft(u);var a=function(){var l=arguments,f=t?t.apply(this,l):l[0],p=a.cache;if(p.has(f))return p.get(f);var y=e.apply(this,l);return a.cache=p.set(f,y)||p,y};return a.cache=new(Aa.Cache||Ht),a}Aa.Cache=Ht;function Da(e){if(typeof e!="function")throw new ft(u);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function Kp(e){return tu(2,e)}var Mp=Nh(function(e,t){t=t.length==1&&Q(t[0])?we(t[0],tt(Y())):we(We(t,1),tt(Y()));var a=t.length;return ne(function(l){for(var f=-1,p=Oe(l.length,a);++f<p;)l[f]=t[f].call(this,l[f]);return et(e,this,l)})}),si=ne(function(e,t){var a=nr(t,Hr(si));return Yt(e,le,n,t,a)}),iu=ne(function(e,t){var a=nr(t,Hr(iu));return Yt(e,H,n,t,a)}),Lp=Gt(function(e,t){return Yt(e,ye,n,n,n,t)});function kp(e,t){if(typeof e!="function")throw new ft(u);return t=t===n?t:ee(t),ne(e,t)}function Wp(e,t){if(typeof e!="function")throw new ft(u);return t=t==null?0:Ce(ee(t),0),ne(function(a){var l=a[t],f=lr(a,0,t);return l&&rr(f,l),et(e,this,f)})}function Up(e,t,a){var l=!0,f=!0;if(typeof e!="function")throw new ft(u);return be(a)&&(l="leading"in a?!!a.leading:l,f="trailing"in a?!!a.trailing:f),ou(e,t,{leading:l,maxWait:t,trailing:f})}function Op(e){return eu(e,1)}function $p(e,t){return si(Go(t),e)}function Hp(){if(!arguments.length)return[];var e=arguments[0];return Q(e)?e:[e]}function Ip(e){return ht(e,D)}function Yp(e,t){return t=typeof t=="function"?t:n,ht(e,D,t)}function Gp(e){return ht(e,v|D)}function Xp(e,t){return t=typeof t=="function"?t:n,ht(e,v|D,t)}function zp(e,t){return t==null||zs(e,t,Le(t))}function wt(e,t){return e===t||e!==e&&t!==t}var qp=xa(Co),Vp=xa(function(e,t){return e>=t}),Tr=js(function(){return arguments}())?js:function(e){return De(e)&&he.call(e,"callee")&&!Us.call(e,"callee")},Q=A.isArray,Zp=_s?tt(_s):ah;function qe(e){return e!=null&&Ba(e.length)&&!zt(e)}function Ee(e){return De(e)&&qe(e)}function Jp(e){return e===!0||e===!1||De(e)&&Ie(e)==rn}var ur=fd||xi,Qp=Ns?tt(Ns):oh;function jp(e){return De(e)&&e.nodeType===1&&!bn(e)}function ey(e){if(e==null)return!0;if(qe(e)&&(Q(e)||typeof e=="string"||typeof e.splice=="function"||ur(e)||Ir(e)||Tr(e)))return!e.length;var t=$e(e);if(t==xt||t==vt)return!e.size;if(wn(e))return!Lo(e).length;for(var a in e)if(he.call(e,a))return!1;return!0}function ty(e,t){return vn(e,t)}function ry(e,t,a){a=typeof a=="function"?a:n;var l=a?a(e,t):n;return l===n?vn(e,t,n,a):!!l}function li(e){if(!De(e))return!1;var t=Ie(e);return t==Un||t==bc||typeof e.message=="string"&&typeof e.name=="string"&&!bn(e)}function ny(e){return typeof e=="number"&&$s(e)}function zt(e){if(!be(e))return!1;var t=Ie(e);return t==On||t==qi||t==Tc||t==Dc}function su(e){return typeof e=="number"&&e==ee(e)}function Ba(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rt}function be(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function De(e){return e!=null&&typeof e=="object"}var lu=ws?tt(ws):sh;function ay(e,t){return e===t||Mo(e,t,Qo(t))}function oy(e,t,a){return a=typeof a=="function"?a:n,Mo(e,t,Qo(t),a)}function iy(e){return uu(e)&&e!=+e}function sy(e){if(Yh(e))throw new Z(c);return el(e)}function ly(e){return e===null}function uy(e){return e==null}function uu(e){return typeof e=="number"||De(e)&&Ie(e)==an}function bn(e){if(!De(e)||Ie(e)!=Ot)return!1;var t=ea(e);if(t===null)return!0;var a=he.call(t,"constructor")&&t.constructor;return typeof a=="function"&&a instanceof a&&Zn.call(a)==od}var ui=Ts?tt(Ts):lh;function cy(e){return su(e)&&e>=-Rt&&e<=Rt}var cu=bs?tt(bs):uh;function Ea(e){return typeof e=="string"||!Q(e)&&De(e)&&Ie(e)==sn}function nt(e){return typeof e=="symbol"||De(e)&&Ie(e)==$n}var Ir=As?tt(As):ch;function fy(e){return e===n}function dy(e){return De(e)&&$e(e)==ln}function hy(e){return De(e)&&Ie(e)==Ec}var gy=xa(ko),py=xa(function(e,t){return e<=t});function fu(e){if(!e)return[];if(qe(e))return Ea(e)?_t(e):ze(e);if(fn&&e[fn])return zf(e[fn]());var t=$e(e),a=t==xt?bo:t==vt?zn:Yr;return a(e)}function qt(e){if(!e)return e===0?e:0;if(e=yt(e),e===je||e===-je){var t=e<0?-1:1;return t*kn}return e===e?e:0}function ee(e){var t=qt(e),a=t%1;return t===t?a?t-a:t:0}function du(e){return e?vr(ee(e),0,Ct):0}function yt(e){if(typeof e=="number")return e;if(nt(e))return Er;if(be(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=be(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Fs(e);var a=Vc.test(e);return a||Jc.test(e)?Sf(e.slice(2),a?2:8):qc.test(e)?Er:+e}function hu(e){return Mt(e,Ve(e))}function yy(e){return e?vr(ee(e),-Rt,Rt):e===0?e:0}function de(e){return e==null?"":rt(e)}var my=Or(function(e,t){if(wn(t)||qe(t)){Mt(t,Le(t),e);return}for(var a in t)he.call(t,a)&&yn(e,a,t[a])}),gu=Or(function(e,t){Mt(t,Ve(t),e)}),Pa=Or(function(e,t,a,l){Mt(t,Ve(t),e,l)}),xy=Or(function(e,t,a,l){Mt(t,Le(t),e,l)}),vy=Gt(So);function _y(e,t){var a=Ur(e);return t==null?a:Xs(a,t)}var Ny=ne(function(e,t){e=ge(e);var a=-1,l=t.length,f=l>2?t[2]:n;for(f&&Ye(t[0],t[1],f)&&(l=1);++a<l;)for(var p=t[a],y=Ve(p),_=-1,w=y.length;++_<w;){var P=y[_],S=e[P];(S===n||wt(S,Lr[P])&&!he.call(e,P))&&(e[P]=p[P])}return e}),wy=ne(function(e){return e.push(n,Fl),et(pu,n,e)});function Ty(e,t){return Bs(e,Y(t,3),Kt)}function by(e,t){return Bs(e,Y(t,3),Ro)}function Ay(e,t){return e==null?e:Fo(e,Y(t,3),Ve)}function Dy(e,t){return e==null?e:Js(e,Y(t,3),Ve)}function By(e,t){return e&&Kt(e,Y(t,3))}function Ey(e,t){return e&&Ro(e,Y(t,3))}function Py(e){return e==null?[]:ca(e,Le(e))}function Sy(e){return e==null?[]:ca(e,Ve(e))}function ci(e,t,a){var l=e==null?n:_r(e,t);return l===n?a:l}function Fy(e,t){return e!=null&&Kl(e,t,eh)}function fi(e,t){return e!=null&&Kl(e,t,th)}var Ry=Dl(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Jn.call(t)),e[t]=a},hi(Ze)),Cy=Dl(function(e,t,a){t!=null&&typeof t.toString!="function"&&(t=Jn.call(t)),he.call(e,t)?e[t].push(a):e[t]=[a]},Y),Ky=ne(xn);function Le(e){return qe(e)?Ys(e):Lo(e)}function Ve(e){return qe(e)?Ys(e,!0):fh(e)}function My(e,t){var a={};return t=Y(t,3),Kt(e,function(l,f,p){It(a,t(l,f,p),l)}),a}function Ly(e,t){var a={};return t=Y(t,3),Kt(e,function(l,f,p){It(a,f,t(l,f,p))}),a}var ky=Or(function(e,t,a){fa(e,t,a)}),pu=Or(function(e,t,a,l){fa(e,t,a,l)}),Wy=Gt(function(e,t){var a={};if(e==null)return a;var l=!1;t=we(t,function(p){return p=sr(p,e),l||(l=p.length>1),p}),Mt(e,Zo(e),a),l&&(a=ht(a,v|T|D,Rh));for(var f=t.length;f--;)Ho(a,t[f]);return a});function Uy(e,t){return yu(e,Da(Y(t)))}var Oy=Gt(function(e,t){return e==null?{}:hh(e,t)});function yu(e,t){if(e==null)return{};var a=we(Zo(e),function(l){return[l]});return t=Y(t),sl(e,a,function(l,f){return t(l,f[0])})}function $y(e,t,a){t=sr(t,e);var l=-1,f=t.length;for(f||(f=1,e=n);++l<f;){var p=e==null?n:e[Lt(t[l])];p===n&&(l=f,p=a),e=zt(p)?p.call(e):p}return e}function Hy(e,t,a){return e==null?e:_n(e,t,a)}function Iy(e,t,a,l){return l=typeof l=="function"?l:n,e==null?e:_n(e,t,a,l)}var mu=Pl(Le),xu=Pl(Ve);function Yy(e,t,a){var l=Q(e),f=l||ur(e)||Ir(e);if(t=Y(t,4),a==null){var p=e&&e.constructor;f?a=l?new p:[]:be(e)?a=zt(p)?Ur(ea(e)):{}:a={}}return(f?ct:Kt)(e,function(y,_,w){return t(a,y,_,w)}),a}function Gy(e,t){return e==null?!0:Ho(e,t)}function Xy(e,t,a){return e==null?e:dl(e,t,Go(a))}function zy(e,t,a,l){return l=typeof l=="function"?l:n,e==null?e:dl(e,t,Go(a),l)}function Yr(e){return e==null?[]:To(e,Le(e))}function qy(e){return e==null?[]:To(e,Ve(e))}function Vy(e,t,a){return a===n&&(a=t,t=n),a!==n&&(a=yt(a),a=a===a?a:0),t!==n&&(t=yt(t),t=t===t?t:0),vr(yt(e),t,a)}function Zy(e,t,a){return t=qt(t),a===n?(a=t,t=0):a=qt(a),e=yt(e),rh(e,t,a)}function Jy(e,t,a){if(a&&typeof a!="boolean"&&Ye(e,t,a)&&(t=a=n),a===n&&(typeof t=="boolean"?(a=t,t=n):typeof e=="boolean"&&(a=e,e=n)),e===n&&t===n?(e=0,t=1):(e=qt(e),t===n?(t=e,e=0):t=qt(t)),e>t){var l=e;e=t,t=l}if(a||e%1||t%1){var f=Hs();return Oe(e+f*(t-e+Pf("1e-"+((f+"").length-1))),t)}return Uo(e,t)}var Qy=$r(function(e,t,a){return t=t.toLowerCase(),e+(a?vu(t):t)});function vu(e){return di(de(e).toLowerCase())}function _u(e){return e=de(e),e&&e.replace(jc,Hf).replace(vf,"")}function jy(e,t,a){e=de(e),t=rt(t);var l=e.length;a=a===n?l:vr(ee(a),0,l);var f=a;return a-=t.length,a>=0&&e.slice(a,f)==t}function em(e){return e=de(e),e&&Cc.test(e)?e.replace(Ji,If):e}function tm(e){return e=de(e),e&&Uc.test(e)?e.replace(io,"\\$&"):e}var rm=$r(function(e,t,a){return e+(a?"-":"")+t.toLowerCase()}),nm=$r(function(e,t,a){return e+(a?" ":"")+t.toLowerCase()}),am=Tl("toLowerCase");function om(e,t,a){e=de(e),t=ee(t);var l=t?Kr(e):0;if(!t||l>=t)return e;var f=(t-l)/2;return ma(aa(f),a)+e+ma(na(f),a)}function im(e,t,a){e=de(e),t=ee(t);var l=t?Kr(e):0;return t&&l<t?e+ma(t-l,a):e}function sm(e,t,a){e=de(e),t=ee(t);var l=t?Kr(e):0;return t&&l<t?ma(t-l,a)+e:e}function lm(e,t,a){return a||t==null?t=0:t&&(t=+t),pd(de(e).replace(so,""),t||0)}function um(e,t,a){return(a?Ye(e,t,a):t===n)?t=1:t=ee(t),Oo(de(e),t)}function cm(){var e=arguments,t=de(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var fm=$r(function(e,t,a){return e+(a?"_":"")+t.toLowerCase()});function dm(e,t,a){return a&&typeof a!="number"&&Ye(e,t,a)&&(t=a=n),a=a===n?Ct:a>>>0,a?(e=de(e),e&&(typeof t=="string"||t!=null&&!ui(t))&&(t=rt(t),!t&&Cr(e))?lr(_t(e),0,a):e.split(t,a)):[]}var hm=$r(function(e,t,a){return e+(a?" ":"")+di(t)});function gm(e,t,a){return e=de(e),a=a==null?0:vr(ee(a),0,e.length),t=rt(t),e.slice(a,a+t.length)==t}function pm(e,t,a){var l=h.templateSettings;a&&Ye(e,t,a)&&(t=n),e=de(e),t=Pa({},t,l,Sl);var f=Pa({},t.imports,l.imports,Sl),p=Le(f),y=To(f,p),_,w,P=0,S=t.interpolate||Hn,F="__p += '",W=Ao((t.escape||Hn).source+"|"+S.source+"|"+(S===Qi?zc:Hn).source+"|"+(t.evaluate||Hn).source+"|$","g"),$="//# sourceURL="+(he.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++bf+"]")+`
`;e.replace(W,function(X,ae,se,at,Ge,ot){return se||(se=at),F+=e.slice(P,ot).replace(ef,Yf),ae&&(_=!0,F+=`' +
__e(`+ae+`) +
'`),Ge&&(w=!0,F+=`';
`+Ge+`;
__p += '`),se&&(F+=`' +
((__t = (`+se+`)) == null ? '' : __t) +
'`),P=ot+X.length,X}),F+=`';
`;var G=he.call(t,"variable")&&t.variable;if(!G)F=`with (obj) {
`+F+`
}
`;else if(Gc.test(G))throw new Z(d);F=(w?F.replace(Pc,""):F).replace(Sc,"$1").replace(Fc,"$1;"),F="function("+(G||"obj")+`) {
`+(G?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(_?", __e = _.escape":"")+(w?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+F+`return __p
}`;var te=wu(function(){return ce(p,$+"return "+F).apply(n,y)});if(te.source=F,li(te))throw te;return te}function ym(e){return de(e).toLowerCase()}function mm(e){return de(e).toUpperCase()}function xm(e,t,a){if(e=de(e),e&&(a||t===n))return Fs(e);if(!e||!(t=rt(t)))return e;var l=_t(e),f=_t(t),p=Rs(l,f),y=Cs(l,f)+1;return lr(l,p,y).join("")}function vm(e,t,a){if(e=de(e),e&&(a||t===n))return e.slice(0,Ms(e)+1);if(!e||!(t=rt(t)))return e;var l=_t(e),f=Cs(l,_t(t))+1;return lr(l,0,f).join("")}function _m(e,t,a){if(e=de(e),e&&(a||t===n))return e.replace(so,"");if(!e||!(t=rt(t)))return e;var l=_t(e),f=Rs(l,_t(t));return lr(l,f).join("")}function Nm(e,t){var a=Ne,l=Et;if(be(t)){var f="separator"in t?t.separator:f;a="length"in t?ee(t.length):a,l="omission"in t?rt(t.omission):l}e=de(e);var p=e.length;if(Cr(e)){var y=_t(e);p=y.length}if(a>=p)return e;var _=a-Kr(l);if(_<1)return l;var w=y?lr(y,0,_).join(""):e.slice(0,_);if(f===n)return w+l;if(y&&(_+=w.length-_),ui(f)){if(e.slice(_).search(f)){var P,S=w;for(f.global||(f=Ao(f.source,de(ji.exec(f))+"g")),f.lastIndex=0;P=f.exec(S);)var F=P.index;w=w.slice(0,F===n?_:F)}}else if(e.indexOf(rt(f),_)!=_){var W=w.lastIndexOf(f);W>-1&&(w=w.slice(0,W))}return w+l}function wm(e){return e=de(e),e&&Rc.test(e)?e.replace(Zi,Jf):e}var Tm=$r(function(e,t,a){return e+(a?" ":"")+t.toUpperCase()}),di=Tl("toUpperCase");function Nu(e,t,a){return e=de(e),t=a?n:t,t===n?Xf(e)?ed(e):kf(e):e.match(t)||[]}var wu=ne(function(e,t){try{return et(e,n,t)}catch(a){return li(a)?a:new Z(a)}}),bm=Gt(function(e,t){return ct(t,function(a){a=Lt(a),It(e,a,ii(e[a],e))}),e});function Am(e){var t=e==null?0:e.length,a=Y();return e=t?we(e,function(l){if(typeof l[1]!="function")throw new ft(u);return[a(l[0]),l[1]]}):[],ne(function(l){for(var f=-1;++f<t;){var p=e[f];if(et(p[0],this,l))return et(p[1],this,l)}})}function Dm(e){return Jd(ht(e,v))}function hi(e){return function(){return e}}function Bm(e,t){return e==null||e!==e?t:e}var Em=Al(),Pm=Al(!0);function Ze(e){return e}function gi(e){return tl(typeof e=="function"?e:ht(e,v))}function Sm(e){return nl(ht(e,v))}function Fm(e,t){return al(e,ht(t,v))}var Rm=ne(function(e,t){return function(a){return xn(a,e,t)}}),Cm=ne(function(e,t){return function(a){return xn(e,a,t)}});function pi(e,t,a){var l=Le(t),f=ca(t,l);a==null&&!(be(t)&&(f.length||!l.length))&&(a=t,t=e,e=this,f=ca(t,Le(t)));var p=!(be(a)&&"chain"in a)||!!a.chain,y=zt(e);return ct(f,function(_){var w=t[_];e[_]=w,y&&(e.prototype[_]=function(){var P=this.__chain__;if(p||P){var S=e(this.__wrapped__),F=S.__actions__=ze(this.__actions__);return F.push({func:w,args:arguments,thisArg:e}),S.__chain__=P,S}return w.apply(e,rr([this.value()],arguments))})}),e}function Km(){return ke._===this&&(ke._=id),this}function yi(){}function Mm(e){return e=ee(e),ne(function(t){return ol(t,e)})}var Lm=zo(we),km=zo(Ds),Wm=zo(xo);function Tu(e){return ei(e)?vo(Lt(e)):gh(e)}function Um(e){return function(t){return e==null?n:_r(e,t)}}var Om=Bl(),$m=Bl(!0);function mi(){return[]}function xi(){return!1}function Hm(){return{}}function Im(){return""}function Ym(){return!0}function Gm(e,t){if(e=ee(e),e<1||e>Rt)return[];var a=Ct,l=Oe(e,Ct);t=Y(t),e-=Ct;for(var f=wo(l,t);++a<e;)t(a);return f}function Xm(e){return Q(e)?we(e,Lt):nt(e)?[e]:ze(Il(de(e)))}function zm(e){var t=++ad;return de(e)+t}var qm=ya(function(e,t){return e+t},0),Vm=qo("ceil"),Zm=ya(function(e,t){return e/t},1),Jm=qo("floor");function Qm(e){return e&&e.length?ua(e,Ze,Co):n}function jm(e,t){return e&&e.length?ua(e,Y(t,2),Co):n}function e0(e){return Ps(e,Ze)}function t0(e,t){return Ps(e,Y(t,2))}function r0(e){return e&&e.length?ua(e,Ze,ko):n}function n0(e,t){return e&&e.length?ua(e,Y(t,2),ko):n}var a0=ya(function(e,t){return e*t},1),o0=qo("round"),i0=ya(function(e,t){return e-t},0);function s0(e){return e&&e.length?No(e,Ze):0}function l0(e,t){return e&&e.length?No(e,Y(t,2)):0}return h.after=Sp,h.ary=eu,h.assign=my,h.assignIn=gu,h.assignInWith=Pa,h.assignWith=xy,h.at=vy,h.before=tu,h.bind=ii,h.bindAll=bm,h.bindKey=ru,h.castArray=Hp,h.chain=Jl,h.chunk=Jh,h.compact=Qh,h.concat=jh,h.cond=Am,h.conforms=Dm,h.constant=hi,h.countBy=sp,h.create=_y,h.curry=nu,h.curryRight=au,h.debounce=ou,h.defaults=Ny,h.defaultsDeep=wy,h.defer=Fp,h.delay=Rp,h.difference=eg,h.differenceBy=tg,h.differenceWith=rg,h.drop=ng,h.dropRight=ag,h.dropRightWhile=og,h.dropWhile=ig,h.fill=sg,h.filter=up,h.flatMap=dp,h.flatMapDeep=hp,h.flatMapDepth=gp,h.flatten=zl,h.flattenDeep=lg,h.flattenDepth=ug,h.flip=Cp,h.flow=Em,h.flowRight=Pm,h.fromPairs=cg,h.functions=Py,h.functionsIn=Sy,h.groupBy=pp,h.initial=dg,h.intersection=hg,h.intersectionBy=gg,h.intersectionWith=pg,h.invert=Ry,h.invertBy=Cy,h.invokeMap=mp,h.iteratee=gi,h.keyBy=xp,h.keys=Le,h.keysIn=Ve,h.map=Ta,h.mapKeys=My,h.mapValues=Ly,h.matches=Sm,h.matchesProperty=Fm,h.memoize=Aa,h.merge=ky,h.mergeWith=pu,h.method=Rm,h.methodOf=Cm,h.mixin=pi,h.negate=Da,h.nthArg=Mm,h.omit=Wy,h.omitBy=Uy,h.once=Kp,h.orderBy=vp,h.over=Lm,h.overArgs=Mp,h.overEvery=km,h.overSome=Wm,h.partial=si,h.partialRight=iu,h.partition=_p,h.pick=Oy,h.pickBy=yu,h.property=Tu,h.propertyOf=Um,h.pull=vg,h.pullAll=Vl,h.pullAllBy=_g,h.pullAllWith=Ng,h.pullAt=wg,h.range=Om,h.rangeRight=$m,h.rearg=Lp,h.reject=Tp,h.remove=Tg,h.rest=kp,h.reverse=ai,h.sampleSize=Ap,h.set=Hy,h.setWith=Iy,h.shuffle=Dp,h.slice=bg,h.sortBy=Pp,h.sortedUniq=Fg,h.sortedUniqBy=Rg,h.split=dm,h.spread=Wp,h.tail=Cg,h.take=Kg,h.takeRight=Mg,h.takeRightWhile=Lg,h.takeWhile=kg,h.tap=Qg,h.throttle=Up,h.thru=wa,h.toArray=fu,h.toPairs=mu,h.toPairsIn=xu,h.toPath=Xm,h.toPlainObject=hu,h.transform=Yy,h.unary=Op,h.union=Wg,h.unionBy=Ug,h.unionWith=Og,h.uniq=$g,h.uniqBy=Hg,h.uniqWith=Ig,h.unset=Gy,h.unzip=oi,h.unzipWith=Zl,h.update=Xy,h.updateWith=zy,h.values=Yr,h.valuesIn=qy,h.without=Yg,h.words=Nu,h.wrap=$p,h.xor=Gg,h.xorBy=Xg,h.xorWith=zg,h.zip=qg,h.zipObject=Vg,h.zipObjectDeep=Zg,h.zipWith=Jg,h.entries=mu,h.entriesIn=xu,h.extend=gu,h.extendWith=Pa,pi(h,h),h.add=qm,h.attempt=wu,h.camelCase=Qy,h.capitalize=vu,h.ceil=Vm,h.clamp=Vy,h.clone=Ip,h.cloneDeep=Gp,h.cloneDeepWith=Xp,h.cloneWith=Yp,h.conformsTo=zp,h.deburr=_u,h.defaultTo=Bm,h.divide=Zm,h.endsWith=jy,h.eq=wt,h.escape=em,h.escapeRegExp=tm,h.every=lp,h.find=cp,h.findIndex=Gl,h.findKey=Ty,h.findLast=fp,h.findLastIndex=Xl,h.findLastKey=by,h.floor=Jm,h.forEach=Ql,h.forEachRight=jl,h.forIn=Ay,h.forInRight=Dy,h.forOwn=By,h.forOwnRight=Ey,h.get=ci,h.gt=qp,h.gte=Vp,h.has=Fy,h.hasIn=fi,h.head=ql,h.identity=Ze,h.includes=yp,h.indexOf=fg,h.inRange=Zy,h.invoke=Ky,h.isArguments=Tr,h.isArray=Q,h.isArrayBuffer=Zp,h.isArrayLike=qe,h.isArrayLikeObject=Ee,h.isBoolean=Jp,h.isBuffer=ur,h.isDate=Qp,h.isElement=jp,h.isEmpty=ey,h.isEqual=ty,h.isEqualWith=ry,h.isError=li,h.isFinite=ny,h.isFunction=zt,h.isInteger=su,h.isLength=Ba,h.isMap=lu,h.isMatch=ay,h.isMatchWith=oy,h.isNaN=iy,h.isNative=sy,h.isNil=uy,h.isNull=ly,h.isNumber=uu,h.isObject=be,h.isObjectLike=De,h.isPlainObject=bn,h.isRegExp=ui,h.isSafeInteger=cy,h.isSet=cu,h.isString=Ea,h.isSymbol=nt,h.isTypedArray=Ir,h.isUndefined=fy,h.isWeakMap=dy,h.isWeakSet=hy,h.join=yg,h.kebabCase=rm,h.last=pt,h.lastIndexOf=mg,h.lowerCase=nm,h.lowerFirst=am,h.lt=gy,h.lte=py,h.max=Qm,h.maxBy=jm,h.mean=e0,h.meanBy=t0,h.min=r0,h.minBy=n0,h.stubArray=mi,h.stubFalse=xi,h.stubObject=Hm,h.stubString=Im,h.stubTrue=Ym,h.multiply=a0,h.nth=xg,h.noConflict=Km,h.noop=yi,h.now=ba,h.pad=om,h.padEnd=im,h.padStart=sm,h.parseInt=lm,h.random=Jy,h.reduce=Np,h.reduceRight=wp,h.repeat=um,h.replace=cm,h.result=$y,h.round=o0,h.runInContext=N,h.sample=bp,h.size=Bp,h.snakeCase=fm,h.some=Ep,h.sortedIndex=Ag,h.sortedIndexBy=Dg,h.sortedIndexOf=Bg,h.sortedLastIndex=Eg,h.sortedLastIndexBy=Pg,h.sortedLastIndexOf=Sg,h.startCase=hm,h.startsWith=gm,h.subtract=i0,h.sum=s0,h.sumBy=l0,h.template=pm,h.times=Gm,h.toFinite=qt,h.toInteger=ee,h.toLength=du,h.toLower=ym,h.toNumber=yt,h.toSafeInteger=yy,h.toString=de,h.toUpper=mm,h.trim=xm,h.trimEnd=vm,h.trimStart=_m,h.truncate=Nm,h.unescape=wm,h.uniqueId=zm,h.upperCase=Tm,h.upperFirst=di,h.each=Ql,h.eachRight=jl,h.first=ql,pi(h,function(){var e={};return Kt(h,function(t,a){he.call(h.prototype,a)||(e[a]=t)}),e}(),{chain:!1}),h.VERSION=o,ct(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){h[e].placeholder=h}),ct(["drop","take"],function(e,t){oe.prototype[e]=function(a){a=a===n?1:Ce(ee(a),0);var l=this.__filtered__&&!t?new oe(this):this.clone();return l.__filtered__?l.__takeCount__=Oe(a,l.__takeCount__):l.__views__.push({size:Oe(a,Ct),type:e+(l.__dir__<0?"Right":"")}),l},oe.prototype[e+"Right"]=function(a){return this.reverse()[e](a).reverse()}}),ct(["filter","map","takeWhile"],function(e,t){var a=t+1,l=a==St||a==Ut;oe.prototype[e]=function(f){var p=this.clone();return p.__iteratees__.push({iteratee:Y(f,3),type:a}),p.__filtered__=p.__filtered__||l,p}}),ct(["head","last"],function(e,t){var a="take"+(t?"Right":"");oe.prototype[e]=function(){return this[a](1).value()[0]}}),ct(["initial","tail"],function(e,t){var a="drop"+(t?"":"Right");oe.prototype[e]=function(){return this.__filtered__?new oe(this):this[a](1)}}),oe.prototype.compact=function(){return this.filter(Ze)},oe.prototype.find=function(e){return this.filter(e).head()},oe.prototype.findLast=function(e){return this.reverse().find(e)},oe.prototype.invokeMap=ne(function(e,t){return typeof e=="function"?new oe(this):this.map(function(a){return xn(a,e,t)})}),oe.prototype.reject=function(e){return this.filter(Da(Y(e)))},oe.prototype.slice=function(e,t){e=ee(e);var a=this;return a.__filtered__&&(e>0||t<0)?new oe(a):(e<0?a=a.takeRight(-e):e&&(a=a.drop(e)),t!==n&&(t=ee(t),a=t<0?a.dropRight(-t):a.take(t-e)),a)},oe.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},oe.prototype.toArray=function(){return this.take(Ct)},Kt(oe.prototype,function(e,t){var a=/^(?:filter|find|map|reject)|While$/.test(t),l=/^(?:head|last)$/.test(t),f=h[l?"take"+(t=="last"?"Right":""):t],p=l||/^find/.test(t);f&&(h.prototype[t]=function(){var y=this.__wrapped__,_=l?[1]:arguments,w=y instanceof oe,P=_[0],S=w||Q(y),F=function(ae){var se=f.apply(h,rr([ae],_));return l&&W?se[0]:se};S&&a&&typeof P=="function"&&P.length!=1&&(w=S=!1);var W=this.__chain__,$=!!this.__actions__.length,G=p&&!W,te=w&&!$;if(!p&&S){y=te?y:new oe(this);var X=e.apply(y,_);return X.__actions__.push({func:wa,args:[F],thisArg:n}),new dt(X,W)}return G&&te?e.apply(this,_):(X=this.thru(F),G?l?X.value()[0]:X.value():X)})}),ct(["pop","push","shift","sort","splice","unshift"],function(e){var t=qn[e],a=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",l=/^(?:pop|shift)$/.test(e);h.prototype[e]=function(){var f=arguments;if(l&&!this.__chain__){var p=this.value();return t.apply(Q(p)?p:[],f)}return this[a](function(y){return t.apply(Q(y)?y:[],f)})}}),Kt(oe.prototype,function(e,t){var a=h[t];if(a){var l=a.name+"";he.call(Wr,l)||(Wr[l]=[]),Wr[l].push({name:t,func:a})}}),Wr[pa(n,L).name]=[{name:"wrapper",func:n}],oe.prototype.clone=wd,oe.prototype.reverse=Td,oe.prototype.value=bd,h.prototype.at=jg,h.prototype.chain=ep,h.prototype.commit=tp,h.prototype.next=rp,h.prototype.plant=ap,h.prototype.reverse=op,h.prototype.toJSON=h.prototype.valueOf=h.prototype.value=ip,h.prototype.first=h.prototype.head,fn&&(h.prototype[fn]=np),h},Mr=td();pr?((pr.exports=Mr)._=Mr,go._=Mr):ke._=Mr}).call(Dt)})(Oa,Oa.exports);var Jr=Oa.exports;const Yi="111";Zt(10),Zt(10),Zt(8);const wx='{"nodeDataArray":[{"key":1,"loc":{"x":274,"y":106},"width":150,"height":150,"bgC":"#8080FF","tableName":"主题","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"名称","primaryKey":false,"columnName":"themeName"},{"attrName":"父id","primaryKey":false,"columnName":"parentId"},{"attrName":"状态","columnName":"status","primaryKey":false,"foreignKey":false},{"attrName":"是否是文件夹","columnName":"isFiles","primaryKey":false,"foreignKey":false},{"attrName":"最后修改人Id","columnName":"modifierId","primaryKey":false,"foreignKey":false},{"attrName":"绘图数据","columnName":"graphics","primaryKey":false,"foreignKey":false},{"attrName":"实体数据","columnName":"entityInfos","primaryKey":false,"foreignKey":false}],"checkoutInfo":{"operator":2,"imgUrl":"https://timgsa.baidu.com/timg?image&quality=80&size=b9999_10000&sec=1577153562&di=707f4dafb7a30c1d4486d086e29113eb&imgtype=jpg&er=1&src=http%3A%2F%2Fimg2015.zdface.com%2F20191128%2F494953ca4b98166a13dd8d7f8eced177.jpg"},"id":1,"englishName":"en2","modelType":""},{"id":"kwoNyOPG","key":"kwoNyOPG","tableName":"绘图数据","englishName":"en_sI-0i","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"绘图数据","primaryKey":false,"foreignKey":false,"columnName":"graphics"}],"loc":{"x":660,"y":94},"width":150,"height":100},{"id":"tCDZrJ10","key":"tCDZrJ10","tableName":"实体","englishName":"en_4YSxb","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"中文名","primaryKey":false,"foreignKey":false,"columnName":"tableName"},{"attrName":"英文名","columnName":"englishName","primaryKey":false,"foreignKey":false},{"attrName":"模型类型","columnName":"modelType","primaryKey":false,"foreignKey":false},{"attrName":"实体创建人","columnName":"creatorId","primaryKey":false,"foreignKey":false},{"attrName":"实体属性集合","columnName":"attributes","primaryKey":false,"foreignKey":false}],"loc":{"x":259,"y":412},"width":162,"height":270},{"id":"v4_XbkeO","key":"v4_XbkeO","tableName":"属性","englishName":"en_LDn2Y","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"中文名","primaryKey":false,"foreignKey":false,"columnName":"attrName"},{"attrName":"英文名","columnName":"columnName","primaryKey":false,"foreignKey":false},{"attrName":"字段类型","columnName":"columnType","primaryKey":false,"foreignKey":false},{"attrName":"字段长度","columnName":"columnLength","primaryKey":false,"foreignKey":false},{"attrName":"字段详情","columnName":"columnInfo","primaryKey":false,"foreignKey":false},{"attrName":"是否为主键","columnName":"primaryKey","primaryKey":false,"foreignKey":false},{"attrName":"是否为外键","columnName":"foreignKey","primaryKey":false,"foreignKey":false},{"attrName":"是否非空","columnName":"notEmpty","primaryKey":false,"foreignKey":false},{"attrName":"属性_5xN","columnName":"5xN","primaryKey":false,"foreignKey":false},{"attrName":"属性_chu","columnName":"chu","primaryKey":false,"foreignKey":false},{"attrName":"属性_7pK","columnName":"7pK","primaryKey":false,"foreignKey":false}],"loc":{"x":651,"y":411},"width":185,"height":292},{"id":"RvHDE31u","key":"RvHDE31u","tableName":"用户","englishName":"en_k9fr0","modelType":"","attributes":[{"attrName":"userId","primaryKey":true,"foreignKey":false,"columnName":"userId"},{"attrName":"账号","primaryKey":false,"foreignKey":false,"columnName":"username"},{"attrName":"昵称","columnName":"nickname","primaryKey":false,"foreignKey":false},{"attrName":"工号","columnName":"jobNumber","primaryKey":false,"foreignKey":false},{"attrName":"头像","columnName":"avatar","primaryKey":false,"foreignKey":false},{"attrName":"权限码","columnName":"permissionCodes","primaryKey":false,"foreignKey":false}],"loc":{"x":654,"y":781},"width":180,"height":175},{"id":"4rmwNIZi","key":"4rmwNIZi","tableName":"模型","englishName":"en_pDZSL","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"项目Id","primaryKey":false,"foreignKey":false,"columnName":"projectId"},{"attrName":"项目名称","columnName":"projectName","primaryKey":false,"foreignKey":false},{"attrName":"项目类型","columnName":"projectType","primaryKey":false,"foreignKey":false},{"attrName":"项目版本","columnName":"projectVersion","primaryKey":false,"foreignKey":false},{"attrName":"租户Id","columnName":"tenantId","primaryKey":false,"foreignKey":false},{"attrName":"模型名称","columnName":"modelName","primaryKey":false,"foreignKey":false},{"attrName":"项目状态","columnName":"status","primaryKey":false,"foreignKey":false},{"attrName":"模型详情","columnName":"modelDetails","primaryKey":false,"foreignKey":false},{"attrName":"模型参与人数","columnName":"modelUserCount","primaryKey":false,"foreignKey":false},{"attrName":"模型人员信息","columnName":"userVo","primaryKey":false,"foreignKey":false}],"loc":{"x":283,"y":769},"width":170,"height":271},{"id":"D1o2pvaW","key":"D1o2pvaW","tableName":"备注基本信息","englishName":"en_blRGa","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"模型Id","primaryKey":false,"foreignKey":false,"columnName":"modelId"},{"attrName":"实体Id","columnName":"entityId","primaryKey":false,"foreignKey":false},{"attrName":"备注信息","columnName":"remarkContent","primaryKey":false,"foreignKey":false},{"attrName":"创建人","columnName":"creatorId","primaryKey":false,"foreignKey":false},{"attrName":"修改时间","columnName":"updateTime","primaryKey":false,"foreignKey":false}],"loc":{"x":1004,"y":1044},"width":186,"height":159},{"id":"YGlWujN4","key":"YGlWujN4","tableName":"引用基本信息","englishName":"en_PNIm3","modelType":"","attributes":[{"attrName":"引用状态","primaryKey":true,"foreignKey":false,"columnName":"quoteTypeEnum"},{"attrName":"引用实体","primaryKey":false,"foreignKey":false,"columnName":"quoteEntity"},{"attrName":"引用人","columnName":"quoteUser","primaryKey":false,"foreignKey":false},{"attrName":"引用时间","columnName":"quoteTime","primaryKey":false,"foreignKey":false}],"loc":{"x":1000,"y":768},"width":190,"height":210},{"id":"A6yjOeNv","key":"A6yjOeNv","tableName":"物理表","englishName":"en_u8SPu","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"实体Id","primaryKey":false,"foreignKey":false,"columnName":"entityId"},{"attrName":"英文名","columnName":"englishName","primaryKey":false,"foreignKey":false},{"attrName":"库名","columnName":"libName","primaryKey":false,"foreignKey":false}],"loc":{"x":1024,"y":1304},"width":150,"height":100},{"id":"ooLl6HuM","key":"ooLl6HuM","tableName":"日志","englishName":"en_pq_m7","modelType":"","attributes":[{"attrName":"实体日志Id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"实体Id","primaryKey":false,"foreignKey":false,"columnName":"entityId"},{"attrName":"操作人","columnName":"operUser","primaryKey":false,"foreignKey":false},{"attrName":"操作内容","columnName":"operContent","primaryKey":false,"foreignKey":false},{"attrName":"操作时间","columnName":"createTime","primaryKey":false,"foreignKey":false}],"loc":{"x":682,"y":1291},"width":175,"height":158},{"id":"nuvcNd7V","key":"nuvcNd7V","tableName":"索引表","englishName":"en_mEYeC","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"模型Id","primaryKey":false,"foreignKey":false,"columnName":"modelId"},{"attrName":"实体Id","columnName":"entityId","primaryKey":false,"foreignKey":false},{"attrName":"索引名称","columnName":"indexName","primaryKey":false,"foreignKey":false},{"attrName":"索引关联属性对象","columnName":"attributes","primaryKey":false,"foreignKey":false}],"loc":{"x":270,"y":1274},"width":156,"height":168},{"id":"YoO9Qioi","key":"YoO9Qioi","tableName":"domain表","englishName":"en_C87yc","modelType":"","attributes":[{"attrName":"id","primaryKey":true,"foreignKey":false,"columnName":"id"},{"attrName":"模型Id","primaryKey":false,"foreignKey":false,"columnName":"modelId"},{"attrName":"数据类型","columnName":"dataType","primaryKey":false,"foreignKey":false},{"attrName":"备注","columnName":"remarks","primaryKey":false,"foreignKey":false},{"attrName":"删除状态","columnName":"status","primaryKey":false,"foreignKey":false}],"loc":{"x":266,"y":1488},"width":150,"height":130}],"linkDataArray":[{"key":"171955836574012939","from":"v4_XbkeO","to":"tCDZrJ10","pos":[{"x":651,"y":547},{"x":536,"y":547},{"x":536,"y":547},{"x":421,"y":547}],"type":"primaryKey"},{"key":"171955837065896208","from":"tCDZrJ10","to":1,"pos":[{"x":347,"y":412},{"x":347,"y":334},{"x":347,"y":334},{"x":347,"y":256}],"type":"primaryKey"},{"key":"171955837439194445","from":"kwoNyOPG","to":1,"pos":[{"x":660,"y":150},{"x":542,"y":150},{"x":542,"y":150},{"x":424,"y":150}],"type":"primaryKey"},{"key":"17195594626753977","from":"RvHDE31u","to":"4rmwNIZi","pos":[{"x":654,"y":825},{"x":554,"y":825},{"x":554,"y":825},{"x":453,"y":825}],"type":"foreignKey"},{"key":"171955975047753727","from":"RvHDE31u","to":"YGlWujN4","pos":[{"x":834,"y":868},{"x":1000,"y":868}],"type":"foreignKey"},{"key":"171955994153937548","from":"RvHDE31u","to":"ooLl6HuM","pos":[{"x":758,"y":956},{"x":758,"y":1291}],"type":"foreignKey"},{"key":"171956004501159851","from":"v4_XbkeO","to":"nuvcNd7V","pos":[{"x":651,"y":557},{"x":112,"y":557},{"x":112,"y":1358},{"x":270,"y":1358}],"type":"foreignKey"}],"markDataArray":[],"noteDataArray":[]}',Tx=[{key:1,tableName:"主题",englishName:"en2",id:1,attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"名称",primaryKey:!1,columnName:"themeName"},{attrName:"父id",primaryKey:!1,columnName:"parentId"},{attrName:"状态",columnName:"status",primaryKey:!1,foreignKey:!1},{attrName:"是否是文件夹",columnName:"isFiles",primaryKey:!1,foreignKey:!1},{attrName:"最后修改人Id",columnName:"modifierId",primaryKey:!1,foreignKey:!1},{attrName:"绘图数据",columnName:"graphics",primaryKey:!1,foreignKey:!1},{attrName:"实体数据",columnName:"entityInfos",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"kwoNyOPG",tableName:"绘图数据",englishName:"en_sI-0i",id:"kwoNyOPG",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"绘图数据",primaryKey:!1,foreignKey:!1,columnName:"graphics"}],modelType:""},{key:"tCDZrJ10",tableName:"实体",englishName:"en_4YSxb",id:"tCDZrJ10",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"中文名",primaryKey:!1,foreignKey:!1,columnName:"tableName"},{attrName:"英文名",columnName:"englishName",primaryKey:!1,foreignKey:!1},{attrName:"模型类型",columnName:"modelType",primaryKey:!1,foreignKey:!1},{attrName:"实体创建人",columnName:"creatorId",primaryKey:!1,foreignKey:!1},{attrName:"实体属性集合",columnName:"attributes",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"v4_XbkeO",tableName:"属性",englishName:"en_LDn2Y",id:"v4_XbkeO",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"中文名",primaryKey:!1,foreignKey:!1,columnName:"attrName"},{attrName:"英文名",columnName:"columnName",primaryKey:!1,foreignKey:!1},{attrName:"字段类型",columnName:"columnType",primaryKey:!1,foreignKey:!1},{attrName:"字段长度",columnName:"columnLength",primaryKey:!1,foreignKey:!1},{attrName:"字段详情",columnName:"columnInfo",primaryKey:!1,foreignKey:!1},{attrName:"是否为主键",columnName:"primaryKey",primaryKey:!1,foreignKey:!1},{attrName:"是否为外键",columnName:"foreignKey",primaryKey:!1,foreignKey:!1},{attrName:"是否非空",columnName:"notEmpty",primaryKey:!1,foreignKey:!1},{attrName:"属性_5xN",columnName:"5xN",primaryKey:!1,foreignKey:!1},{attrName:"属性_chu",columnName:"chu",primaryKey:!1,foreignKey:!1},{attrName:"属性_7pK",columnName:"7pK",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"RvHDE31u",tableName:"用户",englishName:"en_k9fr0",id:"RvHDE31u",attributes:[{attrName:"userId",primaryKey:!0,foreignKey:!1,columnName:"userId"},{attrName:"账号",primaryKey:!1,foreignKey:!1,columnName:"username"},{attrName:"昵称",columnName:"nickname",primaryKey:!1,foreignKey:!1},{attrName:"工号",columnName:"jobNumber",primaryKey:!1,foreignKey:!1},{attrName:"头像",columnName:"avatar",primaryKey:!1,foreignKey:!1},{attrName:"权限码",columnName:"permissionCodes",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"4rmwNIZi",tableName:"模型",englishName:"en_pDZSL",id:"4rmwNIZi",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"项目Id",primaryKey:!1,foreignKey:!1,columnName:"projectId"},{attrName:"项目名称",columnName:"projectName",primaryKey:!1,foreignKey:!1},{attrName:"项目类型",columnName:"projectType",primaryKey:!1,foreignKey:!1},{attrName:"项目版本",columnName:"projectVersion",primaryKey:!1,foreignKey:!1},{attrName:"租户Id",columnName:"tenantId",primaryKey:!1,foreignKey:!1},{attrName:"模型名称",columnName:"modelName",primaryKey:!1,foreignKey:!1},{attrName:"项目状态",columnName:"status",primaryKey:!1,foreignKey:!1},{attrName:"模型详情",columnName:"modelDetails",primaryKey:!1,foreignKey:!1},{attrName:"模型参与人数",columnName:"modelUserCount",primaryKey:!1,foreignKey:!1},{attrName:"模型人员信息",columnName:"userVo",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"D1o2pvaW",tableName:"备注基本信息",englishName:"en_blRGa",id:"D1o2pvaW",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"模型Id",primaryKey:!1,foreignKey:!1,columnName:"modelId"},{attrName:"实体Id",columnName:"entityId",primaryKey:!1,foreignKey:!1},{attrName:"备注信息",columnName:"remarkContent",primaryKey:!1,foreignKey:!1},{attrName:"创建人",columnName:"creatorId",primaryKey:!1,foreignKey:!1},{attrName:"修改时间",columnName:"updateTime",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"YGlWujN4",tableName:"引用基本信息",englishName:"en_PNIm3",id:"YGlWujN4",attributes:[{attrName:"引用状态",primaryKey:!0,foreignKey:!1,columnName:"quoteTypeEnum"},{attrName:"引用实体",primaryKey:!1,foreignKey:!1,columnName:"quoteEntity"},{attrName:"引用人",columnName:"quoteUser",primaryKey:!1,foreignKey:!1},{attrName:"引用时间",columnName:"quoteTime",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"A6yjOeNv",tableName:"物理表",englishName:"en_u8SPu",id:"A6yjOeNv",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"实体Id",primaryKey:!1,foreignKey:!1,columnName:"entityId"},{attrName:"英文名",columnName:"englishName",primaryKey:!1,foreignKey:!1},{attrName:"库名",columnName:"libName",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"ooLl6HuM",tableName:"日志",englishName:"en_pq_m7",id:"ooLl6HuM",attributes:[{attrName:"实体日志Id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"实体Id",primaryKey:!1,foreignKey:!1,columnName:"entityId"},{attrName:"操作人",columnName:"operUser",primaryKey:!1,foreignKey:!1},{attrName:"操作内容",columnName:"operContent",primaryKey:!1,foreignKey:!1},{attrName:"操作时间",columnName:"createTime",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"nuvcNd7V",tableName:"索引表",englishName:"en_mEYeC",id:"nuvcNd7V",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"模型Id",primaryKey:!1,foreignKey:!1,columnName:"modelId"},{attrName:"实体Id",columnName:"entityId",primaryKey:!1,foreignKey:!1},{attrName:"索引名称",columnName:"indexName",primaryKey:!1,foreignKey:!1},{attrName:"索引关联属性对象",columnName:"attributes",primaryKey:!1,foreignKey:!1}],modelType:""},{key:"YoO9Qioi",tableName:"domain表",englishName:"en_C87yc",id:"YoO9Qioi",attributes:[{attrName:"id",primaryKey:!0,foreignKey:!1,columnName:"id"},{attrName:"模型Id",primaryKey:!1,foreignKey:!1,columnName:"modelId"},{attrName:"数据类型",columnName:"dataType",primaryKey:!1,foreignKey:!1},{attrName:"备注",columnName:"remarks",primaryKey:!1,foreignKey:!1},{attrName:"删除状态",columnName:"status",primaryKey:!1,foreignKey:!1}],modelType:""}],Eu={id:Yi,themeName:"主题名称",parentId:Zt(10),graphics:wx,entityInfos:Tx,isFiles:!1,status:"主题状态"},Kn=jr({checkedThemeId:null}),bx={name:"EjDisplayEdit",props:{type:{type:String,default:"input"},val:{type:[String,Number]},disabled:{type:Boolean,default:!1},disabledDrag:{type:Boolean,default:!0},fetchSuggestions:{type:Function,default:null}},data(){return{edit:!1,timer:null,timer1:null,changeSatus:!1}},computed:{val$:{get(){return this.val},set(i){this.$emit("update:val",i)}}},methods:{change(i){if(this.changeSatus)return;const r=()=>{clearTimeout(this.timer1),this.timer1=null};this.timer1&&r(),this.timer1=setTimeout(()=>{r(),this.$emit("change",i||this.val$),this.clearState()},500)},clearState(){this.changeEdit(),this.startDrag()},select(i){const r=()=>{clearTimeout(this.timer1),this.timer1=null};this.timer1&&r(),this.changeSatus=!0,this.$emit("select",i),this.clearState(),setTimeout(()=>{this.changeSatus=!1},100)},gotoEdit(){this.timer?(clearTimeout(this.timer),this.timer=null):this.timer=setTimeout(()=>{this.edit=!0,this.endDrag(),this.$nextTick(()=>{const r=(()=>{let n=null;return this.$refs.input?n=this.$refs.input:this.$refs.autocomplete&&(n=this.$refs.autocomplete.$el.querySelector("input")),n})();r&&(r.focus(),r.select())})},200)},changeEdit(){this.edit=!1},startDrag(){this.$emit("update:disabledDrag",!1)},endDrag(){this.$emit("update:disabledDrag",!0)}}},Ax={class:"ej-display-edit base-input-wrap"},Dx={key:1};function Bx(i,r,n,o,s,c){const u=ve("el-autocomplete");return pe(),Me("div",Ax,[s.edit?(pe(),Me("div",Dx,[n.type==="input"?Xu((pe(),Me("input",{key:0,ref:"input",type:"text","onUpdate:modelValue":r[1]||(r[1]=d=>c.val$=d),onBlur:r[2]||(r[2]=d=>c.change()),onKeyup:r[3]||(r[3]=ki(d=>c.change(),["enter"])),class:"my-input"},null,544)),[[p0,c.val$]]):(pe(),dr(u,{key:1,ref:"autocomplete",modelValue:c.val$,"onUpdate:modelValue":r[4]||(r[4]=d=>c.val$=d),"fetch-suggestions":n.fetchSuggestions,placeholder:"请输入内容",onKeyup:r[5]||(r[5]=ki(d=>c.change(),["enter","native"])),onBlur:r[6]||(r[6]=d=>c.change()),onSelect:r[7]||(r[7]=d=>{c.select(d.id)})},{default:V(({item:d})=>[qr(Ua(`${d.chName}-${d.enName}`),1)]),_:1},8,["modelValue","fetch-suggestions"]))])):(pe(),Me("div",{key:0,onClick:r[0]||(r[0]=(...d)=>c.gotoEdit&&c.gotoEdit(...d)),class:"min-height"},Ua(c.val$),1))])}const Ti=Hi(bx,[["render",Bx]]),$a={...Ti,install:i=>i.component(Ti.name,Ti)};var Ex=Object.defineProperty,Ha=Object.getOwnPropertySymbols,tc=Object.prototype.hasOwnProperty,rc=Object.prototype.propertyIsEnumerable,Pu=(i,r,n)=>r in i?Ex(i,r,{enumerable:!0,configurable:!0,writable:!0,value:n}):i[r]=n,nc=(i,r)=>{for(var n in r||(r={}))tc.call(r,n)&&Pu(i,n,r[n]);if(Ha)for(var n of Ha(r))rc.call(r,n)&&Pu(i,n,r[n]);return i},Px=(i,r)=>{var n={};for(var o in i)tc.call(i,o)&&r.indexOf(o)<0&&(n[o]=i[o]);if(i!=null&&Ha)for(var o of Ha(i))r.indexOf(o)<0&&rc.call(i,o)&&(n[o]=i[o]);return n};const ac="[vue-draggable-plus]: ";function Sx(i){console.warn(ac+i)}function Fx(i){console.error(ac+i)}function Su(i,r,n){return n>=0&&n<i.length&&i.splice(n,0,i.splice(r,1)[0]),i}function Fu(i,r){return Array.isArray(i)&&i.splice(r,1),i}function Ru(i,r,n){return Array.isArray(i)&&i.splice(r,0,n),i}function Rx(i){return typeof i>"u"}function Cx(i){return typeof i=="string"}function Cu(i,r,n){const o=i.children[n];i.insertBefore(r,o)}function bi(i){i.parentNode&&i.parentNode.removeChild(i)}function Kx(i,r=document){var n;let o=null;return typeof(r==null?void 0:r.querySelector)=="function"?o=(n=r==null?void 0:r.querySelector)==null?void 0:n.call(r,i):o=document.querySelector(i),o||Sx(`Element not found: ${i}`),o}function Mx(i,r,n=null){return function(...o){return i.apply(n,o),r.apply(n,o)}}function Lx(i,r){const n=nc({},i);return Object.keys(r).forEach(o=>{n[o]?n[o]=Mx(i[o],r[o]):n[o]=r[o]}),n}function kx(i){return i instanceof HTMLElement}function Wx(i,r){Object.keys(i).forEach(n=>{r(n,i[n])})}/**!
 * Sortable 1.15.2
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Ku(i,r){var n=Object.keys(i);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(i);r&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(i,s).enumerable})),n.push.apply(n,o)}return n}function Wt(i){for(var r=1;r<arguments.length;r++){var n=arguments[r]!=null?arguments[r]:{};r%2?Ku(Object(n),!0).forEach(function(o){Ux(i,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(n)):Ku(Object(n)).forEach(function(o){Object.defineProperty(i,o,Object.getOwnPropertyDescriptor(n,o))})}return i}function Ka(i){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Ka=function(r){return typeof r}:Ka=function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Ka(i)}function Ux(i,r,n){return r in i?Object.defineProperty(i,r,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[r]=n,i}function Qt(){return Qt=Object.assign||function(i){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(i[o]=n[o])}return i},Qt.apply(this,arguments)}function Ox(i,r){if(i==null)return{};var n={},o=Object.keys(i),s,c;for(c=0;c<o.length;c++)s=o[c],!(r.indexOf(s)>=0)&&(n[s]=i[s]);return n}function $x(i,r){if(i==null)return{};var n=Ox(i,r),o,s;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(s=0;s<c.length;s++)o=c[s],!(r.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(i,o)&&(n[o]=i[o])}return n}var Hx="1.15.2";function Jt(i){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(i)}var er=Jt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Mn=Jt(/Edge/i),Mu=Jt(/firefox/i),Pn=Jt(/safari/i)&&!Jt(/chrome/i)&&!Jt(/android/i),oc=Jt(/iP(ad|od|hone)/i),ic=Jt(/chrome/i)&&Jt(/android/i),sc={capture:!1,passive:!1};function fe(i,r,n){i.addEventListener(r,n,!er&&sc)}function ue(i,r,n){i.removeEventListener(r,n,!er&&sc)}function Ia(i,r){if(r){if(r[0]===">"&&(r=r.substring(1)),i)try{if(i.matches)return i.matches(r);if(i.msMatchesSelector)return i.msMatchesSelector(r);if(i.webkitMatchesSelector)return i.webkitMatchesSelector(r)}catch{return!1}return!1}}function Ix(i){return i.host&&i!==document&&i.host.nodeType?i.host:i.parentNode}function At(i,r,n,o){if(i){n=n||document;do{if(r!=null&&(r[0]===">"?i.parentNode===n&&Ia(i,r):Ia(i,r))||o&&i===n)return i;if(i===n)break}while(i=Ix(i))}return null}var Lu=/\s+/g;function it(i,r,n){if(i&&r)if(i.classList)i.classList[n?"add":"remove"](r);else{var o=(" "+i.className+" ").replace(Lu," ").replace(" "+r+" "," ");i.className=(o+(n?" "+r:"")).replace(Lu," ")}}function z(i,r,n){var o=i&&i.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(i,""):i.currentStyle&&(n=i.currentStyle),r===void 0?n:n[r];!(r in o)&&r.indexOf("webkit")===-1&&(r="-webkit-"+r),o[r]=n+(typeof n=="string"?"":"px")}}function Zr(i,r){var n="";if(typeof i=="string")n=i;else do{var o=z(i,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!r&&(i=i.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(n)}function lc(i,r,n){if(i){var o=i.getElementsByTagName(r),s=0,c=o.length;if(n)for(;s<c;s++)n(o[s],s);return o}return[]}function kt(){var i=document.scrollingElement;return i||document.documentElement}function Fe(i,r,n,o,s){if(!(!i.getBoundingClientRect&&i!==window)){var c,u,d,g,m,x,v;if(i!==window&&i.parentNode&&i!==kt()?(c=i.getBoundingClientRect(),u=c.top,d=c.left,g=c.bottom,m=c.right,x=c.height,v=c.width):(u=0,d=0,g=window.innerHeight,m=window.innerWidth,x=window.innerHeight,v=window.innerWidth),(r||n)&&i!==window&&(s=s||i.parentNode,!er))do if(s&&s.getBoundingClientRect&&(z(s,"transform")!=="none"||n&&z(s,"position")!=="static")){var T=s.getBoundingClientRect();u-=T.top+parseInt(z(s,"border-top-width")),d-=T.left+parseInt(z(s,"border-left-width")),g=u+c.height,m=d+c.width;break}while(s=s.parentNode);if(o&&i!==window){var D=Zr(s||i),b=D&&D.a,E=D&&D.d;D&&(u/=E,d/=b,v/=b,x/=E,g=u+x,m=d+v)}return{top:u,left:d,bottom:g,right:m,width:v,height:x}}}function ku(i,r,n){for(var o=gr(i,!0),s=Fe(i)[r];o;){var c=Fe(o)[n],u=void 0;if(u=s>=c,!u)return o;if(o===kt())break;o=gr(o,!1)}return!1}function Qr(i,r,n,o){for(var s=0,c=0,u=i.children;c<u.length;){if(u[c].style.display!=="none"&&u[c]!==q.ghost&&(o||u[c]!==q.dragged)&&At(u[c],n.draggable,i,!1)){if(s===r)return u[c];s++}c++}return null}function Gi(i,r){for(var n=i.lastElementChild;n&&(n===q.ghost||z(n,"display")==="none"||r&&!Ia(n,r));)n=n.previousElementSibling;return n||null}function mt(i,r){var n=0;if(!i||!i.parentNode)return-1;for(;i=i.previousElementSibling;)i.nodeName.toUpperCase()!=="TEMPLATE"&&i!==q.clone&&(!r||Ia(i,r))&&n++;return n}function Wu(i){var r=0,n=0,o=kt();if(i)do{var s=Zr(i),c=s.a,u=s.d;r+=i.scrollLeft*c,n+=i.scrollTop*u}while(i!==o&&(i=i.parentNode));return[r,n]}function Yx(i,r){for(var n in i)if(i.hasOwnProperty(n)){for(var o in r)if(r.hasOwnProperty(o)&&r[o]===i[n][o])return Number(n)}return-1}function gr(i,r){if(!i||!i.getBoundingClientRect)return kt();var n=i,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var s=z(n);if(n.clientWidth<n.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return kt();if(o||r)return n;o=!0}}while(n=n.parentNode);return kt()}function Gx(i,r){if(i&&r)for(var n in r)r.hasOwnProperty(n)&&(i[n]=r[n]);return i}function Ai(i,r){return Math.round(i.top)===Math.round(r.top)&&Math.round(i.left)===Math.round(r.left)&&Math.round(i.height)===Math.round(r.height)&&Math.round(i.width)===Math.round(r.width)}var Sn;function uc(i,r){return function(){if(!Sn){var n=arguments,o=this;n.length===1?i.call(o,n[0]):i.apply(o,n),Sn=setTimeout(function(){Sn=void 0},r)}}}function Xx(){clearTimeout(Sn),Sn=void 0}function cc(i,r,n){i.scrollLeft+=r,i.scrollTop+=n}function fc(i){var r=window.Polymer,n=window.jQuery||window.Zepto;return r&&r.dom?r.dom(i).cloneNode(!0):n?n(i).clone(!0)[0]:i.cloneNode(!0)}function dc(i,r,n){var o={};return Array.from(i.children).forEach(function(s){var c,u,d,g;if(!(!At(s,r.draggable,i,!1)||s.animated||s===n)){var m=Fe(s);o.left=Math.min((c=o.left)!==null&&c!==void 0?c:1/0,m.left),o.top=Math.min((u=o.top)!==null&&u!==void 0?u:1/0,m.top),o.right=Math.max((d=o.right)!==null&&d!==void 0?d:-1/0,m.right),o.bottom=Math.max((g=o.bottom)!==null&&g!==void 0?g:-1/0,m.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var lt="Sortable"+new Date().getTime();function zx(){var i=[],r;return{captureAnimationState:function(){if(i=[],!!this.options.animation){var n=[].slice.call(this.el.children);n.forEach(function(o){if(!(z(o,"display")==="none"||o===q.ghost)){i.push({target:o,rect:Fe(o)});var s=Wt({},i[i.length-1].rect);if(o.thisAnimationDuration){var c=Zr(o,!0);c&&(s.top-=c.f,s.left-=c.e)}o.fromRect=s}})}},addAnimationState:function(n){i.push(n)},removeAnimationState:function(n){i.splice(Yx(i,{target:n}),1)},animateAll:function(n){var o=this;if(!this.options.animation){clearTimeout(r),typeof n=="function"&&n();return}var s=!1,c=0;i.forEach(function(u){var d=0,g=u.target,m=g.fromRect,x=Fe(g),v=g.prevFromRect,T=g.prevToRect,D=u.rect,b=Zr(g,!0);b&&(x.top-=b.f,x.left-=b.e),g.toRect=x,g.thisAnimationDuration&&Ai(v,x)&&!Ai(m,x)&&(D.top-x.top)/(D.left-x.left)===(m.top-x.top)/(m.left-x.left)&&(d=Vx(D,v,T,o.options)),Ai(x,m)||(g.prevFromRect=m,g.prevToRect=x,d||(d=o.options.animation),o.animate(g,D,x,d)),d&&(s=!0,c=Math.max(c,d),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0,g.prevFromRect=null,g.fromRect=null,g.prevToRect=null,g.thisAnimationDuration=null},d),g.thisAnimationDuration=d)}),clearTimeout(r),s?r=setTimeout(function(){typeof n=="function"&&n()},c):typeof n=="function"&&n(),i=[]},animate:function(n,o,s,c){if(c){z(n,"transition",""),z(n,"transform","");var u=Zr(this.el),d=u&&u.a,g=u&&u.d,m=(o.left-s.left)/(d||1),x=(o.top-s.top)/(g||1);n.animatingX=!!m,n.animatingY=!!x,z(n,"transform","translate3d("+m+"px,"+x+"px,0)"),this.forRepaintDummy=qx(n),z(n,"transition","transform "+c+"ms"+(this.options.easing?" "+this.options.easing:"")),z(n,"transform","translate3d(0,0,0)"),typeof n.animated=="number"&&clearTimeout(n.animated),n.animated=setTimeout(function(){z(n,"transition",""),z(n,"transform",""),n.animated=!1,n.animatingX=!1,n.animatingY=!1},c)}}}}function qx(i){return i.offsetWidth}function Vx(i,r,n,o){return Math.sqrt(Math.pow(r.top-i.top,2)+Math.pow(r.left-i.left,2))/Math.sqrt(Math.pow(r.top-n.top,2)+Math.pow(r.left-n.left,2))*o.animation}var Gr=[],Di={initializeByDefault:!0},Ln={mount:function(i){for(var r in Di)Di.hasOwnProperty(r)&&!(r in i)&&(i[r]=Di[r]);Gr.forEach(function(n){if(n.pluginName===i.pluginName)throw"Sortable: Cannot mount plugin ".concat(i.pluginName," more than once")}),Gr.push(i)},pluginEvent:function(i,r,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var s=i+"Global";Gr.forEach(function(c){r[c.pluginName]&&(r[c.pluginName][s]&&r[c.pluginName][s](Wt({sortable:r},n)),r.options[c.pluginName]&&r[c.pluginName][i]&&r[c.pluginName][i](Wt({sortable:r},n)))})},initializePlugins:function(i,r,n,o){Gr.forEach(function(u){var d=u.pluginName;if(!(!i.options[d]&&!u.initializeByDefault)){var g=new u(i,r,i.options);g.sortable=i,g.options=i.options,i[d]=g,Qt(n,g.defaults)}});for(var s in i.options)if(i.options.hasOwnProperty(s)){var c=this.modifyOption(i,s,i.options[s]);typeof c<"u"&&(i.options[s]=c)}},getEventProperties:function(i,r){var n={};return Gr.forEach(function(o){typeof o.eventProperties=="function"&&Qt(n,o.eventProperties.call(r[o.pluginName],i))}),n},modifyOption:function(i,r,n){var o;return Gr.forEach(function(s){i[s.pluginName]&&s.optionListeners&&typeof s.optionListeners[r]=="function"&&(o=s.optionListeners[r].call(i[s.pluginName],n))}),o}};function Zx(i){var r=i.sortable,n=i.rootEl,o=i.name,s=i.targetEl,c=i.cloneEl,u=i.toEl,d=i.fromEl,g=i.oldIndex,m=i.newIndex,x=i.oldDraggableIndex,v=i.newDraggableIndex,T=i.originalEvent,D=i.putSortable,b=i.extraEventProperties;if(r=r||n&&n[lt],!!r){var E,R=r.options,L="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!er&&!Mn?E=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(E=document.createEvent("Event"),E.initEvent(o,!0,!0)),E.to=u||n,E.from=d||n,E.item=s||n,E.clone=c,E.oldIndex=g,E.newIndex=m,E.oldDraggableIndex=x,E.newDraggableIndex=v,E.originalEvent=T,E.pullMode=D?D.lastPutMode:void 0;var k=Wt(Wt({},b),Ln.getEventProperties(o,r));for(var C in k)E[C]=k[C];n&&n.dispatchEvent(E),R[L]&&R[L].call(r,E)}}var Jx=["evt"],Je=function(i,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=n.evt,s=$x(n,Jx);Ln.pluginEvent.bind(q)(i,r,Wt({dragEl:M,parentEl:Be,ghostEl:J,rootEl:Te,nextEl:Dr,lastDownEl:Ma,cloneEl:Ae,cloneHidden:hr,dragStarted:Dn,putSortable:Ue,activeSortable:q.active,originalEvent:o,oldIndex:Vr,oldDraggableIndex:Fn,newIndex:st,newDraggableIndex:fr,hideGhostForTarget:yc,unhideGhostForTarget:mc,cloneNowHidden:function(){hr=!0},cloneNowShown:function(){hr=!1},dispatchSortableEvent:function(c){Xe({sortable:r,name:c,originalEvent:o})}},s))};function Xe(i){Zx(Wt({putSortable:Ue,cloneEl:Ae,targetEl:M,rootEl:Te,oldIndex:Vr,oldDraggableIndex:Fn,newIndex:st,newDraggableIndex:fr},i))}var M,Be,J,Te,Dr,Ma,Ae,hr,Vr,st,Fn,fr,Sa,Ue,zr=!1,Ya=!1,Ga=[],br,bt,Bi,Ei,Uu,Ou,Dn,Xr,Rn,Cn=!1,Fa=!1,La,He,Pi=[],Wi=!1,Xa=[],Za=typeof document<"u",Ra=oc,$u=Mn||er?"cssFloat":"float",Qx=Za&&!ic&&!oc&&"draggable"in document.createElement("div"),hc=function(){if(Za){if(er)return!1;var i=document.createElement("x");return i.style.cssText="pointer-events:auto",i.style.pointerEvents==="auto"}}(),gc=function(i,r){var n=z(i),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),s=Qr(i,0,r),c=Qr(i,1,r),u=s&&z(s),d=c&&z(c),g=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+Fe(s).width,m=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+Fe(c).width;if(n.display==="flex")return n.flexDirection==="column"||n.flexDirection==="column-reverse"?"vertical":"horizontal";if(n.display==="grid")return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&u.float&&u.float!=="none"){var x=u.float==="left"?"left":"right";return c&&(d.clear==="both"||d.clear===x)?"vertical":"horizontal"}return s&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||g>=o&&n[$u]==="none"||c&&n[$u]==="none"&&g+m>o)?"vertical":"horizontal"},jx=function(i,r,n){var o=n?i.left:i.top,s=n?i.right:i.bottom,c=n?i.width:i.height,u=n?r.left:r.top,d=n?r.right:r.bottom,g=n?r.width:r.height;return o===u||s===d||o+c/2===u+g/2},ev=function(i,r){var n;return Ga.some(function(o){var s=o[lt].options.emptyInsertThreshold;if(!(!s||Gi(o))){var c=Fe(o),u=i>=c.left-s&&i<=c.right+s,d=r>=c.top-s&&r<=c.bottom+s;if(u&&d)return n=o}}),n},pc=function(i){function r(s,c){return function(u,d,g,m){var x=u.options.group.name&&d.options.group.name&&u.options.group.name===d.options.group.name;if(s==null&&(c||x))return!0;if(s==null||s===!1)return!1;if(c&&s==="clone")return s;if(typeof s=="function")return r(s(u,d,g,m),c)(u,d,g,m);var v=(c?u:d).options.group.name;return s===!0||typeof s=="string"&&s===v||s.join&&s.indexOf(v)>-1}}var n={},o=i.group;(!o||Ka(o)!="object")&&(o={name:o}),n.name=o.name,n.checkPull=r(o.pull,!0),n.checkPut=r(o.put),n.revertClone=o.revertClone,i.group=n},yc=function(){!hc&&J&&z(J,"display","none")},mc=function(){!hc&&J&&z(J,"display","")};Za&&!ic&&document.addEventListener("click",function(i){if(Ya)return i.preventDefault(),i.stopPropagation&&i.stopPropagation(),i.stopImmediatePropagation&&i.stopImmediatePropagation(),Ya=!1,!1},!0);var Ar=function(i){if(M){i=i.touches?i.touches[0]:i;var r=ev(i.clientX,i.clientY);if(r){var n={};for(var o in i)i.hasOwnProperty(o)&&(n[o]=i[o]);n.target=n.rootEl=r,n.preventDefault=void 0,n.stopPropagation=void 0,r[lt]._onDragOver(n)}}},tv=function(i){M&&M.parentNode[lt]._isOutsideThisEl(i.target)};function q(i,r){if(!(i&&i.nodeType&&i.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(i));this.el=i,this.options=r=Qt({},r),i[lt]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(i.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return gc(i,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(c,u){c.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:q.supportPointer!==!1&&"PointerEvent"in window&&!Pn,emptyInsertThreshold:5};Ln.initializePlugins(this,i,n);for(var o in n)!(o in r)&&(r[o]=n[o]);pc(r);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=r.forceFallback?!1:Qx,this.nativeDraggable&&(this.options.touchStartThreshold=1),r.supportPointer?fe(i,"pointerdown",this._onTapStart):(fe(i,"mousedown",this._onTapStart),fe(i,"touchstart",this._onTapStart)),this.nativeDraggable&&(fe(i,"dragover",this),fe(i,"dragenter",this)),Ga.push(this.el),r.store&&r.store.get&&this.sort(r.store.get(this)||[]),Qt(this,zx())}q.prototype={constructor:q,_isOutsideThisEl:function(i){!this.el.contains(i)&&i!==this.el&&(Xr=null)},_getDirection:function(i,r){return typeof this.options.direction=="function"?this.options.direction.call(this,i,r,M):this.options.direction},_onTapStart:function(i){if(i.cancelable){var r=this,n=this.el,o=this.options,s=o.preventOnFilter,c=i.type,u=i.touches&&i.touches[0]||i.pointerType&&i.pointerType==="touch"&&i,d=(u||i).target,g=i.target.shadowRoot&&(i.path&&i.path[0]||i.composedPath&&i.composedPath()[0])||d,m=o.filter;if(uv(n),!M&&!(/mousedown|pointerdown/.test(c)&&i.button!==0||o.disabled)&&!g.isContentEditable&&!(!this.nativeDraggable&&Pn&&d&&d.tagName.toUpperCase()==="SELECT")&&(d=At(d,o.draggable,n,!1),!(d&&d.animated)&&Ma!==d)){if(Vr=mt(d),Fn=mt(d,o.draggable),typeof m=="function"){if(m.call(this,i,d,this)){Xe({sortable:r,rootEl:g,name:"filter",targetEl:d,toEl:n,fromEl:n}),Je("filter",r,{evt:i}),s&&i.cancelable&&i.preventDefault();return}}else if(m&&(m=m.split(",").some(function(x){if(x=At(g,x.trim(),n,!1),x)return Xe({sortable:r,rootEl:x,name:"filter",targetEl:d,fromEl:n,toEl:n}),Je("filter",r,{evt:i}),!0}),m)){s&&i.cancelable&&i.preventDefault();return}o.handle&&!At(g,o.handle,n,!1)||this._prepareDragStart(i,u,d)}}},_prepareDragStart:function(i,r,n){var o=this,s=o.el,c=o.options,u=s.ownerDocument,d;if(n&&!M&&n.parentNode===s){var g=Fe(n);if(Te=s,M=n,Be=M.parentNode,Dr=M.nextSibling,Ma=n,Sa=c.group,q.dragged=M,br={target:M,clientX:(r||i).clientX,clientY:(r||i).clientY},Uu=br.clientX-g.left,Ou=br.clientY-g.top,this._lastX=(r||i).clientX,this._lastY=(r||i).clientY,M.style["will-change"]="all",d=function(){if(Je("delayEnded",o,{evt:i}),q.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!Mu&&o.nativeDraggable&&(M.draggable=!0),o._triggerDragStart(i,r),Xe({sortable:o,name:"choose",originalEvent:i}),it(M,c.chosenClass,!0)},c.ignore.split(",").forEach(function(m){lc(M,m.trim(),Si)}),fe(u,"dragover",Ar),fe(u,"mousemove",Ar),fe(u,"touchmove",Ar),fe(u,"mouseup",o._onDrop),fe(u,"touchend",o._onDrop),fe(u,"touchcancel",o._onDrop),Mu&&this.nativeDraggable&&(this.options.touchStartThreshold=4,M.draggable=!0),Je("delayStart",this,{evt:i}),c.delay&&(!c.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(Mn||er))){if(q.eventCanceled){this._onDrop();return}fe(u,"mouseup",o._disableDelayedDrag),fe(u,"touchend",o._disableDelayedDrag),fe(u,"touchcancel",o._disableDelayedDrag),fe(u,"mousemove",o._delayedDragTouchMoveHandler),fe(u,"touchmove",o._delayedDragTouchMoveHandler),c.supportPointer&&fe(u,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(d,c.delay)}else d()}},_delayedDragTouchMoveHandler:function(i){var r=i.touches?i.touches[0]:i;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){M&&Si(M),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var i=this.el.ownerDocument;ue(i,"mouseup",this._disableDelayedDrag),ue(i,"touchend",this._disableDelayedDrag),ue(i,"touchcancel",this._disableDelayedDrag),ue(i,"mousemove",this._delayedDragTouchMoveHandler),ue(i,"touchmove",this._delayedDragTouchMoveHandler),ue(i,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(i,r){r=r||i.pointerType=="touch"&&i,!this.nativeDraggable||r?this.options.supportPointer?fe(document,"pointermove",this._onTouchMove):r?fe(document,"touchmove",this._onTouchMove):fe(document,"mousemove",this._onTouchMove):(fe(M,"dragend",this),fe(Te,"dragstart",this._onDragStart));try{document.selection?ka(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(i,r){if(zr=!1,Te&&M){Je("dragStarted",this,{evt:r}),this.nativeDraggable&&fe(document,"dragover",tv);var n=this.options;!i&&it(M,n.dragClass,!1),it(M,n.ghostClass,!0),q.active=this,i&&this._appendGhost(),Xe({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(bt){this._lastX=bt.clientX,this._lastY=bt.clientY,yc();for(var i=document.elementFromPoint(bt.clientX,bt.clientY),r=i;i&&i.shadowRoot&&(i=i.shadowRoot.elementFromPoint(bt.clientX,bt.clientY),i!==r);)r=i;if(M.parentNode[lt]._isOutsideThisEl(i),r)do{if(r[lt]){var n=void 0;if(n=r[lt]._onDragOver({clientX:bt.clientX,clientY:bt.clientY,target:i,rootEl:r}),n&&!this.options.dragoverBubble)break}i=r}while(r=r.parentNode);mc()}},_onTouchMove:function(i){if(br){var r=this.options,n=r.fallbackTolerance,o=r.fallbackOffset,s=i.touches?i.touches[0]:i,c=J&&Zr(J,!0),u=J&&c&&c.a,d=J&&c&&c.d,g=Ra&&He&&Wu(He),m=(s.clientX-br.clientX+o.x)/(u||1)+(g?g[0]-Pi[0]:0)/(u||1),x=(s.clientY-br.clientY+o.y)/(d||1)+(g?g[1]-Pi[1]:0)/(d||1);if(!q.active&&!zr){if(n&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<n)return;this._onDragStart(i,!0)}if(J){c?(c.e+=m-(Bi||0),c.f+=x-(Ei||0)):c={a:1,b:0,c:0,d:1,e:m,f:x};var v="matrix(".concat(c.a,",").concat(c.b,",").concat(c.c,",").concat(c.d,",").concat(c.e,",").concat(c.f,")");z(J,"webkitTransform",v),z(J,"mozTransform",v),z(J,"msTransform",v),z(J,"transform",v),Bi=m,Ei=x,bt=s}i.cancelable&&i.preventDefault()}},_appendGhost:function(){if(!J){var i=this.options.fallbackOnBody?document.body:Te,r=Fe(M,!0,Ra,!0,i),n=this.options;if(Ra){for(He=i;z(He,"position")==="static"&&z(He,"transform")==="none"&&He!==document;)He=He.parentNode;He!==document.body&&He!==document.documentElement?(He===document&&(He=kt()),r.top+=He.scrollTop,r.left+=He.scrollLeft):He=kt(),Pi=Wu(He)}J=M.cloneNode(!0),it(J,n.ghostClass,!1),it(J,n.fallbackClass,!0),it(J,n.dragClass,!0),z(J,"transition",""),z(J,"transform",""),z(J,"box-sizing","border-box"),z(J,"margin",0),z(J,"top",r.top),z(J,"left",r.left),z(J,"width",r.width),z(J,"height",r.height),z(J,"opacity","0.8"),z(J,"position",Ra?"absolute":"fixed"),z(J,"zIndex","100000"),z(J,"pointerEvents","none"),q.ghost=J,i.appendChild(J),z(J,"transform-origin",Uu/parseInt(J.style.width)*100+"% "+Ou/parseInt(J.style.height)*100+"%")}},_onDragStart:function(i,r){var n=this,o=i.dataTransfer,s=n.options;if(Je("dragStart",this,{evt:i}),q.eventCanceled){this._onDrop();return}Je("setupClone",this),q.eventCanceled||(Ae=fc(M),Ae.removeAttribute("id"),Ae.draggable=!1,Ae.style["will-change"]="",this._hideClone(),it(Ae,this.options.chosenClass,!1),q.clone=Ae),n.cloneId=ka(function(){Je("clone",n),!q.eventCanceled&&(n.options.removeCloneOnHide||Te.insertBefore(Ae,M),n._hideClone(),Xe({sortable:n,name:"clone"}))}),!r&&it(M,s.dragClass,!0),r?(Ya=!0,n._loopId=setInterval(n._emulateDragOver,50)):(ue(document,"mouseup",n._onDrop),ue(document,"touchend",n._onDrop),ue(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(n,o,M)),fe(document,"drop",n),z(M,"transform","translateZ(0)")),zr=!0,n._dragStartId=ka(n._dragStarted.bind(n,r,i)),fe(document,"selectstart",n),Dn=!0,Pn&&z(document.body,"user-select","none")},_onDragOver:function(i){var r=this.el,n=i.target,o,s,c,u=this.options,d=u.group,g=q.active,m=Sa===d,x=u.sort,v=Ue||g,T,D=this,b=!1;if(Wi)return;function E(je,Rt){Je(je,D,Wt({evt:i,isOwner:m,axis:T?"vertical":"horizontal",revert:c,dragRect:o,targetRect:s,canSort:x,fromSortable:v,target:n,completed:L,onMove:function(kn,Er){return Ca(Te,r,M,o,kn,Fe(kn),i,Er)},changed:k},Rt))}function R(){E("dragOverAnimationCapture"),D.captureAnimationState(),D!==v&&v.captureAnimationState()}function L(je){return E("dragOverCompleted",{insertion:je}),je&&(m?g._hideClone():g._showClone(D),D!==v&&(it(M,Ue?Ue.options.ghostClass:g.options.ghostClass,!1),it(M,u.ghostClass,!0)),Ue!==D&&D!==q.active?Ue=D:D===q.active&&Ue&&(Ue=null),v===D&&(D._ignoreWhileAnimating=n),D.animateAll(function(){E("dragOverAnimationComplete"),D._ignoreWhileAnimating=null}),D!==v&&(v.animateAll(),v._ignoreWhileAnimating=null)),(n===M&&!M.animated||n===r&&!n.animated)&&(Xr=null),!u.dragoverBubble&&!i.rootEl&&n!==document&&(M.parentNode[lt]._isOutsideThisEl(i.target),!je&&Ar(i)),!u.dragoverBubble&&i.stopPropagation&&i.stopPropagation(),b=!0}function k(){st=mt(M),fr=mt(M,u.draggable),Xe({sortable:D,name:"change",toEl:r,newIndex:st,newDraggableIndex:fr,originalEvent:i})}if(i.preventDefault!==void 0&&i.cancelable&&i.preventDefault(),n=At(n,u.draggable,r,!0),E("dragOver"),q.eventCanceled)return b;if(M.contains(i.target)||n.animated&&n.animatingX&&n.animatingY||D._ignoreWhileAnimating===n)return L(!1);if(Ya=!1,g&&!u.disabled&&(m?x||(c=Be!==Te):Ue===this||(this.lastPutMode=Sa.checkPull(this,g,M,i))&&d.checkPut(this,g,M,i))){if(T=this._getDirection(i,n)==="vertical",o=Fe(M),E("dragOverValid"),q.eventCanceled)return b;if(c)return Be=Te,R(),this._hideClone(),E("revert"),q.eventCanceled||(Dr?Te.insertBefore(M,Dr):Te.appendChild(M)),L(!0);var C=Gi(r,u.draggable);if(!C||ov(i,T,this)&&!C.animated){if(C===M)return L(!1);if(C&&r===i.target&&(n=C),n&&(s=Fe(n)),Ca(Te,r,M,o,n,s,i,!!n)!==!1)return R(),C&&C.nextSibling?r.insertBefore(M,C.nextSibling):r.appendChild(M),Be=r,k(),L(!0)}else if(C&&av(i,T,this)){var I=Qr(r,0,u,!0);if(I===M)return L(!1);if(n=I,s=Fe(n),Ca(Te,r,M,o,n,s,i,!1)!==!1)return R(),r.insertBefore(M,I),Be=r,k(),L(!0)}else if(n.parentNode===r){s=Fe(n);var le=0,H,re=M.parentNode!==r,ye=!jx(M.animated&&M.toRect||o,n.animated&&n.toRect||s,T),me=T?"top":"left",Ne=ku(n,"top","top")||ku(M,"top","top"),Et=Ne?Ne.scrollTop:void 0;Xr!==n&&(H=s[me],Cn=!1,Fa=!ye&&u.invertSwap||re),le=iv(i,n,s,T,ye?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,Fa,Xr===n);var Qe;if(le!==0){var Pt=mt(M);do Pt-=le,Qe=Be.children[Pt];while(Qe&&(z(Qe,"display")==="none"||Qe===J))}if(le===0||Qe===n)return L(!1);Xr=n,Rn=le;var St=n.nextElementSibling,Ft=!1;Ft=le===1;var Ut=Ca(Te,r,M,o,n,s,i,Ft);if(Ut!==!1)return(Ut===1||Ut===-1)&&(Ft=Ut===1),Wi=!0,setTimeout(nv,30),R(),Ft&&!St?r.appendChild(M):n.parentNode.insertBefore(M,Ft?St:n),Ne&&cc(Ne,0,Et-Ne.scrollTop),Be=M.parentNode,H!==void 0&&!Fa&&(La=Math.abs(H-Fe(n)[me])),k(),L(!0)}if(r.contains(M))return L(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){ue(document,"mousemove",this._onTouchMove),ue(document,"touchmove",this._onTouchMove),ue(document,"pointermove",this._onTouchMove),ue(document,"dragover",Ar),ue(document,"mousemove",Ar),ue(document,"touchmove",Ar)},_offUpEvents:function(){var i=this.el.ownerDocument;ue(i,"mouseup",this._onDrop),ue(i,"touchend",this._onDrop),ue(i,"pointerup",this._onDrop),ue(i,"touchcancel",this._onDrop),ue(document,"selectstart",this)},_onDrop:function(i){var r=this.el,n=this.options;if(st=mt(M),fr=mt(M,n.draggable),Je("drop",this,{evt:i}),Be=M&&M.parentNode,st=mt(M),fr=mt(M,n.draggable),q.eventCanceled){this._nulling();return}zr=!1,Fa=!1,Cn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Ui(this.cloneId),Ui(this._dragStartId),this.nativeDraggable&&(ue(document,"drop",this),ue(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Pn&&z(document.body,"user-select",""),z(M,"transform",""),i&&(Dn&&(i.cancelable&&i.preventDefault(),!n.dropBubble&&i.stopPropagation()),J&&J.parentNode&&J.parentNode.removeChild(J),(Te===Be||Ue&&Ue.lastPutMode!=="clone")&&Ae&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),M&&(this.nativeDraggable&&ue(M,"dragend",this),Si(M),M.style["will-change"]="",Dn&&!zr&&it(M,Ue?Ue.options.ghostClass:this.options.ghostClass,!1),it(M,this.options.chosenClass,!1),Xe({sortable:this,name:"unchoose",toEl:Be,newIndex:null,newDraggableIndex:null,originalEvent:i}),Te!==Be?(st>=0&&(Xe({rootEl:Be,name:"add",toEl:Be,fromEl:Te,originalEvent:i}),Xe({sortable:this,name:"remove",toEl:Be,originalEvent:i}),Xe({rootEl:Be,name:"sort",toEl:Be,fromEl:Te,originalEvent:i}),Xe({sortable:this,name:"sort",toEl:Be,originalEvent:i})),Ue&&Ue.save()):st!==Vr&&st>=0&&(Xe({sortable:this,name:"update",toEl:Be,originalEvent:i}),Xe({sortable:this,name:"sort",toEl:Be,originalEvent:i})),q.active&&((st==null||st===-1)&&(st=Vr,fr=Fn),Xe({sortable:this,name:"end",toEl:Be,originalEvent:i}),this.save()))),this._nulling()},_nulling:function(){Je("nulling",this),Te=M=Be=J=Dr=Ae=Ma=hr=br=bt=Dn=st=fr=Vr=Fn=Xr=Rn=Ue=Sa=q.dragged=q.ghost=q.clone=q.active=null,Xa.forEach(function(i){i.checked=!0}),Xa.length=Bi=Ei=0},handleEvent:function(i){switch(i.type){case"drop":case"dragend":this._onDrop(i);break;case"dragenter":case"dragover":M&&(this._onDragOver(i),rv(i));break;case"selectstart":i.preventDefault();break}},toArray:function(){for(var i=[],r,n=this.el.children,o=0,s=n.length,c=this.options;o<s;o++)r=n[o],At(r,c.draggable,this.el,!1)&&i.push(r.getAttribute(c.dataIdAttr)||lv(r));return i},sort:function(i,r){var n={},o=this.el;this.toArray().forEach(function(s,c){var u=o.children[c];At(u,this.options.draggable,o,!1)&&(n[s]=u)},this),r&&this.captureAnimationState(),i.forEach(function(s){n[s]&&(o.removeChild(n[s]),o.appendChild(n[s]))}),r&&this.animateAll()},save:function(){var i=this.options.store;i&&i.set&&i.set(this)},closest:function(i,r){return At(i,r||this.options.draggable,this.el,!1)},option:function(i,r){var n=this.options;if(r===void 0)return n[i];var o=Ln.modifyOption(this,i,r);typeof o<"u"?n[i]=o:n[i]=r,i==="group"&&pc(n)},destroy:function(){Je("destroy",this);var i=this.el;i[lt]=null,ue(i,"mousedown",this._onTapStart),ue(i,"touchstart",this._onTapStart),ue(i,"pointerdown",this._onTapStart),this.nativeDraggable&&(ue(i,"dragover",this),ue(i,"dragenter",this)),Array.prototype.forEach.call(i.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Ga.splice(Ga.indexOf(this.el),1),this.el=i=null},_hideClone:function(){if(!hr){if(Je("hideClone",this),q.eventCanceled)return;z(Ae,"display","none"),this.options.removeCloneOnHide&&Ae.parentNode&&Ae.parentNode.removeChild(Ae),hr=!0}},_showClone:function(i){if(i.lastPutMode!=="clone"){this._hideClone();return}if(hr){if(Je("showClone",this),q.eventCanceled)return;M.parentNode==Te&&!this.options.group.revertClone?Te.insertBefore(Ae,M):Dr?Te.insertBefore(Ae,Dr):Te.appendChild(Ae),this.options.group.revertClone&&this.animate(M,Ae),z(Ae,"display",""),hr=!1}}};function rv(i){i.dataTransfer&&(i.dataTransfer.dropEffect="move"),i.cancelable&&i.preventDefault()}function Ca(i,r,n,o,s,c,u,d){var g,m=i[lt],x=m.options.onMove,v;return window.CustomEvent&&!er&&!Mn?g=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent("move",!0,!0)),g.to=r,g.from=i,g.dragged=n,g.draggedRect=o,g.related=s||r,g.relatedRect=c||Fe(r),g.willInsertAfter=d,g.originalEvent=u,i.dispatchEvent(g),x&&(v=x.call(m,g,u)),v}function Si(i){i.draggable=!1}function nv(){Wi=!1}function av(i,r,n){var o=Fe(Qr(n.el,0,n.options,!0)),s=dc(n.el,n.options,J),c=10;return r?i.clientX<s.left-c||i.clientY<o.top&&i.clientX<o.right:i.clientY<s.top-c||i.clientY<o.bottom&&i.clientX<o.left}function ov(i,r,n){var o=Fe(Gi(n.el,n.options.draggable)),s=dc(n.el,n.options,J),c=10;return r?i.clientX>s.right+c||i.clientY>o.bottom&&i.clientX>o.left:i.clientY>s.bottom+c||i.clientX>o.right&&i.clientY>o.top}function iv(i,r,n,o,s,c,u,d){var g=o?i.clientY:i.clientX,m=o?n.height:n.width,x=o?n.top:n.left,v=o?n.bottom:n.right,T=!1;if(!u){if(d&&La<m*s){if(!Cn&&(Rn===1?g>x+m*c/2:g<v-m*c/2)&&(Cn=!0),Cn)T=!0;else if(Rn===1?g<x+La:g>v-La)return-Rn}else if(g>x+m*(1-s)/2&&g<v-m*(1-s)/2)return sv(r)}return T=T||u,T&&(g<x+m*c/2||g>v-m*c/2)?g>x+m/2?1:-1:0}function sv(i){return mt(M)<mt(i)?1:-1}function lv(i){for(var r=i.tagName+i.className+i.src+i.href+i.textContent,n=r.length,o=0;n--;)o+=r.charCodeAt(n);return o.toString(36)}function uv(i){Xa.length=0;for(var r=i.getElementsByTagName("input"),n=r.length;n--;){var o=r[n];o.checked&&Xa.push(o)}}function ka(i){return setTimeout(i,0)}function Ui(i){return clearTimeout(i)}Za&&fe(document,"touchmove",function(i){(q.active||zr)&&i.cancelable&&i.preventDefault()});q.utils={on:fe,off:ue,css:z,find:lc,is:function(i,r){return!!At(i,r,i,!1)},extend:Gx,throttle:uc,closest:At,toggleClass:it,clone:fc,index:mt,nextTick:ka,cancelNextTick:Ui,detectDirection:gc,getChild:Qr};q.get=function(i){return i[lt]};q.mount=function(){for(var i=arguments.length,r=new Array(i),n=0;n<i;n++)r[n]=arguments[n];r[0].constructor===Array&&(r=r[0]),r.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(q.utils=Wt(Wt({},q.utils),o.utils)),Ln.mount(o)})};q.create=function(i,r){return new q(i,r)};q.version=Hx;var Se=[],Bn,Oi,$i=!1,Fi,Ri,za,En;function cv(){function i(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this))}return i.prototype={dragStarted:function(r){var n=r.originalEvent;this.sortable.nativeDraggable?fe(document,"dragover",this._handleAutoScroll):this.options.supportPointer?fe(document,"pointermove",this._handleFallbackAutoScroll):n.touches?fe(document,"touchmove",this._handleFallbackAutoScroll):fe(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var n=r.originalEvent;!this.options.dragOverBubble&&!n.rootEl&&this._handleAutoScroll(n)},drop:function(){this.sortable.nativeDraggable?ue(document,"dragover",this._handleAutoScroll):(ue(document,"pointermove",this._handleFallbackAutoScroll),ue(document,"touchmove",this._handleFallbackAutoScroll),ue(document,"mousemove",this._handleFallbackAutoScroll)),Hu(),Wa(),Xx()},nulling:function(){za=Oi=Bn=$i=En=Fi=Ri=null,Se.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,n){var o=this,s=(r.touches?r.touches[0]:r).clientX,c=(r.touches?r.touches[0]:r).clientY,u=document.elementFromPoint(s,c);if(za=r,n||this.options.forceAutoScrollFallback||Mn||er||Pn){Ci(r,this.options,u,n);var d=gr(u,!0);$i&&(!En||s!==Fi||c!==Ri)&&(En&&Hu(),En=setInterval(function(){var g=gr(document.elementFromPoint(s,c),!0);g!==d&&(d=g,Wa()),Ci(r,o.options,g,n)},10),Fi=s,Ri=c)}else{if(!this.options.bubbleScroll||gr(u,!0)===kt()){Wa();return}Ci(r,this.options,gr(u,!1),!1)}}},Qt(i,{pluginName:"scroll",initializeByDefault:!0})}function Wa(){Se.forEach(function(i){clearInterval(i.pid)}),Se=[]}function Hu(){clearInterval(En)}var Ci=uc(function(i,r,n,o){if(r.scroll){var s=(i.touches?i.touches[0]:i).clientX,c=(i.touches?i.touches[0]:i).clientY,u=r.scrollSensitivity,d=r.scrollSpeed,g=kt(),m=!1,x;Oi!==n&&(Oi=n,Wa(),Bn=r.scroll,x=r.scrollFn,Bn===!0&&(Bn=gr(n,!0)));var v=0,T=Bn;do{var D=T,b=Fe(D),E=b.top,R=b.bottom,L=b.left,k=b.right,C=b.width,I=b.height,le=void 0,H=void 0,re=D.scrollWidth,ye=D.scrollHeight,me=z(D),Ne=D.scrollLeft,Et=D.scrollTop;D===g?(le=C<re&&(me.overflowX==="auto"||me.overflowX==="scroll"||me.overflowX==="visible"),H=I<ye&&(me.overflowY==="auto"||me.overflowY==="scroll"||me.overflowY==="visible")):(le=C<re&&(me.overflowX==="auto"||me.overflowX==="scroll"),H=I<ye&&(me.overflowY==="auto"||me.overflowY==="scroll"));var Qe=le&&(Math.abs(k-s)<=u&&Ne+C<re)-(Math.abs(L-s)<=u&&!!Ne),Pt=H&&(Math.abs(R-c)<=u&&Et+I<ye)-(Math.abs(E-c)<=u&&!!Et);if(!Se[v])for(var St=0;St<=v;St++)Se[St]||(Se[St]={});(Se[v].vx!=Qe||Se[v].vy!=Pt||Se[v].el!==D)&&(Se[v].el=D,Se[v].vx=Qe,Se[v].vy=Pt,clearInterval(Se[v].pid),(Qe!=0||Pt!=0)&&(m=!0,Se[v].pid=setInterval((function(){o&&this.layer===0&&q.active._onTouchMove(za);var Ft=Se[this.layer].vy?Se[this.layer].vy*d:0,Ut=Se[this.layer].vx?Se[this.layer].vx*d:0;typeof x=="function"&&x.call(q.dragged.parentNode[lt],Ut,Ft,i,za,Se[this.layer].el)!=="continue"||cc(Se[this.layer].el,Ut,Ft)}).bind({layer:v}),24))),v++}while(r.bubbleScroll&&T!==g&&(T=gr(T,!1)));$i=m}},30),xc=function(i){var r=i.originalEvent,n=i.putSortable,o=i.dragEl,s=i.activeSortable,c=i.dispatchSortableEvent,u=i.hideGhostForTarget,d=i.unhideGhostForTarget;if(r){var g=n||s;u();var m=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,x=document.elementFromPoint(m.clientX,m.clientY);d(),g&&!g.el.contains(x)&&(c("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Xi(){}Xi.prototype={startIndex:null,dragStart:function(i){var r=i.oldDraggableIndex;this.startIndex=r},onSpill:function(i){var r=i.dragEl,n=i.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=Qr(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(r,o):this.sortable.el.appendChild(r),this.sortable.animateAll(),n&&n.animateAll()},drop:xc};Qt(Xi,{pluginName:"revertOnSpill"});function zi(){}zi.prototype={onSpill:function(i){var r=i.dragEl,n=i.putSortable,o=n||this.sortable;o.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),o.animateAll()},drop:xc};Qt(zi,{pluginName:"removeOnSpill"});q.mount(new cv);q.mount(zi,Xi);function fv(i){return i==null?i:JSON.parse(JSON.stringify(i))}function dv(i){qa()&&m0(i)}function hv(i){qa()?zu(i):qu(i)}const Iu=Symbol("cloneElement");function gv(...i){var r,n;const o=(r=qa())==null?void 0:r.proxy,s=i[0];let[,c,u]=i;Array.isArray(U(c))||(u=c,c=null);let d=null;const{immediate:g=!0,clone:m=fv,customUpdate:x}=(n=U(u))!=null?n:{};function v(H){var re;H.item[Iu]=m(U((re=U(c))==null?void 0:re[H.oldIndex]))}function T(H){const re=H.item[Iu];if(!Rx(re)){if(bi(H.item),vi(c)){const ye=[...U(c)];c.value=Ru(ye,H.newDraggableIndex,re);return}Ru(U(c),H.newDraggableIndex,re)}}function D(H){const{from:re,item:ye,oldIndex:me,oldDraggableIndex:Ne,pullMode:Et,clone:Qe}=H;if(Cu(re,ye,me),Et==="clone"){bi(Qe);return}if(vi(c)){const Pt=[...U(c)];c.value=Fu(Pt,Ne);return}Fu(U(c),Ne)}function b(H){if(x){x(H);return}const{from:re,item:ye,oldIndex:me,newIndex:Ne}=H;if(bi(ye),Cu(re,ye,me),vi(c)){const Et=[...U(c)];c.value=Su(Et,me,Ne);return}Su(U(c),me,Ne)}const E={onUpdate:b,onStart:v,onAdd:T,onRemove:D};function R(H){const re=U(s);return H||(H=Cx(re)?Kx(re,o==null?void 0:o.$el):re),H&&!kx(H)&&(H=H.$el),H||Fx("Root element not found"),H}function L(){var H;const re=(H=U(u))!=null?H:{},ye=Px(re,["immediate","clone"]);return Lx(c===null?{}:E,ye)}const k=H=>{H=R(H),d&&C.destroy(),d=new q(H,L())};Va(()=>u,()=>{d&&Wx(L(),(H,re)=>{d==null||d.option(H,re)})},{deep:!0});const C={option:(H,re)=>d==null?void 0:d.option(H,re),destroy:()=>{d==null||d.destroy(),d=null},save:()=>d==null?void 0:d.save(),toArray:()=>d==null?void 0:d.toArray(),closest:(...H)=>d==null?void 0:d.closest(...H)},I=()=>C==null?void 0:C.option("disabled",!0),le=()=>C==null?void 0:C.option("disabled",!1);return hv(()=>{g&&k()}),dv(C.destroy),nc({start:k,pause:I,resume:le},C)}const pv=["update","start","add","remove","choose","unchoose","end","sort","filter","clone","move","change"];[...pv.map(i=>`on${i.replace(/^\S/,r=>r.toUpperCase())}`)];const Yu={mounted:"mounted",unmounted:"unmounted"},Ki=new WeakMap,yv={[Yu.mounted](i,r){const n=y0(r.value)?[r.value]:r.value,o=gv(i,...n);Ki.set(i,o.destroy)},[Yu.unmounted](i){var r;(r=Ki.get(i))==null||r(),Ki.delete(i)}},mv={class:"attributes-view flex-grow flex flex-col overflow-hidden"},xv={class:"attrs-list flex-grow px-3 overflow-auto scroll-bar"},vv={width:"100%",class:"table drag-table my-table"},_v=j("thead",null,[j("tr",null,[j("th",{class:"text-left"},"中文名"),j("th",{class:"text-left"},"字段名"),j("th",{class:"text-left attr-type-th"},"字段类型"),j("th",{class:"text-left checkbox-th"},"主键"),j("th",{class:"text-left checkbox-th"},"外键"),j("th",{class:"text-left checkbox-th"},"非空"),j("th",{class:"text-left checkbox-th"},"操作")])],-1),Nv={class:"text-th"},wv=j("span",{class:"text-sm ml-3"},"新增字段",-1),Tv={__name:"attr",setup(i){let r=jr({data$:[],key:null});Va(()=>Br.entityIdChecked,u=>{var g,m;if(!u)return;const d=((m=(g=ie.drawData)==null?void 0:g.nodeDataArray)==null?void 0:m.find(x=>x.key===Br.entityIdChecked))||{};r.data$=Jr.cloneDeep(d.attributes)||[],r.key=d.key},{immediate:!0});function n(){const u=ie.drawData.nodeDataArray.findIndex(g=>r.key===g.id),d=Jr.cloneDeep(r.data$);ie.drawData.nodeDataArray[u].attributes=d,Bt()}function o(){let u=Zt(3);const d={attrName:`属性_${u}`,columnName:`${u}`,primaryKey:!1,foreignKey:!1};r.data$.push(d),n()}function s(u){n()}function c(u,d){en.confirm("确认删除 ?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{r.data$.splice(d,1),n(),tn({type:"success",message:"Delete completed"})})}return(u,d)=>{const g=ve("el-option"),m=ve("el-select"),x=ve("el-checkbox"),v=ve("el-button"),T=ve("el-tooltip");return pe(),Me("div",mv,[j("div",xv,[j("table",vv,[_v,Xu((pe(),Me("tbody",null,[(pe(!0),Me(Mi,null,Li(U(r).data$,(D,b)=>(pe(),Me("tr",{key:b},[j("td",Nv,[K(U($a),{val:D.attrName,"onUpdate:val":E=>D.attrName=E,onChange:d[0]||(d[0]=()=>{n()}),class:"table-autocomplete"},null,8,["val","onUpdate:val"])]),j("td",null,[K(U($a),{val:D.columnName,"onUpdate:val":E=>D.columnName=E,onChange:d[1]||(d[1]=()=>{n()}),class:"table-autocomplete"},null,8,["val","onUpdate:val"])]),j("td",null,[K(m,{size:"small",modelValue:D.columnType,"onUpdate:modelValue":E=>D.columnType=E,placeholder:"请选择",onChange:E=>n(),class:"table-select"},{default:V(()=>[(pe(!0),Me(Mi,null,Li(U(ju).attrTypes,E=>(pe(),dr(g,{value:E.value,label:E.value,key:E.value},null,8,["value","label"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),j("td",null,[K(x,{disabled:D.foreignKey,modelValue:D.primaryKey,"onUpdate:modelValue":E=>D.primaryKey=E,onChange:E=>n()},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])]),j("td",null,[K(x,{disabled:"",modelValue:D.foreignKey,"onUpdate:modelValue":E=>D.foreignKey=E,onChange:E=>n()},null,8,["modelValue","onUpdate:modelValue","onChange"])]),j("td",null,[K(x,{disabled:D.primaryKey,modelValue:D.notEmpty,"onUpdate:modelValue":E=>D.notEmpty=E,onChange:E=>n()},null,8,["disabled","modelValue","onUpdate:modelValue","onChange"])]),j("td",null,[K(T,{class:"box-item",effect:"dark",content:"删除",placement:"bottom"},{default:V(()=>[K(v,{type:"danger",icon:U(x0),circle:"",size:"small",onClick:E=>c(D,b)},null,8,["icon","onClick"])]),_:2},1024)])]))),128))])),[[U(yv),[U(r).data$,{onEnd(D){s()}}]]])]),j("a",{href:"javascript:",onClick:o,class:"dqs-btn dqs-btn-white btn-add"},[K(U(Ke),{icon:"plus",class:"icon-add"}),wv])])])}}},bv={class:"flex mb-6 table-info px-3"},Av={class:"flex flex-1 items-center"},Dv=j("span",{class:"label"},"实体中文名称",-1),Bv={class:"flex flex-1 items-center"},Ev=j("span",{class:"label"},"实体英文名称",-1),Pv={__name:"index",setup(i){const r=v0({get(){return!!Br.entityIdChecked},set(){Br.entityIdChecked=""}});let n=jr({data$:{},activeName:"n1"});Va(()=>Br.entityIdChecked,s=>{var u,d;if(!s)return;const c=((d=(u=ie.drawData)==null?void 0:u.nodeDataArray)==null?void 0:d.find(g=>g.key===Br.entityIdChecked))||{};n.data$=Jr.cloneDeep(c)},{immediate:!0});function o(){const s=ie.drawData.nodeDataArray.findIndex(u=>n.data$.id===u.id),c=Jr.cloneDeep(n.data$);ie.drawData.nodeDataArray.splice(s,1,c),Bt()}return(s,c)=>{const u=ve("el-tab-pane"),d=ve("el-empty"),g=ve("el-tabs"),m=ve("el-drawer");return pe(),dr(m,{modelValue:r.value,"onUpdate:modelValue":c[3]||(c[3]=x=>r.value=x),title:U(n).data$.tableName,direction:"rtl",class:"entity-view",size:1e3,"close-on-click-modal":!1},{default:V(()=>[j("div",bv,[j("div",Av,[Dv,K(U($a),{val:U(n).data$.tableName,"onUpdate:val":c[0]||(c[0]=x=>U(n).data$.tableName=x),onChange:o},null,8,["val"])]),j("div",Bv,[Ev,K(U($a),{val:U(n).data$.englishName,"onUpdate:val":c[1]||(c[1]=x=>U(n).data$.englishName=x),onChange:o},null,8,["val"])])]),K(g,{modelValue:U(n).activeName,"onUpdate:modelValue":c[2]||(c[2]=x=>U(n).activeName=x),class:"table-tabs flex-grow"},{default:V(()=>[K(u,{label:"属性",name:"n1"},{default:V(()=>[K(Tv)]),_:1}),K(u,{label:"索引",name:"n2"},{default:V(()=>[K(d,{description:"构建中"})]),_:1}),K(u,{disabled:"",label:"物理表",name:"n3"},{default:V(()=>[K(d,{description:"构建中"})]),_:1}),K(u,{label:"引用",name:"n4"},{default:V(()=>[K(d,{description:"构建中"})]),_:1}),K(u,{label:"操作日志",name:"n5"},{default:V(()=>[K(d,{description:"构建中"})]),_:1}),K(u,{label:"备注",name:"n6"},{default:V(()=>[K(d,{description:"构建中"})]),_:1}),K(u,{disabled:"",label:"答疑区",name:"n7"},{default:V(()=>[K(d,{description:"构建中"})]),_:1})]),_:1},8,["modelValue"])]),_:1},8,["modelValue","title"])}}},Sv=j("div",null,[j("div",{id:"canvas",class:"canvas"})],-1),Fv={__name:"PanelCenter",setup(i){zu(()=>{r(!0)}),Va(()=>Kn.checkedThemeId,()=>{r()});function r(n=!1){let o={};Kn.checkedThemeId===Eu.id&&(o=Eu);let s=o.entityInfos instanceof Array?o.entityInfos:[],c=o.graphics?o.graphics:null,u=()=>{c?(c=JSON.parse(c),c.nodeDataArray||(c.nodeDataArray=[]),c.linkDataArray||(c.linkDataArray=[]),c.markDataArray||(c.markDataArray=[]),c.noteDataArray||(c.noteDataArray=[])):c={nodeDataArray:[],linkDataArray:[],markDataArray:[],noteDataArray:[]}},d=()=>{let m=s.map(x=>x.id);c.linkDataArray=c.linkDataArray.filter(x=>m.includes(x.from)&&m.includes(x.to)),c.nodeDataArray=c.nodeDataArray.filter(x=>m.includes(x.key)),qu(()=>{ie.updateLineStatus++})},g=()=>{c.nodeDataArray.length&&c.nodeDataArray.forEach(m=>{let x=s.find(v=>v.id===m.key);x&&Object.assign(m,x)})};u(),d(),g(),ie.drawData=c,ie.entityList=o.entityInfos||[],F0.value=Jr.cloneDeep(c),ie.graphicsId=o.id,ie.updateUseDrawDataStatus++,ie.panelVisible=!0,n?R0():Bt()}return(n,o)=>(pe(),Me("div",null,[Sv,K(Pv)]))}},Gu=[{id:1,parentId:0,themeName:"主题树",isFiles:!0},{id:Yi,themeName:"模型工具库",isFiles:!1,parentId:1},{id:2,themeName:"一级1",isFiles:!0,parentId:1},{id:3,themeName:"一级2",isFiles:!0,parentId:1},{id:4,themeName:"二级1-1",isFiles:!1,hasData:!0,parentId:2},{id:5,themeName:"二级1-2",isFiles:!1,hasData:!1,parentId:2}];function vc(i,r={rootId:0}){const n=[],o=i.reduce((s,c)=>(s[c.id]=c,s),{});for(const s of i){if(s.parentId===r.rootId){n.push(s);continue}if(s.parentId in o){const c=o[s.parentId];c.children=c.children||[],c.children.push(s)}}return n}vc([{id:1,name:"部门A",parentId:0},{id:2,name:"部门B",parentId:0},{id:3,name:"部门C",parentId:1},{id:4,name:"部门D",parentId:1},{id:5,name:"部门E",parentId:2},{id:6,name:"部门F",parentId:3},{id:7,name:"部门G",parentId:2},{id:8,name:"部门H",parentId:4}]);const Rv={class:"px-5 py-3"},Cv={class:"themes-view"},Kv={key:0,class:"flex-grow flex items-center hide-dropdown"},Mv=["onClick"],Lv={key:1,class:"flex-grow"},kv={class:"el-dropdown-link"},Wv={__name:"PanelLeft",setup(i){const{proxy:r}=qa(),n=jr({dataList:[],treeData:[]});async function o(){n.dataList=Gu}function s(){n.treeData=vc(Jr.cloneDeep(n.dataList)),console.log("--------",n.treeData)}async function c(){await o(),s(),x(Yi)}c();function u(v,T){const D={parentId:v,id:Zt(5),themeName:`名称_${Zt(3)}`,isFiles:T,isEdit:!0};n.dataList.push(D),s()}function d(v){const T=n.dataList.findIndex(D=>D.id===v.id);n.dataList.splice(T,1,{...v,isEdit:!1}),s()}function g(v){const T=n.dataList.findIndex(D=>D.id===v);n.dataList.splice(T,1,{...Gu,isEdit:!0}),s()}function m(v){r.$confirm("确认删除主题/目录?","Warning",{confirmButtonText:"OK",cancelButtonText:"Cancel",type:"warning"}).then(()=>{const T=n.dataList.findIndex(D=>D.id===v);n.dataList.splice(T,1),s(),r.$message({type:"success",message:"Delete completed"})})}function x(v){Kn.checkedThemeId=v}return(v,T)=>{const D=ve("el-icon"),b=ve("el-dropdown-item"),E=ve("el-dropdown-menu"),R=ve("el-dropdown"),L=ve("el-input"),k=ve("el-tree");return pe(),Me("div",Rv,[j("div",Cv,[j("div",null,[K(k,{style:{"max-width":"600px"},data:n.treeData,"node-key":"id","default-expand-all":"","expand-on-click-node":!1,teleported:!1},{default:V(({data:C})=>[j("div",{class:Au(["flex-grow flex pr-4 base-input-wrap",{active:U(Kn).checkedThemeId===C.id}])},[C.isEdit?(pe(),dr(L,{key:1,ref:"input",size:"small",modelValue:C.themeName,"onUpdate:modelValue":I=>C.themeName=I,onBlur:I=>d(C),onKeydown:ki(I=>d(C),["enter"]),class:"my-input"},null,8,["modelValue","onUpdate:modelValue","onBlur","onKeydown"])):(pe(),Me("div",Kv,[K(U(Ke),{icon:C.isFiles?"folder":"file",class:Au(["my-icon mr-1",{"text-blue":C.isFiles}])},null,8,["icon","class"]),C.isFiles?(pe(),Me("span",Lv,Ua(C.themeName),1)):(pe(),Me("span",{key:0,class:"flex-grow theme-name",onClick:I=>x(C.id)},Ua(C.themeName),9,Mv)),K(R,{class:"ml-auto my-dropdown"},{dropdown:V(()=>[K(E,null,{default:V(()=>[C.isFiles?(pe(),dr(b,{key:0,onClick:I=>u(C.id,!1)},{default:V(()=>[qr("新建主题")]),_:2},1032,["onClick"])):An("",!0),C.isFiles?(pe(),dr(b,{key:1,onClick:I=>u(C.id,!1)},{default:V(()=>[qr("新建文件夹")]),_:2},1032,["onClick"])):An("",!0),C.id!=="0"?(pe(),dr(b,{key:2,onClick:I=>g(C.id)},{default:V(()=>[qr("重命名")]),_:2},1032,["onClick"])):An("",!0),C.id!=="0"?(pe(),dr(b,{key:3,onClick:I=>m(C.id)},{default:V(()=>[qr("删除")]),_:2},1032,["onClick"])):An("",!0)]),_:2},1024)]),default:V(()=>[j("div",kv,[K(D,{class:"el-icon--right"},{default:V(()=>[K(U(_0))]),_:1})])]),_:2},1024)]))],2)]),_:1},8,["data"])])])])}}},Uv={class:"canvas-wrapper"},Ov={class:"header"},$v={class:"main"},Hv={class:"left"},Iv={key:0,class:"content"},Gv={__name:"index",setup(i){return(r,n)=>(pe(),Me("div",Uv,[j("div",Ov,[K(Nx)]),j("div",$v,[j("div",Hv,[K(Wv)]),U(Kn).checkedThemeId?(pe(),Me("div",Iv,[K(Fv)])):An("",!0)])]))}};export{Gv as default};
